function Ep(l,n){for(var s=0;s<n.length;s++){const i=n[s];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in l)){const d=Object.getOwnPropertyDescriptor(i,c);d&&Object.defineProperty(l,c,d.get?d:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function xc(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function gg(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var n=l.default;if(typeof n=="function"){var s=function i(){return this instanceof i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(l).forEach(function(i){var c=Object.getOwnPropertyDescriptor(l,i);Object.defineProperty(s,i,c.get?c:{enumerable:!0,get:function(){return l[i]}})}),s}var $u={exports:{}},Ss={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function kp(){if(T0)return Ss;T0=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(i,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:l,type:i,key:f,ref:c!==void 0?c:null,props:d}}return Ss.Fragment=n,Ss.jsx=s,Ss.jsxs=s,Ss}var O0;function Np(){return O0||(O0=1,$u.exports=kp()),$u.exports}var h=Np(),Vu={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function Tp(){if(A0)return he;A0=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=x&&j[x]||j["@@iterator"],typeof j=="function"?j:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,O={};function D(j,q,Q){this.props=j,this.context=q,this.refs=O,this.updater=Q||k}D.prototype.isReactComponent={},D.prototype.setState=function(j,q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,q,"setState")},D.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function M(){}M.prototype=D.prototype;function H(j,q,Q){this.props=j,this.context=q,this.refs=O,this.updater=Q||k}var K=H.prototype=new M;K.constructor=H,T(K,D.prototype),K.isPureReactComponent=!0;var F=Array.isArray;function I(){}var J={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function ye(j,q,Q){var Z=Q.ref;return{$$typeof:l,type:j,key:q,ref:Z!==void 0?Z:null,props:Q}}function at(j,q){return ye(j.type,q,j.props)}function W(j){return typeof j=="object"&&j!==null&&j.$$typeof===l}function P(j){var q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Q){return q[Q]})}var Ee=/\/+/g;function _e(j,q){return typeof j=="object"&&j!==null&&j.key!=null?P(""+j.key):q.toString(36)}function ie(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(I,I):(j.status="pending",j.then(function(q){j.status==="pending"&&(j.status="fulfilled",j.value=q)},function(q){j.status==="pending"&&(j.status="rejected",j.reason=q)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function z(j,q,Q,Z,oe){var de=typeof j;(de==="undefined"||de==="boolean")&&(j=null);var Y=!1;if(j===null)Y=!0;else switch(de){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(j.$$typeof){case l:case n:Y=!0;break;case b:return Y=j._init,z(Y(j._payload),q,Q,Z,oe)}}if(Y)return oe=oe(j),Y=Z===""?"."+_e(j,0):Z,F(oe)?(Q="",Y!=null&&(Q=Y.replace(Ee,"$&/")+"/"),z(oe,q,Q,"",function(yt){return yt})):oe!=null&&(W(oe)&&(oe=at(oe,Q+(oe.key==null||j&&j.key===oe.key?"":(""+oe.key).replace(Ee,"$&/")+"/")+Y)),q.push(oe)),1;Y=0;var fe=Z===""?".":Z+":";if(F(j))for(var ke=0;ke<j.length;ke++)Z=j[ke],de=fe+_e(Z,ke),Y+=z(Z,q,Q,de,oe);else if(ke=S(j),typeof ke=="function")for(j=ke.call(j),ke=0;!(Z=j.next()).done;)Z=Z.value,de=fe+_e(Z,ke++),Y+=z(Z,q,Q,de,oe);else if(de==="object"){if(typeof j.then=="function")return z(ie(j),q,Q,Z,oe);throw q=String(j),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Y}function R(j,q,Q){if(j==null)return j;var Z=[],oe=0;return z(j,Z,"","",function(de){return q.call(Q,de,oe++)}),Z}function X(j){if(j._status===-1){var q=j._result;q=q(),q.then(function(Q){(j._status===0||j._status===-1)&&(j._status=1,j._result=Q)},function(Q){(j._status===0||j._status===-1)&&(j._status=2,j._result=Q)}),j._status===-1&&(j._status=0,j._result=q)}if(j._status===1)return j._result.default;throw j._result}var ne=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},ce={map:R,forEach:function(j,q,Q){R(j,function(){q.apply(this,arguments)},Q)},count:function(j){var q=0;return R(j,function(){q++}),q},toArray:function(j){return R(j,function(q){return q})||[]},only:function(j){if(!W(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return he.Activity=w,he.Children=ce,he.Component=D,he.Fragment=s,he.Profiler=c,he.PureComponent=H,he.StrictMode=i,he.Suspense=p,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,he.__COMPILER_RUNTIME={__proto__:null,c:function(j){return J.H.useMemoCache(j)}},he.cache=function(j){return function(){return j.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(j,q,Q){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Z=T({},j.props),oe=j.key;if(q!=null)for(de in q.key!==void 0&&(oe=""+q.key),q)!pe.call(q,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&q.ref===void 0||(Z[de]=q[de]);var de=arguments.length-2;if(de===1)Z.children=Q;else if(1<de){for(var Y=Array(de),fe=0;fe<de;fe++)Y[fe]=arguments[fe+2];Z.children=Y}return ye(j.type,oe,Z)},he.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:d,_context:j},j},he.createElement=function(j,q,Q){var Z,oe={},de=null;if(q!=null)for(Z in q.key!==void 0&&(de=""+q.key),q)pe.call(q,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(oe[Z]=q[Z]);var Y=arguments.length-2;if(Y===1)oe.children=Q;else if(1<Y){for(var fe=Array(Y),ke=0;ke<Y;ke++)fe[ke]=arguments[ke+2];oe.children=fe}if(j&&j.defaultProps)for(Z in Y=j.defaultProps,Y)oe[Z]===void 0&&(oe[Z]=Y[Z]);return ye(j,de,oe)},he.createRef=function(){return{current:null}},he.forwardRef=function(j){return{$$typeof:m,render:j}},he.isValidElement=W,he.lazy=function(j){return{$$typeof:b,_payload:{_status:-1,_result:j},_init:X}},he.memo=function(j,q){return{$$typeof:y,type:j,compare:q===void 0?null:q}},he.startTransition=function(j){var q=J.T,Q={};J.T=Q;try{var Z=j(),oe=J.S;oe!==null&&oe(Q,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(I,ne)}catch(de){ne(de)}finally{q!==null&&Q.types!==null&&(q.types=Q.types),J.T=q}},he.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},he.use=function(j){return J.H.use(j)},he.useActionState=function(j,q,Q){return J.H.useActionState(j,q,Q)},he.useCallback=function(j,q){return J.H.useCallback(j,q)},he.useContext=function(j){return J.H.useContext(j)},he.useDebugValue=function(){},he.useDeferredValue=function(j,q){return J.H.useDeferredValue(j,q)},he.useEffect=function(j,q){return J.H.useEffect(j,q)},he.useEffectEvent=function(j){return J.H.useEffectEvent(j)},he.useId=function(){return J.H.useId()},he.useImperativeHandle=function(j,q,Q){return J.H.useImperativeHandle(j,q,Q)},he.useInsertionEffect=function(j,q){return J.H.useInsertionEffect(j,q)},he.useLayoutEffect=function(j,q){return J.H.useLayoutEffect(j,q)},he.useMemo=function(j,q){return J.H.useMemo(j,q)},he.useOptimistic=function(j,q){return J.H.useOptimistic(j,q)},he.useReducer=function(j,q,Q){return J.H.useReducer(j,q,Q)},he.useRef=function(j){return J.H.useRef(j)},he.useState=function(j){return J.H.useState(j)},he.useSyncExternalStore=function(j,q,Q){return J.H.useSyncExternalStore(j,q,Q)},he.useTransition=function(){return J.H.useTransition()},he.version="19.2.0",he}var C0;function wc(){return C0||(C0=1,Vu.exports=Tp()),Vu.exports}var G=wc();const Op=xc(G);var Gu={exports:{}},js={},Yu={exports:{}},Pu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function Ap(){return R0||(R0=1,(function(l){function n(z,R){var X=z.length;z.push(R);e:for(;0<X;){var ne=X-1>>>1,ce=z[ne];if(0<c(ce,R))z[ne]=R,z[X]=ce,X=ne;else break e}}function s(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var R=z[0],X=z.pop();if(X!==R){z[0]=X;e:for(var ne=0,ce=z.length,j=ce>>>1;ne<j;){var q=2*(ne+1)-1,Q=z[q],Z=q+1,oe=z[Z];if(0>c(Q,X))Z<ce&&0>c(oe,Q)?(z[ne]=oe,z[Z]=X,ne=Z):(z[ne]=Q,z[q]=X,ne=q);else if(Z<ce&&0>c(oe,X))z[ne]=oe,z[Z]=X,ne=Z;else break e}}return R}function c(z,R){var X=z.sortIndex-R.sortIndex;return X!==0?X:z.id-R.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();l.unstable_now=function(){return f.now()-m}}var p=[],y=[],b=1,w=null,x=3,S=!1,k=!1,T=!1,O=!1,D=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function K(z){for(var R=s(y);R!==null;){if(R.callback===null)i(y);else if(R.startTime<=z)i(y),R.sortIndex=R.expirationTime,n(p,R);else break;R=s(y)}}function F(z){if(T=!1,K(z),!k)if(s(p)!==null)k=!0,I||(I=!0,P());else{var R=s(y);R!==null&&ie(F,R.startTime-z)}}var I=!1,J=-1,pe=5,ye=-1;function at(){return O?!0:!(l.unstable_now()-ye<pe)}function W(){if(O=!1,I){var z=l.unstable_now();ye=z;var R=!0;try{e:{k=!1,T&&(T=!1,M(J),J=-1),S=!0;var X=x;try{t:{for(K(z),w=s(p);w!==null&&!(w.expirationTime>z&&at());){var ne=w.callback;if(typeof ne=="function"){w.callback=null,x=w.priorityLevel;var ce=ne(w.expirationTime<=z);if(z=l.unstable_now(),typeof ce=="function"){w.callback=ce,K(z),R=!0;break t}w===s(p)&&i(p),K(z)}else i(p);w=s(p)}if(w!==null)R=!0;else{var j=s(y);j!==null&&ie(F,j.startTime-z),R=!1}}break e}finally{w=null,x=X,S=!1}R=void 0}}finally{R?P():I=!1}}}var P;if(typeof H=="function")P=function(){H(W)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,_e=Ee.port2;Ee.port1.onmessage=W,P=function(){_e.postMessage(null)}}else P=function(){D(W,0)};function ie(z,R){J=D(function(){z(l.unstable_now())},R)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(z){z.callback=null},l.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<z?Math.floor(1e3/z):5},l.unstable_getCurrentPriorityLevel=function(){return x},l.unstable_next=function(z){switch(x){case 1:case 2:case 3:var R=3;break;default:R=x}var X=x;x=R;try{return z()}finally{x=X}},l.unstable_requestPaint=function(){O=!0},l.unstable_runWithPriority=function(z,R){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=x;x=z;try{return R()}finally{x=X}},l.unstable_scheduleCallback=function(z,R,X){var ne=l.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ne+X:ne):X=ne,z){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=X+ce,z={id:b++,callback:R,priorityLevel:z,startTime:X,expirationTime:ce,sortIndex:-1},X>ne?(z.sortIndex=X,n(y,z),s(p)===null&&z===s(y)&&(T?(M(J),J=-1):T=!0,ie(F,X-ne))):(z.sortIndex=ce,n(p,z),k||S||(k=!0,I||(I=!0,P()))),z},l.unstable_shouldYield=at,l.unstable_wrapCallback=function(z){var R=x;return function(){var X=x;x=R;try{return z.apply(this,arguments)}finally{x=X}}}})(Pu)),Pu}var U0;function Cp(){return U0||(U0=1,Yu.exports=Ap()),Yu.exports}var Ku={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function Rp(){if(D0)return ut;D0=1;var l=wc();function n(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(p,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:p,containerInfo:y,implementation:b}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ut.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return d(p,y,null,b)},ut.flushSync=function(p){var y=f.T,b=i.p;try{if(f.T=null,i.p=2,p)return p()}finally{f.T=y,i.p=b,i.d.f()}},ut.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(p,y))},ut.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},ut.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,w=m(b,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,S=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?i.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:S}):b==="script"&&i.d.X(p,{crossOrigin:w,integrity:x,fetchPriority:S,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ut.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);i.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(p)},ut.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=m(b,y.crossOrigin);i.d.L(p,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ut.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=m(y.as,y.crossOrigin);i.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(p)},ut.requestFormReset=function(p){i.d.r(p)},ut.unstable_batchedUpdates=function(p,y){return p(y)},ut.useFormState=function(p,y,b){return f.H.useFormState(p,y,b)},ut.useFormStatus=function(){return f.H.useHostTransitionStatus()},ut.version="19.2.0",ut}var M0;function Up(){if(M0)return Ku.exports;M0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Ku.exports=Rp(),Ku.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function Dp(){if(z0)return js;z0=1;var l=Cp(),n=wc(),s=Up();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(i(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,r=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(r=o.return,r!==null){a=r;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return p(o),e;if(u===r)return p(o),t;u=u.sibling}throw Error(i(188))}if(a.return!==r.return)a=o,r=u;else{for(var g=!1,v=o.child;v;){if(v===a){g=!0,a=o,r=u;break}if(v===r){g=!0,r=o,a=u;break}v=v.sibling}if(!g){for(v=u.child;v;){if(v===a){g=!0,a=u,r=o;break}if(v===r){g=!0,r=u,a=o;break}v=v.sibling}if(!g)throw Error(i(189))}}if(a.alternate!==r)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),H=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),ye=Symbol.for("react.activity"),at=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Symbol.for("react.client.reference");function _e(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ee?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case D:return"Profiler";case O:return"StrictMode";case F:return"Suspense";case I:return"SuspenseList";case ye:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case H:return e.displayName||"Context";case M:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return t=e.displayName||null,t!==null?t:_e(e.type)||"Memo";case pe:t=e._payload,e=e._init;try{return _e(e(t))}catch{}}return null}var ie=Array.isArray,z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ne=[],ce=-1;function j(e){return{current:e}}function q(e){0>ce||(e.current=ne[ce],ne[ce]=null,ce--)}function Q(e,t){ce++,ne[ce]=e.current,e.current=t}var Z=j(null),oe=j(null),de=j(null),Y=j(null);function fe(e,t){switch(Q(de,t),Q(oe,e),Q(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Zf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Zf(t),e=Ff(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(Z),Q(Z,e)}function ke(){q(Z),q(oe),q(de)}function yt(e){e.memoizedState!==null&&Q(Y,e);var t=Z.current,a=Ff(t,e.type);t!==a&&(Q(oe,e),Q(Z,a))}function pt(e){oe.current===e&&(q(Z),q(oe)),Y.current===e&&(q(Y),bs._currentValue=X)}var na,Mt;function vt(e){if(na===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);na=t&&t[1]||"",Mt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+e+Mt}var da=!1;function Xt(e,t){if(!e||da)return"";da=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(B){var U=B}Reflect.construct(e,[],V)}else{try{V.call()}catch(B){U=B}e.call(V.prototype)}}else{try{throw Error()}catch(B){U=B}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(B){if(B&&U&&typeof B.stack=="string")return[B.stack,U.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),g=u[0],v=u[1];if(g&&v){var _=g.split(`
`),C=v.split(`
`);for(o=r=0;r<_.length&&!_[r].includes("DetermineComponentFrameRoot");)r++;for(;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;if(r===_.length||o===C.length)for(r=_.length-1,o=C.length-1;1<=r&&0<=o&&_[r]!==C[o];)o--;for(;1<=r&&0<=o;r--,o--)if(_[r]!==C[o]){if(r!==1||o!==1)do if(r--,o--,0>o||_[r]!==C[o]){var L=`
`+_[r].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=r&&0<=o);break}}}finally{da=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?vt(a):""}function ra(e,t){switch(e.tag){case 26:case 27:case 5:return vt(e.type);case 16:return vt("Lazy");case 13:return e.child!==t&&t!==null?vt("Suspense Fallback"):vt("Suspense");case 19:return vt("SuspenseList");case 0:case 15:return Xt(e.type,!1);case 11:return Xt(e.type.render,!1);case 1:return Xt(e.type,!0);case 31:return vt("Activity");default:return""}}function Qt(e){try{var t="",a=null;do t+=ra(e,a),a=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var ln=Object.prototype.hasOwnProperty,It=l.unstable_scheduleCallback,sa=l.unstable_cancelCallback,zs=l.unstable_shouldYield,_l=l.unstable_requestPaint,dt=l.unstable_now,Sl=l.unstable_getCurrentPriorityLevel,Bs=l.unstable_ImmediatePriority,Ls=l.unstable_UserBlockingPriority,Dn=l.unstable_NormalPriority,jl=l.unstable_LowPriority,qs=l.unstable_IdlePriority,El=l.log,kl=l.unstable_setDisableYieldValue,on=null,ht=null;function ia(e){if(typeof El=="function"&&kl(e),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(on,e)}catch{}}var ft=Math.clz32?Math.clz32:Ze,Nl=Math.log,Se=Math.LN2;function Ze(e){return e>>>=0,e===0?32:31-(Nl(e)/Se|0)|0}var Ra=256,Hs=262144,$s=4194304;function un(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Vs(e,t,a){var r=e.pendingLanes;if(r===0)return 0;var o=0,u=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var v=r&134217727;return v!==0?(r=v&~u,r!==0?o=un(r):(g&=v,g!==0?o=un(g):a||(a=v&~e,a!==0&&(o=un(a))))):(v=r&~u,v!==0?o=un(v):g!==0?o=un(g):a||(a=r&~e,a!==0&&(o=un(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function Rr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function hm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cc(){var e=$s;return $s<<=1,($s&62914560)===0&&($s=4194304),e}function Tl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ur(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fm(e,t,a,r,o,u){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,_=e.expirationTimes,C=e.hiddenUpdates;for(a=g&~a;0<a;){var L=31-ft(a),V=1<<L;v[L]=0,_[L]=-1;var U=C[L];if(U!==null)for(C[L]=null,L=0;L<U.length;L++){var B=U[L];B!==null&&(B.lane&=-536870913)}a&=~V}r!==0&&Rc(e,r,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(g&~t))}function Rc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ft(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|a&261930}function Uc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var r=31-ft(a),o=1<<r;o&t|e[r]&t&&(e[r]|=t),a&=~o}}function Dc(e,t){var a=t&-t;return a=(a&42)!==0?1:Ol(a),(a&(e.suspendedLanes|t))!==0?0:a}function Ol(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Al(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Mc(){var e=R.p;return e!==0?e:(e=window.event,e===void 0?32:w0(e.type))}function zc(e,t){var a=R.p;try{return R.p=e,t()}finally{R.p=a}}var Ua=Math.random().toString(36).slice(2),nt="__reactFiber$"+Ua,bt="__reactProps$"+Ua,Mn="__reactContainer$"+Ua,Cl="__reactEvents$"+Ua,gm="__reactListeners$"+Ua,mm="__reactHandles$"+Ua,Bc="__reactResources$"+Ua,Dr="__reactMarker$"+Ua;function Rl(e){delete e[nt],delete e[bt],delete e[Cl],delete e[gm],delete e[mm]}function zn(e){var t=e[nt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Mn]||a[nt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=s0(e);e!==null;){if(a=e[nt])return a;e=s0(e)}return t}e=a,a=e.parentNode}return null}function Bn(e){if(e=e[nt]||e[Mn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Mr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Ln(e){var t=e[Bc];return t||(t=e[Bc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Dr]=!0}var Lc=new Set,qc={};function cn(e,t){qn(e,t),qn(e+"Capture",t)}function qn(e,t){for(qc[e]=t,e=0;e<t.length;e++)Lc.add(t[e])}var ym=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hc={},$c={};function pm(e){return ln.call($c,e)?!0:ln.call(Hc,e)?!1:ym.test(e)?$c[e]=!0:(Hc[e]=!0,!1)}function Gs(e,t,a){if(pm(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ys(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ha(e,t,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+r)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vm(e,t,a){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(g){a=""+g,u.call(this,g)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ul(e){if(!e._valueTracker){var t=Vc(e)?"checked":"value";e._valueTracker=vm(e,t,""+e[t])}}function Gc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),r="";return e&&(r=Vc(e)?e.checked?"true":"false":e.value),e=r,e!==a?(t.setValue(e),!0):!1}function Ps(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bm=/[\n"\\]/g;function Bt(e){return e.replace(bm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Dl(e,t,a,r,o,u,g,v){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+zt(t)):e.value!==""+zt(t)&&(e.value=""+zt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Ml(e,g,zt(t)):a!=null?Ml(e,g,zt(a)):r!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+zt(v):e.removeAttribute("name")}function Yc(e,t,a,r,o,u,g,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Ul(e);return}a=a!=null?""+zt(a):"",t=t!=null?""+zt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=v?e.checked:!!r,e.defaultChecked=!!r,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ul(e)}function Ml(e,t,a){t==="number"&&Ps(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Hn(e,t,a,r){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&r&&(e[a].defaultSelected=!0)}else{for(a=""+zt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Pc(e,t,a){if(t!=null&&(t=""+zt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+zt(a):""}function Kc(e,t,a,r){if(t==null){if(r!=null){if(a!=null)throw Error(i(92));if(ie(r)){if(1<r.length)throw Error(i(93));r=r[0]}a=r}a==null&&(a=""),t=a}a=zt(t),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r),Ul(e)}function $n(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var xm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xc(e,t,a){var r=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,a):typeof a!="number"||a===0||xm.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Qc(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&a[o]!==r&&Xc(e,o,r)}else for(var u in t)t.hasOwnProperty(u)&&Xc(e,u,t[u])}function zl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_m=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ks(e){return _m.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fa(){}var Bl=null;function Ll(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vn=null,Gn=null;function Ic(e){var t=Bn(e);if(t&&(e=t.stateNode)){var a=e[bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Dl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Bt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var r=a[t];if(r!==e&&r.form===e.form){var o=r[bt]||null;if(!o)throw Error(i(90));Dl(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)r=a[t],r.form===e.form&&Gc(r)}break e;case"textarea":Pc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Hn(e,!!a.multiple,t,!1)}}}var ql=!1;function Jc(e,t,a){if(ql)return e(t,a);ql=!0;try{var r=e(t);return r}finally{if(ql=!1,(Vn!==null||Gn!==null)&&(Ui(),Vn&&(t=Vn,e=Gn,Gn=Vn=null,Ic(t),e)))for(t=0;t<e.length;t++)Ic(e[t])}}function zr(e,t){var a=e.stateNode;if(a===null)return null;var r=a[bt]||null;if(r===null)return null;a=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hl=!1;if(ga)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{Hl=!1}var Da=null,$l=null,Xs=null;function Zc(){if(Xs)return Xs;var e,t=$l,a=t.length,r,o="value"in Da?Da.value:Da.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var g=a-e;for(r=1;r<=g&&t[a-r]===o[u-r];r++);return Xs=o.slice(e,1<r?1-r:void 0)}function Qs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Is(){return!0}function Fc(){return!1}function xt(e){function t(a,r,o,u,g){this._reactName=a,this._targetInst=o,this.type=r,this.nativeEvent=u,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Is:Fc,this.isPropagationStopped=Fc,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),t}var dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=xt(dn),Lr=w({},dn,{view:0,detail:0}),Sm=xt(Lr),Vl,Gl,qr,Zs=w({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qr&&(qr&&e.type==="mousemove"?(Vl=e.screenX-qr.screenX,Gl=e.screenY-qr.screenY):Gl=Vl=0,qr=e),Vl)},movementY:function(e){return"movementY"in e?e.movementY:Gl}}),Wc=xt(Zs),jm=w({},Zs,{dataTransfer:0}),Em=xt(jm),km=w({},Lr,{relatedTarget:0}),Yl=xt(km),Nm=w({},dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Tm=xt(Nm),Om=w({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Am=xt(Om),Cm=w({},dn,{data:0}),ed=xt(Cm),Rm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Um={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dm[e])?!!t[e]:!1}function Pl(){return Mm}var zm=w({},Lr,{key:function(e){if(e.key){var t=Rm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Um[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pl,charCode:function(e){return e.type==="keypress"?Qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bm=xt(zm),Lm=w({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),td=xt(Lm),qm=w({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pl}),Hm=xt(qm),$m=w({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vm=xt($m),Gm=w({},Zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ym=xt(Gm),Pm=w({},dn,{newState:0,oldState:0}),Km=xt(Pm),Xm=[9,13,27,32],Kl=ga&&"CompositionEvent"in window,Hr=null;ga&&"documentMode"in document&&(Hr=document.documentMode);var Qm=ga&&"TextEvent"in window&&!Hr,ad=ga&&(!Kl||Hr&&8<Hr&&11>=Hr),nd=" ",rd=!1;function sd(e,t){switch(e){case"keyup":return Xm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yn=!1;function Im(e,t){switch(e){case"compositionend":return id(t);case"keypress":return t.which!==32?null:(rd=!0,nd);case"textInput":return e=t.data,e===nd&&rd?null:e;default:return null}}function Jm(e,t){if(Yn)return e==="compositionend"||!Kl&&sd(e,t)?(e=Zc(),Xs=$l=Da=null,Yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ad&&t.locale!=="ko"?null:t.data;default:return null}}var Zm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zm[e.type]:t==="textarea"}function od(e,t,a,r){Vn?Gn?Gn.push(r):Gn=[r]:Vn=r,t=Hi(t,"onChange"),0<t.length&&(a=new Js("onChange","change",null,a,r),e.push({event:a,listeners:t}))}var $r=null,Vr=null;function Fm(e){Pf(e,0)}function Fs(e){var t=Mr(e);if(Gc(t))return e}function ud(e,t){if(e==="change")return t}var cd=!1;if(ga){var Xl;if(ga){var Ql="oninput"in document;if(!Ql){var dd=document.createElement("div");dd.setAttribute("oninput","return;"),Ql=typeof dd.oninput=="function"}Xl=Ql}else Xl=!1;cd=Xl&&(!document.documentMode||9<document.documentMode)}function hd(){$r&&($r.detachEvent("onpropertychange",fd),Vr=$r=null)}function fd(e){if(e.propertyName==="value"&&Fs(Vr)){var t=[];od(t,Vr,e,Ll(e)),Jc(Fm,t)}}function Wm(e,t,a){e==="focusin"?(hd(),$r=t,Vr=a,$r.attachEvent("onpropertychange",fd)):e==="focusout"&&hd()}function ey(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fs(Vr)}function ty(e,t){if(e==="click")return Fs(t)}function ay(e,t){if(e==="input"||e==="change")return Fs(t)}function ny(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:ny;function Gr(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var o=a[r];if(!ln.call(t,o)||!kt(e[o],t[o]))return!1}return!0}function gd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function md(e,t){var a=gd(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gd(a)}}function yd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ps(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ps(e.document)}return t}function Il(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ry=ga&&"documentMode"in document&&11>=document.documentMode,Pn=null,Jl=null,Yr=null,Zl=!1;function vd(e,t,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zl||Pn==null||Pn!==Ps(r)||(r=Pn,"selectionStart"in r&&Il(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yr&&Gr(Yr,r)||(Yr=r,r=Hi(Jl,"onSelect"),0<r.length&&(t=new Js("onSelect","select",null,t,a),e.push({event:t,listeners:r}),t.target=Pn)))}function hn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Kn={animationend:hn("Animation","AnimationEnd"),animationiteration:hn("Animation","AnimationIteration"),animationstart:hn("Animation","AnimationStart"),transitionrun:hn("Transition","TransitionRun"),transitionstart:hn("Transition","TransitionStart"),transitioncancel:hn("Transition","TransitionCancel"),transitionend:hn("Transition","TransitionEnd")},Fl={},bd={};ga&&(bd=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function fn(e){if(Fl[e])return Fl[e];if(!Kn[e])return e;var t=Kn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in bd)return Fl[e]=t[a];return e}var xd=fn("animationend"),wd=fn("animationiteration"),_d=fn("animationstart"),sy=fn("transitionrun"),iy=fn("transitionstart"),ly=fn("transitioncancel"),Sd=fn("transitionend"),jd=new Map,Wl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wl.push("scrollEnd");function Jt(e,t){jd.set(e,t),cn(t,[e])}var Ws=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Lt=[],Xn=0,eo=0;function ei(){for(var e=Xn,t=eo=Xn=0;t<e;){var a=Lt[t];Lt[t++]=null;var r=Lt[t];Lt[t++]=null;var o=Lt[t];Lt[t++]=null;var u=Lt[t];if(Lt[t++]=null,r!==null&&o!==null){var g=r.pending;g===null?o.next=o:(o.next=g.next,g.next=o),r.pending=o}u!==0&&Ed(a,o,u)}}function ti(e,t,a,r){Lt[Xn++]=e,Lt[Xn++]=t,Lt[Xn++]=a,Lt[Xn++]=r,eo|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function to(e,t,a,r){return ti(e,t,a,r),ai(e)}function gn(e,t){return ti(e,null,null,t),ai(e)}function Ed(e,t,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,r=u.alternate,r!==null&&(r.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-ft(a),e=u.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=a|536870912),u):null}function ai(e){if(50<hs)throw hs=0,du=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Qn={};function oy(e,t,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,a,r){return new oy(e,t,a,r)}function ao(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ma(e,t){var a=e.alternate;return a===null?(a=Nt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function kd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ni(e,t,a,r,o,u){var g=0;if(r=e,typeof e=="function")ao(e)&&(g=1);else if(typeof e=="string")g=fp(e,a,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ye:return e=Nt(31,a,t,o),e.elementType=ye,e.lanes=u,e;case T:return mn(a.children,o,u,t);case O:g=8,o|=24;break;case D:return e=Nt(12,a,t,o|2),e.elementType=D,e.lanes=u,e;case F:return e=Nt(13,a,t,o),e.elementType=F,e.lanes=u,e;case I:return e=Nt(19,a,t,o),e.elementType=I,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:g=10;break e;case M:g=9;break e;case K:g=11;break e;case J:g=14;break e;case pe:g=16,r=null;break e}g=29,a=Error(i(130,e===null?"null":typeof e,"")),r=null}return t=Nt(g,a,t,o),t.elementType=e,t.type=r,t.lanes=u,t}function mn(e,t,a,r){return e=Nt(7,e,r,t),e.lanes=a,e}function no(e,t,a){return e=Nt(6,e,null,t),e.lanes=a,e}function Nd(e){var t=Nt(18,null,null,0);return t.stateNode=e,t}function ro(e,t,a){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Td=new WeakMap;function qt(e,t){if(typeof e=="object"&&e!==null){var a=Td.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Qt(t)},Td.set(e,t),t)}return{value:e,source:t,stack:Qt(t)}}var In=[],Jn=0,ri=null,Pr=0,Ht=[],$t=0,Ma=null,la=1,oa="";function ya(e,t){In[Jn++]=Pr,In[Jn++]=ri,ri=e,Pr=t}function Od(e,t,a){Ht[$t++]=la,Ht[$t++]=oa,Ht[$t++]=Ma,Ma=e;var r=la;e=oa;var o=32-ft(r)-1;r&=~(1<<o),a+=1;var u=32-ft(t)+o;if(30<u){var g=o-o%5;u=(r&(1<<g)-1).toString(32),r>>=g,o-=g,la=1<<32-ft(t)+o|a<<o|r,oa=u+e}else la=1<<u|a<<o|r,oa=e}function so(e){e.return!==null&&(ya(e,1),Od(e,1,0))}function io(e){for(;e===ri;)ri=In[--Jn],In[Jn]=null,Pr=In[--Jn],In[Jn]=null;for(;e===Ma;)Ma=Ht[--$t],Ht[$t]=null,oa=Ht[--$t],Ht[$t]=null,la=Ht[--$t],Ht[$t]=null}function Ad(e,t){Ht[$t++]=la,Ht[$t++]=oa,Ht[$t++]=Ma,la=t.id,oa=t.overflow,Ma=e}var rt=null,Le=null,je=!1,za=null,Vt=!1,lo=Error(i(519));function Ba(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kr(qt(t,e)),lo}function Cd(e){var t=e.stateNode,a=e.type,r=e.memoizedProps;switch(t[nt]=e,t[bt]=r,a){case"dialog":be("cancel",t),be("close",t);break;case"iframe":case"object":case"embed":be("load",t);break;case"video":case"audio":for(a=0;a<gs.length;a++)be(gs[a],t);break;case"source":be("error",t);break;case"img":case"image":case"link":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"input":be("invalid",t),Yc(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":be("invalid",t);break;case"textarea":be("invalid",t),Kc(t,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||r.suppressHydrationWarning===!0||If(t.textContent,a)?(r.popover!=null&&(be("beforetoggle",t),be("toggle",t)),r.onScroll!=null&&be("scroll",t),r.onScrollEnd!=null&&be("scrollend",t),r.onClick!=null&&(t.onclick=fa),t=!0):t=!1,t||Ba(e,!0)}function Rd(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:Vt=!1;return;case 27:case 3:Vt=!0;return;default:rt=rt.return}}function Zn(e){if(e!==rt)return!1;if(!je)return Rd(e),je=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ku(e.type,e.memoizedProps)),a=!a),a&&Le&&Ba(e),Rd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Le=r0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Le=r0(e)}else t===27?(t=Le,Za(e.type)?(e=Cu,Cu=null,Le=e):Le=t):Le=rt?Yt(e.stateNode.nextSibling):null;return!0}function yn(){Le=rt=null,je=!1}function oo(){var e=za;return e!==null&&(jt===null?jt=e:jt.push.apply(jt,e),za=null),e}function Kr(e){za===null?za=[e]:za.push(e)}var uo=j(null),pn=null,pa=null;function La(e,t,a){Q(uo,t._currentValue),t._currentValue=a}function va(e){e._currentValue=uo.current,q(uo)}function co(e,t,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===a)break;e=e.return}}function ho(e,t,a,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var g=o.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=o;for(var _=0;_<t.length;_++)if(v.context===t[_]){u.lanes|=a,v=u.alternate,v!==null&&(v.lanes|=a),co(u.return,a,e),r||(g=null);break e}u=v.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(i(341));g.lanes|=a,u=g.alternate,u!==null&&(u.lanes|=a),co(g,a,e),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===e){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function Fn(e,t,a,r){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(i(387));if(g=g.memoizedProps,g!==null){var v=o.type;kt(o.pendingProps.value,g.value)||(e!==null?e.push(v):e=[v])}}else if(o===Y.current){if(g=o.alternate,g===null)throw Error(i(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(bs):e=[bs])}o=o.return}e!==null&&ho(t,e,a,r),t.flags|=262144}function si(e){for(e=e.firstContext;e!==null;){if(!kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vn(e){pn=e,pa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function st(e){return Ud(pn,e)}function ii(e,t){return pn===null&&vn(e),Ud(e,t)}function Ud(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},pa===null){if(e===null)throw Error(i(308));pa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else pa=pa.next=t;return a}var uy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},cy=l.unstable_scheduleCallback,dy=l.unstable_NormalPriority,Ke={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fo(){return{controller:new uy,data:new Map,refCount:0}}function Xr(e){e.refCount--,e.refCount===0&&cy(dy,function(){e.controller.abort()})}var Qr=null,go=0,Wn=0,er=null;function hy(e,t){if(Qr===null){var a=Qr=[];go=0,Wn=pu(),er={status:"pending",value:void 0,then:function(r){a.push(r)}}}return go++,t.then(Dd,Dd),t}function Dd(){if(--go===0&&Qr!==null){er!==null&&(er.status="fulfilled");var e=Qr;Qr=null,Wn=0,er=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function fy(e,t){var a=[],r={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),r}var Md=z.S;z.S=function(e,t){bf=dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&hy(e,t),Md!==null&&Md(e,t)};var bn=j(null);function mo(){var e=bn.current;return e!==null?e:ze.pooledCache}function li(e,t){t===null?Q(bn,bn.current):Q(bn,t.pool)}function zd(){var e=mo();return e===null?null:{parent:Ke._currentValue,pool:e}}var tr=Error(i(460)),yo=Error(i(474)),oi=Error(i(542)),ui={then:function(){}};function Bd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ld(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(fa,fa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hd(e),e;default:if(typeof t.status=="string")t.then(fa,fa);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hd(e),e}throw wn=t,tr}}function xn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(wn=a,tr):a}}var wn=null;function qd(){if(wn===null)throw Error(i(459));var e=wn;return wn=null,e}function Hd(e){if(e===tr||e===oi)throw Error(i(483))}var ar=null,Ir=0;function ci(e){var t=Ir;return Ir+=1,ar===null&&(ar=[]),Ld(ar,e,t)}function Jr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function di(e,t){throw t.$$typeof===x?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $d(e){function t(N,E){if(e){var A=N.deletions;A===null?(N.deletions=[E],N.flags|=16):A.push(E)}}function a(N,E){if(!e)return null;for(;E!==null;)t(N,E),E=E.sibling;return null}function r(N){for(var E=new Map;N!==null;)N.key!==null?E.set(N.key,N):E.set(N.index,N),N=N.sibling;return E}function o(N,E){return N=ma(N,E),N.index=0,N.sibling=null,N}function u(N,E,A){return N.index=A,e?(A=N.alternate,A!==null?(A=A.index,A<E?(N.flags|=67108866,E):A):(N.flags|=67108866,E)):(N.flags|=1048576,E)}function g(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function v(N,E,A,$){return E===null||E.tag!==6?(E=no(A,N.mode,$),E.return=N,E):(E=o(E,A),E.return=N,E)}function _(N,E,A,$){var se=A.type;return se===T?L(N,E,A.props.children,$,A.key):E!==null&&(E.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===pe&&xn(se)===E.type)?(E=o(E,A.props),Jr(E,A),E.return=N,E):(E=ni(A.type,A.key,A.props,null,N.mode,$),Jr(E,A),E.return=N,E)}function C(N,E,A,$){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=ro(A,N.mode,$),E.return=N,E):(E=o(E,A.children||[]),E.return=N,E)}function L(N,E,A,$,se){return E===null||E.tag!==7?(E=mn(A,N.mode,$,se),E.return=N,E):(E=o(E,A),E.return=N,E)}function V(N,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=no(""+E,N.mode,A),E.return=N,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case S:return A=ni(E.type,E.key,E.props,null,N.mode,A),Jr(A,E),A.return=N,A;case k:return E=ro(E,N.mode,A),E.return=N,E;case pe:return E=xn(E),V(N,E,A)}if(ie(E)||P(E))return E=mn(E,N.mode,A,null),E.return=N,E;if(typeof E.then=="function")return V(N,ci(E),A);if(E.$$typeof===H)return V(N,ii(N,E),A);di(N,E)}return null}function U(N,E,A,$){var se=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return se!==null?null:v(N,E,""+A,$);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case S:return A.key===se?_(N,E,A,$):null;case k:return A.key===se?C(N,E,A,$):null;case pe:return A=xn(A),U(N,E,A,$)}if(ie(A)||P(A))return se!==null?null:L(N,E,A,$,null);if(typeof A.then=="function")return U(N,E,ci(A),$);if(A.$$typeof===H)return U(N,E,ii(N,A),$);di(N,A)}return null}function B(N,E,A,$,se){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return N=N.get(A)||null,v(E,N,""+$,se);if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return N=N.get($.key===null?A:$.key)||null,_(E,N,$,se);case k:return N=N.get($.key===null?A:$.key)||null,C(E,N,$,se);case pe:return $=xn($),B(N,E,A,$,se)}if(ie($)||P($))return N=N.get(A)||null,L(E,N,$,se,null);if(typeof $.then=="function")return B(N,E,A,ci($),se);if($.$$typeof===H)return B(N,E,A,ii(E,$),se);di(E,$)}return null}function ee(N,E,A,$){for(var se=null,Ne=null,te=E,me=E=0,we=null;te!==null&&me<A.length;me++){te.index>me?(we=te,te=null):we=te.sibling;var Te=U(N,te,A[me],$);if(Te===null){te===null&&(te=we);break}e&&te&&Te.alternate===null&&t(N,te),E=u(Te,E,me),Ne===null?se=Te:Ne.sibling=Te,Ne=Te,te=we}if(me===A.length)return a(N,te),je&&ya(N,me),se;if(te===null){for(;me<A.length;me++)te=V(N,A[me],$),te!==null&&(E=u(te,E,me),Ne===null?se=te:Ne.sibling=te,Ne=te);return je&&ya(N,me),se}for(te=r(te);me<A.length;me++)we=B(te,N,me,A[me],$),we!==null&&(e&&we.alternate!==null&&te.delete(we.key===null?me:we.key),E=u(we,E,me),Ne===null?se=we:Ne.sibling=we,Ne=we);return e&&te.forEach(function(an){return t(N,an)}),je&&ya(N,me),se}function le(N,E,A,$){if(A==null)throw Error(i(151));for(var se=null,Ne=null,te=E,me=E=0,we=null,Te=A.next();te!==null&&!Te.done;me++,Te=A.next()){te.index>me?(we=te,te=null):we=te.sibling;var an=U(N,te,Te.value,$);if(an===null){te===null&&(te=we);break}e&&te&&an.alternate===null&&t(N,te),E=u(an,E,me),Ne===null?se=an:Ne.sibling=an,Ne=an,te=we}if(Te.done)return a(N,te),je&&ya(N,me),se;if(te===null){for(;!Te.done;me++,Te=A.next())Te=V(N,Te.value,$),Te!==null&&(E=u(Te,E,me),Ne===null?se=Te:Ne.sibling=Te,Ne=Te);return je&&ya(N,me),se}for(te=r(te);!Te.done;me++,Te=A.next())Te=B(te,N,me,Te.value,$),Te!==null&&(e&&Te.alternate!==null&&te.delete(Te.key===null?me:Te.key),E=u(Te,E,me),Ne===null?se=Te:Ne.sibling=Te,Ne=Te);return e&&te.forEach(function(jp){return t(N,jp)}),je&&ya(N,me),se}function Me(N,E,A,$){if(typeof A=="object"&&A!==null&&A.type===T&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case S:e:{for(var se=A.key;E!==null;){if(E.key===se){if(se=A.type,se===T){if(E.tag===7){a(N,E.sibling),$=o(E,A.props.children),$.return=N,N=$;break e}}else if(E.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===pe&&xn(se)===E.type){a(N,E.sibling),$=o(E,A.props),Jr($,A),$.return=N,N=$;break e}a(N,E);break}else t(N,E);E=E.sibling}A.type===T?($=mn(A.props.children,N.mode,$,A.key),$.return=N,N=$):($=ni(A.type,A.key,A.props,null,N.mode,$),Jr($,A),$.return=N,N=$)}return g(N);case k:e:{for(se=A.key;E!==null;){if(E.key===se)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){a(N,E.sibling),$=o(E,A.children||[]),$.return=N,N=$;break e}else{a(N,E);break}else t(N,E);E=E.sibling}$=ro(A,N.mode,$),$.return=N,N=$}return g(N);case pe:return A=xn(A),Me(N,E,A,$)}if(ie(A))return ee(N,E,A,$);if(P(A)){if(se=P(A),typeof se!="function")throw Error(i(150));return A=se.call(A),le(N,E,A,$)}if(typeof A.then=="function")return Me(N,E,ci(A),$);if(A.$$typeof===H)return Me(N,E,ii(N,A),$);di(N,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,E!==null&&E.tag===6?(a(N,E.sibling),$=o(E,A),$.return=N,N=$):(a(N,E),$=no(A,N.mode,$),$.return=N,N=$),g(N)):a(N,E)}return function(N,E,A,$){try{Ir=0;var se=Me(N,E,A,$);return ar=null,se}catch(te){if(te===tr||te===oi)throw te;var Ne=Nt(29,te,null,N.mode);return Ne.lanes=$,Ne.return=N,Ne}finally{}}}var _n=$d(!0),Vd=$d(!1),qa=!1;function po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ha(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $a(e,t,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Oe&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=ai(e),Ed(e,null,a),t}return ti(e,r,t,a),ai(e)}function Zr(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,Uc(e,a)}}function bo(e,t){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=g:u=u.next=g,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var xo=!1;function Fr(){if(xo){var e=er;if(e!==null)throw e}}function Wr(e,t,a,r){xo=!1;var o=e.updateQueue;qa=!1;var u=o.firstBaseUpdate,g=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var _=v,C=_.next;_.next=null,g===null?u=C:g.next=C,g=_;var L=e.alternate;L!==null&&(L=L.updateQueue,v=L.lastBaseUpdate,v!==g&&(v===null?L.firstBaseUpdate=C:v.next=C,L.lastBaseUpdate=_))}if(u!==null){var V=o.baseState;g=0,L=C=_=null,v=u;do{var U=v.lane&-536870913,B=U!==v.lane;if(B?(xe&U)===U:(r&U)===U){U!==0&&U===Wn&&(xo=!0),L!==null&&(L=L.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ee=e,le=v;U=t;var Me=a;switch(le.tag){case 1:if(ee=le.payload,typeof ee=="function"){V=ee.call(Me,V,U);break e}V=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=le.payload,U=typeof ee=="function"?ee.call(Me,V,U):ee,U==null)break e;V=w({},V,U);break e;case 2:qa=!0}}U=v.callback,U!==null&&(e.flags|=64,B&&(e.flags|=8192),B=o.callbacks,B===null?o.callbacks=[U]:B.push(U))}else B={lane:U,tag:v.tag,payload:v.payload,callback:v.callback,next:null},L===null?(C=L=B,_=V):L=L.next=B,g|=U;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;B=v,v=B.next,B.next=null,o.lastBaseUpdate=B,o.shared.pending=null}}while(!0);L===null&&(_=V),o.baseState=_,o.firstBaseUpdate=C,o.lastBaseUpdate=L,u===null&&(o.shared.lanes=0),Ka|=g,e.lanes=g,e.memoizedState=V}}function Gd(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Yd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Gd(a[e],t)}var nr=j(null),hi=j(0);function Pd(e,t){e=Na,Q(hi,e),Q(nr,t),Na=e|t.baseLanes}function wo(){Q(hi,Na),Q(nr,nr.current)}function _o(){Na=hi.current,q(nr),q(hi)}var Tt=j(null),Gt=null;function Va(e){var t=e.alternate;Q(Ye,Ye.current&1),Q(Tt,e),Gt===null&&(t===null||nr.current!==null||t.memoizedState!==null)&&(Gt=e)}function So(e){Q(Ye,Ye.current),Q(Tt,e),Gt===null&&(Gt=e)}function Kd(e){e.tag===22?(Q(Ye,Ye.current),Q(Tt,e),Gt===null&&(Gt=e)):Ga()}function Ga(){Q(Ye,Ye.current),Q(Tt,Tt.current)}function Ot(e){q(Tt),Gt===e&&(Gt=null),q(Ye)}var Ye=j(0);function fi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ou(a)||Au(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ba=0,ge=null,Ue=null,Xe=null,gi=!1,rr=!1,Sn=!1,mi=0,es=0,sr=null,gy=0;function Ve(){throw Error(i(321))}function jo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!kt(e[a],t[a]))return!1;return!0}function Eo(e,t,a,r,o,u){return ba=u,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Oh:Ho,Sn=!1,u=a(r,o),Sn=!1,rr&&(u=Qd(t,a,r,o)),Xd(e),u}function Xd(e){z.H=ns;var t=Ue!==null&&Ue.next!==null;if(ba=0,Xe=Ue=ge=null,gi=!1,es=0,sr=null,t)throw Error(i(300));e===null||Qe||(e=e.dependencies,e!==null&&si(e)&&(Qe=!0))}function Qd(e,t,a,r){ge=e;var o=0;do{if(rr&&(sr=null),es=0,rr=!1,25<=o)throw Error(i(301));if(o+=1,Xe=Ue=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}z.H=Ah,u=t(a,r)}while(rr);return u}function my(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?ts(t):t,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(ge.flags|=1024),t}function ko(){var e=mi!==0;return mi=0,e}function No(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function To(e){if(gi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}gi=!1}ba=0,Xe=Ue=ge=null,rr=!1,es=mi=0,sr=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ge.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Pe(){if(Ue===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Xe===null?ge.memoizedState:Xe.next;if(t!==null)Xe=t,Ue=e;else{if(e===null)throw ge.alternate===null?Error(i(467)):Error(i(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Xe===null?ge.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function yi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ts(e){var t=es;return es+=1,sr===null&&(sr=[]),e=Ld(sr,e,t),t=ge,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Oh:Ho),e}function pi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ts(e);if(e.$$typeof===H)return st(e)}throw Error(i(438,String(e)))}function Oo(e){var t=null,a=ge.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var r=ge.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=yi(),ge.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),r=0;r<e;r++)a[r]=at;return t.index++,a}function xa(e,t){return typeof t=="function"?t(e):t}function vi(e){var t=Pe();return Ao(t,Ue,e)}function Ao(e,t,a){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=a;var o=e.baseQueue,u=r.pending;if(u!==null){if(o!==null){var g=o.next;o.next=u.next,u.next=g}t.baseQueue=o=u,r.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var v=g=null,_=null,C=t,L=!1;do{var V=C.lane&-536870913;if(V!==C.lane?(xe&V)===V:(ba&V)===V){var U=C.revertLane;if(U===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),V===Wn&&(L=!0);else if((ba&U)===U){C=C.next,U===Wn&&(L=!0);continue}else V={lane:0,revertLane:C.revertLane,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},_===null?(v=_=V,g=u):_=_.next=V,ge.lanes|=U,Ka|=U;V=C.action,Sn&&a(u,V),u=C.hasEagerState?C.eagerState:a(u,V)}else U={lane:V,revertLane:C.revertLane,gesture:C.gesture,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},_===null?(v=_=U,g=u):_=_.next=U,ge.lanes|=V,Ka|=V;C=C.next}while(C!==null&&C!==t);if(_===null?g=u:_.next=v,!kt(u,e.memoizedState)&&(Qe=!0,L&&(a=er,a!==null)))throw a;e.memoizedState=u,e.baseState=g,e.baseQueue=_,r.lastRenderedState=u}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Co(e){var t=Pe(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var r=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var g=o=o.next;do u=e(u,g.action),g=g.next;while(g!==o);kt(u,t.memoizedState)||(Qe=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,r]}function Id(e,t,a){var r=ge,o=Pe(),u=je;if(u){if(a===void 0)throw Error(i(407));a=a()}else a=t();var g=!kt((Ue||o).memoizedState,a);if(g&&(o.memoizedState=a,Qe=!0),o=o.queue,Do(Fd.bind(null,r,o,e),[e]),o.getSnapshot!==t||g||Xe!==null&&Xe.memoizedState.tag&1){if(r.flags|=2048,ir(9,{destroy:void 0},Zd.bind(null,r,o,a,t),null),ze===null)throw Error(i(349));u||(ba&127)!==0||Jd(r,t,a)}return a}function Jd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ge.updateQueue,t===null?(t=yi(),ge.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Zd(e,t,a,r){t.value=a,t.getSnapshot=r,Wd(t)&&eh(e)}function Fd(e,t,a){return a(function(){Wd(t)&&eh(e)})}function Wd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!kt(e,a)}catch{return!0}}function eh(e){var t=gn(e,2);t!==null&&Et(t,e,2)}function Ro(e){var t=gt();if(typeof e=="function"){var a=e;if(e=a(),Sn){ia(!0);try{a()}finally{ia(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t}function th(e,t,a,r){return e.baseState=a,Ao(e,Ue,typeof r=="function"?r:xa)}function yy(e,t,a,r,o){if(wi(e))throw Error(i(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){u.listeners.push(g)}};z.T!==null?a(!0):u.isTransition=!1,r(u),a=t.pending,a===null?(u.next=t.pending=u,ah(t,u)):(u.next=a.next,t.pending=a.next=u)}}function ah(e,t){var a=t.action,r=t.payload,o=e.state;if(t.isTransition){var u=z.T,g={};z.T=g;try{var v=a(o,r),_=z.S;_!==null&&_(g,v),nh(e,t,v)}catch(C){Uo(e,t,C)}finally{u!==null&&g.types!==null&&(u.types=g.types),z.T=u}}else try{u=a(o,r),nh(e,t,u)}catch(C){Uo(e,t,C)}}function nh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){rh(e,t,r)},function(r){return Uo(e,t,r)}):rh(e,t,a)}function rh(e,t,a){t.status="fulfilled",t.value=a,sh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,ah(e,a)))}function Uo(e,t,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=a,sh(t),t=t.next;while(t!==r)}e.action=null}function sh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ih(e,t){return t}function lh(e,t){if(je){var a=ze.formState;if(a!==null){e:{var r=ge;if(je){if(Le){t:{for(var o=Le,u=Vt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Yt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Le=Yt(o.nextSibling),r=o.data==="F!";break e}}Ba(r)}r=!1}r&&(t=a[0])}}return a=gt(),a.memoizedState=a.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ih,lastRenderedState:t},a.queue=r,a=kh.bind(null,ge,r),r.dispatch=a,r=Ro(!1),u=qo.bind(null,ge,!1,r.queue),r=gt(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,a=yy.bind(null,ge,o,u,a),o.dispatch=a,r.memoizedState=e,[t,a,!1]}function oh(e){var t=Pe();return uh(t,Ue,e)}function uh(e,t,a){if(t=Ao(e,t,ih)[0],e=vi(xa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ts(t)}catch(g){throw g===tr?oi:g}else r=t;t=Pe();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(ge.flags|=2048,ir(9,{destroy:void 0},py.bind(null,o,a),null)),[r,u,e]}function py(e,t){e.action=t}function ch(e){var t=Pe(),a=Ue;if(a!==null)return uh(t,a,e);Pe(),t=t.memoizedState,a=Pe();var r=a.queue.dispatch;return a.memoizedState=e,[t,r,!1]}function ir(e,t,a,r){return e={tag:e,create:a,deps:r,inst:t,next:null},t=ge.updateQueue,t===null&&(t=yi(),ge.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,t.lastEffect=e),e}function dh(){return Pe().memoizedState}function bi(e,t,a,r){var o=gt();ge.flags|=e,o.memoizedState=ir(1|t,{destroy:void 0},a,r===void 0?null:r)}function xi(e,t,a,r){var o=Pe();r=r===void 0?null:r;var u=o.memoizedState.inst;Ue!==null&&r!==null&&jo(r,Ue.memoizedState.deps)?o.memoizedState=ir(t,u,a,r):(ge.flags|=e,o.memoizedState=ir(1|t,u,a,r))}function hh(e,t){bi(8390656,8,e,t)}function Do(e,t){xi(2048,8,e,t)}function vy(e){ge.flags|=4;var t=ge.updateQueue;if(t===null)t=yi(),ge.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function fh(e){var t=Pe().memoizedState;return vy({ref:t,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function gh(e,t){return xi(4,2,e,t)}function mh(e,t){return xi(4,4,e,t)}function yh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ph(e,t,a){a=a!=null?a.concat([e]):null,xi(4,4,yh.bind(null,t,e),a)}function Mo(){}function vh(e,t){var a=Pe();t=t===void 0?null:t;var r=a.memoizedState;return t!==null&&jo(t,r[1])?r[0]:(a.memoizedState=[e,t],e)}function bh(e,t){var a=Pe();t=t===void 0?null:t;var r=a.memoizedState;if(t!==null&&jo(t,r[1]))return r[0];if(r=e(),Sn){ia(!0);try{e()}finally{ia(!1)}}return a.memoizedState=[r,t],r}function zo(e,t,a){return a===void 0||(ba&1073741824)!==0&&(xe&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=wf(),ge.lanes|=e,Ka|=e,a)}function xh(e,t,a,r){return kt(a,t)?a:nr.current!==null?(e=zo(e,a,r),kt(e,t)||(Qe=!0),e):(ba&42)===0||(ba&1073741824)!==0&&(xe&261930)===0?(Qe=!0,e.memoizedState=a):(e=wf(),ge.lanes|=e,Ka|=e,t)}function wh(e,t,a,r,o){var u=R.p;R.p=u!==0&&8>u?u:8;var g=z.T,v={};z.T=v,qo(e,!1,t,a);try{var _=o(),C=z.S;if(C!==null&&C(v,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var L=fy(_,r);as(e,t,L,Rt(e))}else as(e,t,r,Rt(e))}catch(V){as(e,t,{then:function(){},status:"rejected",reason:V},Rt())}finally{R.p=u,g!==null&&v.types!==null&&(g.types=v.types),z.T=g}}function by(){}function Bo(e,t,a,r){if(e.tag!==5)throw Error(i(476));var o=_h(e).queue;wh(e,o,t,X,a===null?by:function(){return Sh(e),a(r)})}function _h(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:X},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Sh(e){var t=_h(e);t.next===null&&(t=e.alternate.memoizedState),as(e,t.next.queue,{},Rt())}function Lo(){return st(bs)}function jh(){return Pe().memoizedState}function Eh(){return Pe().memoizedState}function xy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Rt();e=Ha(a);var r=$a(t,e,a);r!==null&&(Et(r,t,a),Zr(r,t,a)),t={cache:fo()},e.payload=t;return}t=t.return}}function wy(e,t,a){var r=Rt();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wi(e)?Nh(t,a):(a=to(e,t,a,r),a!==null&&(Et(a,e,r),Th(a,t,r)))}function kh(e,t,a){var r=Rt();as(e,t,a,r)}function as(e,t,a,r){var o={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wi(e))Nh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var g=t.lastRenderedState,v=u(g,a);if(o.hasEagerState=!0,o.eagerState=v,kt(v,g))return ti(e,t,o,0),ze===null&&ei(),!1}catch{}finally{}if(a=to(e,t,o,r),a!==null)return Et(a,e,r),Th(a,t,r),!0}return!1}function qo(e,t,a,r){if(r={lane:2,revertLane:pu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},wi(e)){if(t)throw Error(i(479))}else t=to(e,a,r,2),t!==null&&Et(t,e,2)}function wi(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function Nh(e,t){rr=gi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Th(e,t,a){if((a&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,Uc(e,a)}}var ns={readContext:st,use:pi,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};ns.useEffectEvent=Ve;var Oh={readContext:st,use:pi,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:hh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,bi(4194308,4,yh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return bi(4194308,4,e,t)},useInsertionEffect:function(e,t){bi(4,2,e,t)},useMemo:function(e,t){var a=gt();t=t===void 0?null:t;var r=e();if(Sn){ia(!0);try{e()}finally{ia(!1)}}return a.memoizedState=[r,t],r},useReducer:function(e,t,a){var r=gt();if(a!==void 0){var o=a(t);if(Sn){ia(!0);try{a(t)}finally{ia(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=wy.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ro(e);var t=e.queue,a=kh.bind(null,ge,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Mo,useDeferredValue:function(e,t){var a=gt();return zo(a,e,t)},useTransition:function(){var e=Ro(!1);return e=wh.bind(null,ge,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var r=ge,o=gt();if(je){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),ze===null)throw Error(i(349));(xe&127)!==0||Jd(r,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,hh(Fd.bind(null,r,u,e),[e]),r.flags|=2048,ir(9,{destroy:void 0},Zd.bind(null,r,u,a,t),null),a},useId:function(){var e=gt(),t=ze.identifierPrefix;if(je){var a=oa,r=la;a=(r&~(1<<32-ft(r)-1)).toString(32)+a,t="_"+t+"R_"+a,a=mi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=gy++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Lo,useFormState:lh,useActionState:lh,useOptimistic:function(e){var t=gt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=qo.bind(null,ge,!0,a),a.dispatch=t,[e,t]},useMemoCache:Oo,useCacheRefresh:function(){return gt().memoizedState=xy.bind(null,ge)},useEffectEvent:function(e){var t=gt(),a={impl:e};return t.memoizedState=a,function(){if((Oe&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Ho={readContext:st,use:pi,useCallback:vh,useContext:st,useEffect:Do,useImperativeHandle:ph,useInsertionEffect:gh,useLayoutEffect:mh,useMemo:bh,useReducer:vi,useRef:dh,useState:function(){return vi(xa)},useDebugValue:Mo,useDeferredValue:function(e,t){var a=Pe();return xh(a,Ue.memoizedState,e,t)},useTransition:function(){var e=vi(xa)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:ts(e),t]},useSyncExternalStore:Id,useId:jh,useHostTransitionStatus:Lo,useFormState:oh,useActionState:oh,useOptimistic:function(e,t){var a=Pe();return th(a,Ue,e,t)},useMemoCache:Oo,useCacheRefresh:Eh};Ho.useEffectEvent=fh;var Ah={readContext:st,use:pi,useCallback:vh,useContext:st,useEffect:Do,useImperativeHandle:ph,useInsertionEffect:gh,useLayoutEffect:mh,useMemo:bh,useReducer:Co,useRef:dh,useState:function(){return Co(xa)},useDebugValue:Mo,useDeferredValue:function(e,t){var a=Pe();return Ue===null?zo(a,e,t):xh(a,Ue.memoizedState,e,t)},useTransition:function(){var e=Co(xa)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:ts(e),t]},useSyncExternalStore:Id,useId:jh,useHostTransitionStatus:Lo,useFormState:ch,useActionState:ch,useOptimistic:function(e,t){var a=Pe();return Ue!==null?th(a,Ue,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Oo,useCacheRefresh:Eh};Ah.useEffectEvent=fh;function $o(e,t,a,r){t=e.memoizedState,a=a(r,t),a=a==null?t:w({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Vo={enqueueSetState:function(e,t,a){e=e._reactInternals;var r=Rt(),o=Ha(r);o.payload=t,a!=null&&(o.callback=a),t=$a(e,o,r),t!==null&&(Et(t,e,r),Zr(t,e,r))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var r=Rt(),o=Ha(r);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=$a(e,o,r),t!==null&&(Et(t,e,r),Zr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Rt(),r=Ha(a);r.tag=2,t!=null&&(r.callback=t),t=$a(e,r,a),t!==null&&(Et(t,e,a),Zr(t,e,a))}};function Ch(e,t,a,r,o,u,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,g):t.prototype&&t.prototype.isPureReactComponent?!Gr(a,r)||!Gr(o,u):!0}function Rh(e,t,a,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function jn(e,t){var a=t;if("ref"in t){a={};for(var r in t)r!=="ref"&&(a[r]=t[r])}if(e=e.defaultProps){a===t&&(a=w({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function Uh(e){Ws(e)}function Dh(e){console.error(e)}function Mh(e){Ws(e)}function _i(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function zh(e,t,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Go(e,t,a){return a=Ha(a),a.tag=3,a.payload={element:null},a.callback=function(){_i(e,t)},a}function Bh(e){return e=Ha(e),e.tag=3,e}function Lh(e,t,a,r){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=r.value;e.payload=function(){return o(u)},e.callback=function(){zh(t,a,r)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){zh(t,a,r),typeof o!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})})}function _y(e,t,a,r,o){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=a.alternate,t!==null&&Fn(t,a,o,!0),a=Tt.current,a!==null){switch(a.tag){case 31:case 13:return Gt===null?Di():a.alternate===null&&Ge===0&&(Ge=3),a.flags&=-257,a.flags|=65536,a.lanes=o,r===ui?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([r]):t.add(r),gu(e,r,o)),!1;case 22:return a.flags|=65536,r===ui?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([r]):a.add(r)),gu(e,r,o)),!1}throw Error(i(435,a.tag))}return gu(e,r,o),Di(),!1}if(je)return t=Tt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==lo&&(e=Error(i(422),{cause:r}),Kr(qt(e,a)))):(r!==lo&&(t=Error(i(423),{cause:r}),Kr(qt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=qt(r,a),o=Go(e.stateNode,r,o),bo(e,o),Ge!==4&&(Ge=2)),!1;var u=Error(i(520),{cause:r});if(u=qt(u,a),ds===null?ds=[u]:ds.push(u),Ge!==4&&(Ge=2),t===null)return!0;r=qt(r,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Go(a.stateNode,r,e),bo(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Xa===null||!Xa.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Bh(o),Lh(o,e,a,r),bo(a,o),!1}a=a.return}while(a!==null);return!1}var Yo=Error(i(461)),Qe=!1;function it(e,t,a,r){t.child=e===null?Vd(t,null,a,r):_n(t,e.child,a,r)}function qh(e,t,a,r,o){a=a.render;var u=t.ref;if("ref"in r){var g={};for(var v in r)v!=="ref"&&(g[v]=r[v])}else g=r;return vn(t),r=Eo(e,t,a,g,u,o),v=ko(),e!==null&&!Qe?(No(e,t,o),wa(e,t,o)):(je&&v&&so(t),t.flags|=1,it(e,t,r,o),t.child)}function Hh(e,t,a,r,o){if(e===null){var u=a.type;return typeof u=="function"&&!ao(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,$h(e,t,u,r,o)):(e=ni(a.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Fo(e,o)){var g=u.memoizedProps;if(a=a.compare,a=a!==null?a:Gr,a(g,r)&&e.ref===t.ref)return wa(e,t,o)}return t.flags|=1,e=ma(u,r),e.ref=t.ref,e.return=t,t.child=e}function $h(e,t,a,r,o){if(e!==null){var u=e.memoizedProps;if(Gr(u,r)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=r=u,Fo(e,o))(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,wa(e,t,o)}return Po(e,t,a,r,o)}function Vh(e,t,a,r){var o=r.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~u}else r=0,t.child=null;return Gh(e,t,u,a,r)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&li(t,u!==null?u.cachePool:null),u!==null?Pd(t,u):wo(),Kd(t);else return r=t.lanes=536870912,Gh(e,t,u!==null?u.baseLanes|a:a,a,r)}else u!==null?(li(t,u.cachePool),Pd(t,u),Ga(),t.memoizedState=null):(e!==null&&li(t,null),wo(),Ga());return it(e,t,o,a),t.child}function rs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Gh(e,t,a,r,o){var u=mo();return u=u===null?null:{parent:Ke._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&li(t,null),wo(),Kd(t),e!==null&&Fn(e,t,r,!0),t.childLanes=o,null}function Si(e,t){return t=Ei({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Yh(e,t,a){return _n(t,e.child,null,a),e=Si(t,t.pendingProps),e.flags|=2,Ot(t),t.memoizedState=null,e}function Sy(e,t,a){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(je){if(r.mode==="hidden")return e=Si(t,r),t.lanes=536870912,rs(null,e);if(So(t),(e=Le)?(e=n0(e,Vt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:la,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},a=Nd(e),a.return=t,t.child=a,rt=t,Le=null)):e=null,e===null)throw Ba(t);return t.lanes=536870912,null}return Si(t,r)}var u=e.memoizedState;if(u!==null){var g=u.dehydrated;if(So(t),o)if(t.flags&256)t.flags&=-257,t=Yh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Qe||Fn(e,t,a,!1),o=(a&e.childLanes)!==0,Qe||o){if(r=ze,r!==null&&(g=Dc(r,a),g!==0&&g!==u.retryLane))throw u.retryLane=g,gn(e,g),Et(r,e,g),Yo;Di(),t=Yh(e,t,a)}else e=u.treeContext,Le=Yt(g.nextSibling),rt=t,je=!0,za=null,Vt=!1,e!==null&&Ad(t,e),t=Si(t,r),t.flags|=4096;return t}return e=ma(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ji(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Po(e,t,a,r,o){return vn(t),a=Eo(e,t,a,r,void 0,o),r=ko(),e!==null&&!Qe?(No(e,t,o),wa(e,t,o)):(je&&r&&so(t),t.flags|=1,it(e,t,a,o),t.child)}function Ph(e,t,a,r,o,u){return vn(t),t.updateQueue=null,a=Qd(t,r,a,o),Xd(e),r=ko(),e!==null&&!Qe?(No(e,t,u),wa(e,t,u)):(je&&r&&so(t),t.flags|=1,it(e,t,a,u),t.child)}function Kh(e,t,a,r,o){if(vn(t),t.stateNode===null){var u=Qn,g=a.contextType;typeof g=="object"&&g!==null&&(u=st(g)),u=new a(r,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Vo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=r,u.state=t.memoizedState,u.refs={},po(t),g=a.contextType,u.context=typeof g=="object"&&g!==null?st(g):Qn,u.state=t.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&($o(t,a,g,r),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(g=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),g!==u.state&&Vo.enqueueReplaceState(u,u.state,null),Wr(t,r,u,o),Fr(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,_=jn(a,v);u.props=_;var C=u.context,L=a.contextType;g=Qn,typeof L=="object"&&L!==null&&(g=st(L));var V=a.getDerivedStateFromProps;L=typeof V=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,L||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||C!==g)&&Rh(t,u,r,g),qa=!1;var U=t.memoizedState;u.state=U,Wr(t,r,u,o),Fr(),C=t.memoizedState,v||U!==C||qa?(typeof V=="function"&&($o(t,a,V,r),C=t.memoizedState),(_=qa||Ch(t,a,_,r,U,C,g))?(L||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=C),u.props=r,u.state=C,u.context=g,r=_):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,vo(e,t),g=t.memoizedProps,L=jn(a,g),u.props=L,V=t.pendingProps,U=u.context,C=a.contextType,_=Qn,typeof C=="object"&&C!==null&&(_=st(C)),v=a.getDerivedStateFromProps,(C=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(g!==V||U!==_)&&Rh(t,u,r,_),qa=!1,U=t.memoizedState,u.state=U,Wr(t,r,u,o),Fr();var B=t.memoizedState;g!==V||U!==B||qa||e!==null&&e.dependencies!==null&&si(e.dependencies)?(typeof v=="function"&&($o(t,a,v,r),B=t.memoizedState),(L=qa||Ch(t,a,L,r,U,B,_)||e!==null&&e.dependencies!==null&&si(e.dependencies))?(C||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,B,_),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,B,_)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||g===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=B),u.props=r,u.state=B,u.context=_,r=L):(typeof u.componentDidUpdate!="function"||g===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),r=!1)}return u=r,ji(e,t),r=(t.flags&128)!==0,u||r?(u=t.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&r?(t.child=_n(t,e.child,null,o),t.child=_n(t,null,a,o)):it(e,t,a,o),t.memoizedState=u.state,e=t.child):e=wa(e,t,o),e}function Xh(e,t,a,r){return yn(),t.flags|=256,it(e,t,a,r),t.child}var Ko={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xo(e){return{baseLanes:e,cachePool:zd()}}function Qo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ct),e}function Qh(e,t,a){var r=t.pendingProps,o=!1,u=(t.flags&128)!==0,g;if((g=u)||(g=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),g&&(o=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(je){if(o?Va(t):Ga(),(e=Le)?(e=n0(e,Vt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:la,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},a=Nd(e),a.return=t,t.child=a,rt=t,Le=null)):e=null,e===null)throw Ba(t);return Au(e)?t.lanes=32:t.lanes=536870912,null}var v=r.children;return r=r.fallback,o?(Ga(),o=t.mode,v=Ei({mode:"hidden",children:v},o),r=mn(r,o,a,null),v.return=t,r.return=t,v.sibling=r,t.child=v,r=t.child,r.memoizedState=Xo(a),r.childLanes=Qo(e,g,a),t.memoizedState=Ko,rs(null,r)):(Va(t),Io(t,v))}var _=e.memoizedState;if(_!==null&&(v=_.dehydrated,v!==null)){if(u)t.flags&256?(Va(t),t.flags&=-257,t=Jo(e,t,a)):t.memoizedState!==null?(Ga(),t.child=e.child,t.flags|=128,t=null):(Ga(),v=r.fallback,o=t.mode,r=Ei({mode:"visible",children:r.children},o),v=mn(v,o,a,null),v.flags|=2,r.return=t,v.return=t,r.sibling=v,t.child=r,_n(t,e.child,null,a),r=t.child,r.memoizedState=Xo(a),r.childLanes=Qo(e,g,a),t.memoizedState=Ko,t=rs(null,r));else if(Va(t),Au(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var C=g.dgst;g=C,r=Error(i(419)),r.stack="",r.digest=g,Kr({value:r,source:null,stack:null}),t=Jo(e,t,a)}else if(Qe||Fn(e,t,a,!1),g=(a&e.childLanes)!==0,Qe||g){if(g=ze,g!==null&&(r=Dc(g,a),r!==0&&r!==_.retryLane))throw _.retryLane=r,gn(e,r),Et(g,e,r),Yo;Ou(v)||Di(),t=Jo(e,t,a)}else Ou(v)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Le=Yt(v.nextSibling),rt=t,je=!0,za=null,Vt=!1,e!==null&&Ad(t,e),t=Io(t,r.children),t.flags|=4096);return t}return o?(Ga(),v=r.fallback,o=t.mode,_=e.child,C=_.sibling,r=ma(_,{mode:"hidden",children:r.children}),r.subtreeFlags=_.subtreeFlags&65011712,C!==null?v=ma(C,v):(v=mn(v,o,a,null),v.flags|=2),v.return=t,r.return=t,r.sibling=v,t.child=r,rs(null,r),r=t.child,v=e.child.memoizedState,v===null?v=Xo(a):(o=v.cachePool,o!==null?(_=Ke._currentValue,o=o.parent!==_?{parent:_,pool:_}:o):o=zd(),v={baseLanes:v.baseLanes|a,cachePool:o}),r.memoizedState=v,r.childLanes=Qo(e,g,a),t.memoizedState=Ko,rs(e.child,r)):(Va(t),a=e.child,e=a.sibling,a=ma(a,{mode:"visible",children:r.children}),a.return=t,a.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=a,t.memoizedState=null,a)}function Io(e,t){return t=Ei({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ei(e,t){return e=Nt(22,e,null,t),e.lanes=0,e}function Jo(e,t,a){return _n(t,e.child,null,a),e=Io(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ih(e,t,a){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),co(e.return,t,a)}function Zo(e,t,a,r,o,u){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:o,treeForkCount:u}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=r,g.tail=a,g.tailMode=o,g.treeForkCount=u)}function Jh(e,t,a){var r=t.pendingProps,o=r.revealOrder,u=r.tail;r=r.children;var g=Ye.current,v=(g&2)!==0;if(v?(g=g&1|2,t.flags|=128):g&=1,Q(Ye,g),it(e,t,r,a),r=je?Pr:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ih(e,a,t);else if(e.tag===19)Ih(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&fi(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Zo(t,!1,o,a,u,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&fi(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Zo(t,!0,a,null,u,r);break;case"together":Zo(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function wa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ka|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Fn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=ma(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ma(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Fo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&si(e)))}function jy(e,t,a){switch(t.tag){case 3:fe(t,t.stateNode.containerInfo),La(t,Ke,e.memoizedState.cache),yn();break;case 27:case 5:yt(t);break;case 4:fe(t,t.stateNode.containerInfo);break;case 10:La(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,So(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Va(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Qh(e,t,a):(Va(t),e=wa(e,t,a),e!==null?e.sibling:null);Va(t);break;case 19:var o=(e.flags&128)!==0;if(r=(a&t.childLanes)!==0,r||(Fn(e,t,a,!1),r=(a&t.childLanes)!==0),o){if(r)return Jh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Q(Ye,Ye.current),r)break;return null;case 22:return t.lanes=0,Vh(e,t,a,t.pendingProps);case 24:La(t,Ke,e.memoizedState.cache)}return wa(e,t,a)}function Zh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!Fo(e,a)&&(t.flags&128)===0)return Qe=!1,jy(e,t,a);Qe=(e.flags&131072)!==0}else Qe=!1,je&&(t.flags&1048576)!==0&&Od(t,Pr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=xn(t.elementType),t.type=e,typeof e=="function")ao(e)?(r=jn(e,r),t.tag=1,t=Kh(null,t,e,r,a)):(t.tag=0,t=Po(null,t,e,r,a));else{if(e!=null){var o=e.$$typeof;if(o===K){t.tag=11,t=qh(null,t,e,r,a);break e}else if(o===J){t.tag=14,t=Hh(null,t,e,r,a);break e}}throw t=_e(e)||e,Error(i(306,t,""))}}return t;case 0:return Po(e,t,t.type,t.pendingProps,a);case 1:return r=t.type,o=jn(r,t.pendingProps),Kh(e,t,r,o,a);case 3:e:{if(fe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var u=t.memoizedState;o=u.element,vo(e,t),Wr(t,r,null,a);var g=t.memoizedState;if(r=g.cache,La(t,Ke,r),r!==u.cache&&ho(t,[Ke],a,!0),Fr(),r=g.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Xh(e,t,r,a);break e}else if(r!==o){o=qt(Error(i(424)),t),Kr(o),t=Xh(e,t,r,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Yt(e.firstChild),rt=t,je=!0,za=null,Vt=!0,a=Vd(t,null,r,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yn(),r===o){t=wa(e,t,a);break e}it(e,t,r,a)}t=t.child}return t;case 26:return ji(e,t),e===null?(a=u0(t.type,null,t.pendingProps,null))?t.memoizedState=a:je||(a=t.type,e=t.pendingProps,r=$i(de.current).createElement(a),r[nt]=t,r[bt]=e,lt(r,a,e),et(r),t.stateNode=r):t.memoizedState=u0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return yt(t),e===null&&je&&(r=t.stateNode=i0(t.type,t.pendingProps,de.current),rt=t,Vt=!0,o=Le,Za(t.type)?(Cu=o,Le=Yt(r.firstChild)):Le=o),it(e,t,t.pendingProps.children,a),ji(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&je&&((o=r=Le)&&(r=ep(r,t.type,t.pendingProps,Vt),r!==null?(t.stateNode=r,rt=t,Le=Yt(r.firstChild),Vt=!1,o=!0):o=!1),o||Ba(t)),yt(t),o=t.type,u=t.pendingProps,g=e!==null?e.memoizedProps:null,r=u.children,ku(o,u)?r=null:g!==null&&ku(o,g)&&(t.flags|=32),t.memoizedState!==null&&(o=Eo(e,t,my,null,null,a),bs._currentValue=o),ji(e,t),it(e,t,r,a),t.child;case 6:return e===null&&je&&((e=a=Le)&&(a=tp(a,t.pendingProps,Vt),a!==null?(t.stateNode=a,rt=t,Le=null,e=!0):e=!1),e||Ba(t)),null;case 13:return Qh(e,t,a);case 4:return fe(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=_n(t,null,r,a):it(e,t,r,a),t.child;case 11:return qh(e,t,t.type,t.pendingProps,a);case 7:return it(e,t,t.pendingProps,a),t.child;case 8:return it(e,t,t.pendingProps.children,a),t.child;case 12:return it(e,t,t.pendingProps.children,a),t.child;case 10:return r=t.pendingProps,La(t,t.type,r.value),it(e,t,r.children,a),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,vn(t),o=st(o),r=r(o),t.flags|=1,it(e,t,r,a),t.child;case 14:return Hh(e,t,t.type,t.pendingProps,a);case 15:return $h(e,t,t.type,t.pendingProps,a);case 19:return Jh(e,t,a);case 31:return Sy(e,t,a);case 22:return Vh(e,t,a,t.pendingProps);case 24:return vn(t),r=st(Ke),e===null?(o=mo(),o===null&&(o=ze,u=fo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:r,cache:o},po(t),La(t,Ke,o)):((e.lanes&a)!==0&&(vo(e,t),Wr(t,null,null,a),Fr()),o=e.memoizedState,u=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),La(t,Ke,r)):(r=u.cache,La(t,Ke,r),r!==o.cache&&ho(t,[Ke],a,!0))),it(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function _a(e){e.flags|=4}function Wo(e,t,a,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Ef())e.flags|=8192;else throw wn=ui,yo}else e.flags&=-16777217}function Fh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!g0(t))if(Ef())e.flags|=8192;else throw wn=ui,yo}function ki(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Cc():536870912,e.lanes|=t,cr|=t)}function ss(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=a,t}function Ey(e,t,a){var r=t.pendingProps;switch(io(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return qe(t),null;case 3:return a=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),va(Ke),ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Zn(t)?_a(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,oo())),qe(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(_a(t),u!==null?(qe(t),Fh(t,u)):(qe(t),Wo(t,o,null,r,a))):u?u!==e.memoizedState?(_a(t),qe(t),Fh(t,u)):(qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&_a(t),qe(t),Wo(t,o,e,r,a)),null;case 27:if(pt(t),a=de.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&_a(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return qe(t),null}e=Z.current,Zn(t)?Cd(t):(e=i0(o,r,a),t.stateNode=e,_a(t))}return qe(t),null;case 5:if(pt(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&_a(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return qe(t),null}if(u=Z.current,Zn(t))Cd(t);else{var g=$i(de.current);switch(u){case 1:u=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=g.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?g.createElement("select",{is:r.is}):g.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?g.createElement(o,{is:r.is}):g.createElement(o)}}u[nt]=t,u[bt]=r;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)u.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=u;e:switch(lt(u,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&_a(t)}}return qe(t),Wo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&_a(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(i(166));if(e=de.current,Zn(t)){if(e=t.stateNode,a=t.memoizedProps,r=null,o=rt,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[nt]=t,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||If(e.nodeValue,a)),e||Ba(t,!0)}else e=$i(e).createTextNode(r),e[nt]=t,t.stateNode=e}return qe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(r=Zn(t),a!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[nt]=t}else yn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),e=!1}else a=oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ot(t),t):(Ot(t),null);if((t.flags&128)!==0)throw Error(i(558))}return qe(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Zn(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[nt]=t}else yn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),o=!1}else o=oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ot(t),t):(Ot(t),null)}return Ot(t),(t.flags&128)!==0?(t.lanes=a,t):(a=r!==null,e=e!==null&&e.memoizedState!==null,a&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),ki(t,t.updateQueue),qe(t),null);case 4:return ke(),e===null&&wu(t.stateNode.containerInfo),qe(t),null;case 10:return va(t.type),qe(t),null;case 19:if(q(Ye),r=t.memoizedState,r===null)return qe(t),null;if(o=(t.flags&128)!==0,u=r.rendering,u===null)if(o)ss(r,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=fi(e),u!==null){for(t.flags|=128,ss(r,!1),e=u.updateQueue,t.updateQueue=e,ki(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)kd(a,e),a=a.sibling;return Q(Ye,Ye.current&1|2),je&&ya(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&dt()>Ci&&(t.flags|=128,o=!0,ss(r,!1),t.lanes=4194304)}else{if(!o)if(e=fi(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,ki(t,e),ss(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!je)return qe(t),null}else 2*dt()-r.renderingStartTime>Ci&&a!==536870912&&(t.flags|=128,o=!0,ss(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=dt(),e.sibling=null,a=Ye.current,Q(Ye,o?a&1|2:a&1),je&&ya(t,r.treeForkCount),e):(qe(t),null);case 22:case 23:return Ot(t),_o(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(a&536870912)!==0&&(t.flags&128)===0&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),a=t.updateQueue,a!==null&&ki(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==a&&(t.flags|=2048),e!==null&&q(bn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),va(Ke),qe(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function ky(e,t){switch(io(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return va(Ke),ke(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return pt(t),null;case 31:if(t.memoizedState!==null){if(Ot(t),t.alternate===null)throw Error(i(340));yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ot(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(Ye),null;case 4:return ke(),null;case 10:return va(t.type),null;case 22:case 23:return Ot(t),_o(),e!==null&&q(bn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return va(Ke),null;case 25:return null;default:return null}}function Wh(e,t){switch(io(t),t.tag){case 3:va(Ke),ke();break;case 26:case 27:case 5:pt(t);break;case 4:ke();break;case 31:t.memoizedState!==null&&Ot(t);break;case 13:Ot(t);break;case 19:q(Ye);break;case 10:va(t.type);break;case 22:case 23:Ot(t),_o(),e!==null&&q(bn);break;case 24:va(Ke)}}function is(e,t){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var o=r.next;a=o;do{if((a.tag&e)===e){r=void 0;var u=a.create,g=a.inst;r=u(),g.destroy=r}a=a.next}while(a!==o)}}catch(v){Ce(t,t.return,v)}}function Ya(e,t,a){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&e)===e){var g=r.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,o=t;var _=a,C=v;try{C()}catch(L){Ce(o,_,L)}}}r=r.next}while(r!==u)}}catch(L){Ce(t,t.return,L)}}function ef(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Yd(t,a)}catch(r){Ce(e,e.return,r)}}}function tf(e,t,a){a.props=jn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){Ce(e,t,r)}}function ls(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(o){Ce(e,t,o)}}function ua(e,t){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(o){Ce(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ce(e,t,o)}else a.current=null}function af(e){var t=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(o){Ce(e,e.return,o)}}function eu(e,t,a){try{var r=e.stateNode;Qy(r,e.type,a,t),r[bt]=t}catch(o){Ce(e,e.return,o)}}function nf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Za(e.type)||e.tag===4}function tu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Za(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function au(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=fa));else if(r!==4&&(r===27&&Za(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(au(e,t,a),e=e.sibling;e!==null;)au(e,t,a),e=e.sibling}function Ni(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(r!==4&&(r===27&&Za(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ni(e,t,a),e=e.sibling;e!==null;)Ni(e,t,a),e=e.sibling}function rf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);lt(t,r,a),t[nt]=e,t[bt]=a}catch(u){Ce(e,e.return,u)}}var Sa=!1,Ie=!1,nu=!1,sf=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Ny(e,t){if(e=e.containerInfo,ju=Qi,e=pd(e),Il(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var o=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var g=0,v=-1,_=-1,C=0,L=0,V=e,U=null;t:for(;;){for(var B;V!==a||o!==0&&V.nodeType!==3||(v=g+o),V!==u||r!==0&&V.nodeType!==3||(_=g+r),V.nodeType===3&&(g+=V.nodeValue.length),(B=V.firstChild)!==null;)U=V,V=B;for(;;){if(V===e)break t;if(U===a&&++C===o&&(v=g),U===u&&++L===r&&(_=g),(B=V.nextSibling)!==null)break;V=U,U=V.parentNode}V=B}a=v===-1||_===-1?null:{start:v,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(Eu={focusedElem:e,selectionRange:a},Qi=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,r=a.stateNode;try{var ee=jn(a.type,o);e=r.getSnapshotBeforeUpdate(ee,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(le){Ce(a,a.return,le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Tu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function lf(e,t,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Ea(e,a),r&4&&is(5,a);break;case 1:if(Ea(e,a),r&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(g){Ce(a,a.return,g)}else{var o=jn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Ce(a,a.return,g)}}r&64&&ef(a),r&512&&ls(a,a.return);break;case 3:if(Ea(e,a),r&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Yd(e,t)}catch(g){Ce(a,a.return,g)}}break;case 27:t===null&&r&4&&rf(a);case 26:case 5:Ea(e,a),t===null&&r&4&&af(a),r&512&&ls(a,a.return);break;case 12:Ea(e,a);break;case 31:Ea(e,a),r&4&&cf(e,a);break;case 13:Ea(e,a),r&4&&df(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=zy.bind(null,a),ap(e,a))));break;case 22:if(r=a.memoizedState!==null||Sa,!r){t=t!==null&&t.memoizedState!==null||Ie,o=Sa;var u=Ie;Sa=r,(Ie=t)&&!u?ka(e,a,(a.subtreeFlags&8772)!==0):Ea(e,a),Sa=o,Ie=u}break;case 30:break;default:Ea(e,a)}}function of(e){var t=e.alternate;t!==null&&(e.alternate=null,of(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Rl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,wt=!1;function ja(e,t,a){for(a=a.child;a!==null;)uf(e,t,a),a=a.sibling}function uf(e,t,a){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(on,a)}catch{}switch(a.tag){case 26:Ie||ua(a,t),ja(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||ua(a,t);var r=He,o=wt;Za(a.type)&&(He=a.stateNode,wt=!1),ja(e,t,a),ys(a.stateNode),He=r,wt=o;break;case 5:Ie||ua(a,t);case 6:if(r=He,o=wt,He=null,ja(e,t,a),He=r,wt=o,He!==null)if(wt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(u){Ce(a,t,u)}else try{He.removeChild(a.stateNode)}catch(u){Ce(a,t,u)}break;case 18:He!==null&&(wt?(e=He,t0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),vr(e)):t0(He,a.stateNode));break;case 4:r=He,o=wt,He=a.stateNode.containerInfo,wt=!0,ja(e,t,a),He=r,wt=o;break;case 0:case 11:case 14:case 15:Ya(2,a,t),Ie||Ya(4,a,t),ja(e,t,a);break;case 1:Ie||(ua(a,t),r=a.stateNode,typeof r.componentWillUnmount=="function"&&tf(a,t,r)),ja(e,t,a);break;case 21:ja(e,t,a);break;case 22:Ie=(r=Ie)||a.memoizedState!==null,ja(e,t,a),Ie=r;break;default:ja(e,t,a)}}function cf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{vr(e)}catch(a){Ce(t,t.return,a)}}}function df(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{vr(e)}catch(a){Ce(t,t.return,a)}}function Ty(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sf),t;default:throw Error(i(435,e.tag))}}function Ti(e,t){var a=Ty(e);t.forEach(function(r){if(!a.has(r)){a.add(r);var o=By.bind(null,e,r);r.then(o,o)}})}function _t(e,t){var a=t.deletions;if(a!==null)for(var r=0;r<a.length;r++){var o=a[r],u=e,g=t,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(Za(v.type)){He=v.stateNode,wt=!1;break e}break;case 5:He=v.stateNode,wt=!1;break e;case 3:case 4:He=v.stateNode.containerInfo,wt=!0;break e}v=v.return}if(He===null)throw Error(i(160));uf(u,g,o),He=null,wt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)hf(t,e),t=t.sibling}var Zt=null;function hf(e,t){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(t,e),St(e),r&4&&(Ya(3,e,e.return),is(3,e),Ya(5,e,e.return));break;case 1:_t(t,e),St(e),r&512&&(Ie||a===null||ua(a,a.return)),r&64&&Sa&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var o=Zt;if(_t(t,e),St(e),r&512&&(Ie||a===null||ua(a,a.return)),r&4){var u=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Dr]||u[nt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(r),o.head.insertBefore(u,o.querySelector("head > title"))),lt(u,r,a),u[nt]=e,et(u),r=u;break e;case"link":var g=h0("link","href",o).get(r+(a.href||""));if(g){for(var v=0;v<g.length;v++)if(u=g[v],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(v,1);break t}}u=o.createElement(r),lt(u,r,a),o.head.appendChild(u);break;case"meta":if(g=h0("meta","content",o).get(r+(a.content||""))){for(v=0;v<g.length;v++)if(u=g[v],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(v,1);break t}}u=o.createElement(r),lt(u,r,a),o.head.appendChild(u);break;default:throw Error(i(468,r))}u[nt]=e,et(u),r=u}e.stateNode=r}else f0(o,e.type,e.stateNode);else e.stateNode=d0(o,r,e.memoizedProps);else u!==r?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,r===null?f0(o,e.type,e.stateNode):d0(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&eu(e,e.memoizedProps,a.memoizedProps)}break;case 27:_t(t,e),St(e),r&512&&(Ie||a===null||ua(a,a.return)),a!==null&&r&4&&eu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_t(t,e),St(e),r&512&&(Ie||a===null||ua(a,a.return)),e.flags&32){o=e.stateNode;try{$n(o,"")}catch(ee){Ce(e,e.return,ee)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,eu(e,o,a!==null?a.memoizedProps:o)),r&1024&&(nu=!0);break;case 6:if(_t(t,e),St(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(ee){Ce(e,e.return,ee)}}break;case 3:if(Yi=null,o=Zt,Zt=Vi(t.containerInfo),_t(t,e),Zt=o,St(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{vr(t.containerInfo)}catch(ee){Ce(e,e.return,ee)}nu&&(nu=!1,ff(e));break;case 4:r=Zt,Zt=Vi(e.stateNode.containerInfo),_t(t,e),St(e),Zt=r;break;case 12:_t(t,e),St(e);break;case 31:_t(t,e),St(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ti(e,r)));break;case 13:_t(t,e),St(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ai=dt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ti(e,r)));break;case 22:o=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,C=Sa,L=Ie;if(Sa=C||o,Ie=L||_,_t(t,e),Ie=L,Sa=C,St(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||_||Sa||Ie||En(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(u=_.stateNode,o)g=u.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=_.stateNode;var V=_.memoizedProps.style,U=V!=null&&V.hasOwnProperty("display")?V.display:null;v.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(ee){Ce(_,_.return,ee)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=o?"":_.memoizedProps}catch(ee){Ce(_,_.return,ee)}}}else if(t.tag===18){if(a===null){_=t;try{var B=_.stateNode;o?a0(B,!0):a0(_.stateNode,!1)}catch(ee){Ce(_,_.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Ti(e,a))));break;case 19:_t(t,e),St(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ti(e,r)));break;case 30:break;case 21:break;default:_t(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{for(var a,r=e.return;r!==null;){if(nf(r)){a=r;break}r=r.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var o=a.stateNode,u=tu(e);Ni(e,u,o);break;case 5:var g=a.stateNode;a.flags&32&&($n(g,""),a.flags&=-33);var v=tu(e);Ni(e,v,g);break;case 3:case 4:var _=a.stateNode.containerInfo,C=tu(e);au(e,C,_);break;default:throw Error(i(161))}}catch(L){Ce(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ff(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ff(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ea(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lf(e,t.alternate,t),t=t.sibling}function En(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ya(4,t,t.return),En(t);break;case 1:ua(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&tf(t,t.return,a),En(t);break;case 27:ys(t.stateNode);case 26:case 5:ua(t,t.return),En(t);break;case 22:t.memoizedState===null&&En(t);break;case 30:En(t);break;default:En(t)}e=e.sibling}}function ka(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,u=t,g=u.flags;switch(u.tag){case 0:case 11:case 15:ka(o,u,a),is(4,u);break;case 1:if(ka(o,u,a),r=u,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(C){Ce(r,r.return,C)}if(r=u,o=r.updateQueue,o!==null){var v=r.stateNode;try{var _=o.shared.hiddenCallbacks;if(_!==null)for(o.shared.hiddenCallbacks=null,o=0;o<_.length;o++)Gd(_[o],v)}catch(C){Ce(r,r.return,C)}}a&&g&64&&ef(u),ls(u,u.return);break;case 27:rf(u);case 26:case 5:ka(o,u,a),a&&r===null&&g&4&&af(u),ls(u,u.return);break;case 12:ka(o,u,a);break;case 31:ka(o,u,a),a&&g&4&&cf(o,u);break;case 13:ka(o,u,a),a&&g&4&&df(o,u);break;case 22:u.memoizedState===null&&ka(o,u,a),ls(u,u.return);break;case 30:break;default:ka(o,u,a)}t=t.sibling}}function ru(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Xr(a))}function su(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xr(e))}function Ft(e,t,a,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gf(e,t,a,r),t=t.sibling}function gf(e,t,a,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Ft(e,t,a,r),o&2048&&is(9,t);break;case 1:Ft(e,t,a,r);break;case 3:Ft(e,t,a,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xr(e)));break;case 12:if(o&2048){Ft(e,t,a,r),e=t.stateNode;try{var u=t.memoizedProps,g=u.id,v=u.onPostCommit;typeof v=="function"&&v(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Ce(t,t.return,_)}}else Ft(e,t,a,r);break;case 31:Ft(e,t,a,r);break;case 13:Ft(e,t,a,r);break;case 23:break;case 22:u=t.stateNode,g=t.alternate,t.memoizedState!==null?u._visibility&2?Ft(e,t,a,r):os(e,t):u._visibility&2?Ft(e,t,a,r):(u._visibility|=2,lr(e,t,a,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&ru(g,t);break;case 24:Ft(e,t,a,r),o&2048&&su(t.alternate,t);break;default:Ft(e,t,a,r)}}function lr(e,t,a,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,g=t,v=a,_=r,C=g.flags;switch(g.tag){case 0:case 11:case 15:lr(u,g,v,_,o),is(8,g);break;case 23:break;case 22:var L=g.stateNode;g.memoizedState!==null?L._visibility&2?lr(u,g,v,_,o):os(u,g):(L._visibility|=2,lr(u,g,v,_,o)),o&&C&2048&&ru(g.alternate,g);break;case 24:lr(u,g,v,_,o),o&&C&2048&&su(g.alternate,g);break;default:lr(u,g,v,_,o)}t=t.sibling}}function os(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,r=t,o=r.flags;switch(r.tag){case 22:os(a,r),o&2048&&ru(r.alternate,r);break;case 24:os(a,r),o&2048&&su(r.alternate,r);break;default:os(a,r)}t=t.sibling}}var us=8192;function or(e,t,a){if(e.subtreeFlags&us)for(e=e.child;e!==null;)mf(e,t,a),e=e.sibling}function mf(e,t,a){switch(e.tag){case 26:or(e,t,a),e.flags&us&&e.memoizedState!==null&&gp(a,Zt,e.memoizedState,e.memoizedProps);break;case 5:or(e,t,a);break;case 3:case 4:var r=Zt;Zt=Vi(e.stateNode.containerInfo),or(e,t,a),Zt=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=us,us=16777216,or(e,t,a),us=r):or(e,t,a));break;default:or(e,t,a)}}function yf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function cs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];tt=r,vf(r,e)}yf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pf(e),e=e.sibling}function pf(e){switch(e.tag){case 0:case 11:case 15:cs(e),e.flags&2048&&Ya(9,e,e.return);break;case 3:cs(e);break;case 12:cs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Oi(e)):cs(e);break;default:cs(e)}}function Oi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];tt=r,vf(r,e)}yf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ya(8,t,t.return),Oi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Oi(t));break;default:Oi(t)}e=e.sibling}}function vf(e,t){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:Ya(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Xr(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,tt=r;else e:for(a=e;tt!==null;){r=tt;var o=r.sibling,u=r.return;if(of(r),r===a){tt=null;break e}if(o!==null){o.return=u,tt=o;break e}tt=u}}}var Oy={getCacheForType:function(e){var t=st(Ke),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return st(Ke).controller.signal}},Ay=typeof WeakMap=="function"?WeakMap:Map,Oe=0,ze=null,ve=null,xe=0,Ae=0,At=null,Pa=!1,ur=!1,iu=!1,Na=0,Ge=0,Ka=0,kn=0,lu=0,Ct=0,cr=0,ds=null,jt=null,ou=!1,Ai=0,bf=0,Ci=1/0,Ri=null,Xa=null,Fe=0,Qa=null,dr=null,Ta=0,uu=0,cu=null,xf=null,hs=0,du=null;function Rt(){return(Oe&2)!==0&&xe!==0?xe&-xe:z.T!==null?pu():Mc()}function wf(){if(Ct===0)if((xe&536870912)===0||je){var e=Hs;Hs<<=1,(Hs&3932160)===0&&(Hs=262144),Ct=e}else Ct=536870912;return e=Tt.current,e!==null&&(e.flags|=32),Ct}function Et(e,t,a){(e===ze&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(hr(e,0),Ia(e,xe,Ct,!1)),Ur(e,a),((Oe&2)===0||e!==ze)&&(e===ze&&((Oe&2)===0&&(kn|=a),Ge===4&&Ia(e,xe,Ct,!1)),ca(e))}function _f(e,t,a){if((Oe&6)!==0)throw Error(i(327));var r=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Rr(e,t),o=r?Uy(e,t):fu(e,t,!0),u=r;do{if(o===0){ur&&!r&&Ia(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!Cy(a)){o=fu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var v=e;o=ds;var _=v.current.memoizedState.isDehydrated;if(_&&(hr(v,g).flags|=256),g=fu(v,g,!1),g!==2){if(iu&&!_){v.errorRecoveryDisabledLanes|=u,kn|=u,o=4;break e}u=jt,jt=o,u!==null&&(jt===null?jt=u:jt.push.apply(jt,u))}o=g}if(u=!1,o!==2)continue}}if(o===1){hr(e,0),Ia(e,t,0,!0);break}e:{switch(r=e,u=o,u){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Ia(r,t,Ct,!Pa);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(o=Ai+300-dt(),10<o)){if(Ia(r,t,Ct,!Pa),Vs(r,0,!0)!==0)break e;Ta=t,r.timeoutHandle=Wf(Sf.bind(null,r,a,jt,Ri,ou,t,Ct,kn,cr,Pa,u,"Throttled",-0,0),o);break e}Sf(r,a,jt,Ri,ou,t,Ct,kn,cr,Pa,u,null,-0,0)}}break}while(!0);ca(e)}function Sf(e,t,a,r,o,u,g,v,_,C,L,V,U,B){if(e.timeoutHandle=-1,V=t.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fa},mf(t,u,V);var ee=(u&62914560)===u?Ai-dt():(u&4194048)===u?bf-dt():0;if(ee=mp(V,ee),ee!==null){Ta=u,e.cancelPendingCommit=ee(Cf.bind(null,e,t,u,a,r,o,g,v,_,L,V,null,U,B)),Ia(e,u,g,!C);return}}Cf(e,t,u,a,r,o,g,v,_)}function Cy(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var o=a[r],u=o.getSnapshot;o=o.value;try{if(!kt(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ia(e,t,a,r){t&=~lu,t&=~kn,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var u=31-ft(o),g=1<<u;r[u]=-1,o&=~g}a!==0&&Rc(e,a,t)}function Ui(){return(Oe&6)===0?(fs(0),!1):!0}function hu(){if(ve!==null){if(Ae===0)var e=ve.return;else e=ve,pa=pn=null,To(e),ar=null,Ir=0,e=ve;for(;e!==null;)Wh(e.alternate,e),e=e.return;ve=null}}function hr(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Zy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ta=0,hu(),ze=e,ve=a=ma(e.current,null),xe=t,Ae=0,At=null,Pa=!1,ur=Rr(e,t),iu=!1,cr=Ct=lu=kn=Ka=Ge=0,jt=ds=null,ou=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-ft(r),u=1<<o;t|=e[o],r&=~u}return Na=t,ei(),a}function jf(e,t){ge=null,z.H=ns,t===tr||t===oi?(t=qd(),Ae=3):t===yo?(t=qd(),Ae=4):Ae=t===Yo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,At=t,ve===null&&(Ge=1,_i(e,qt(t,e.current)))}function Ef(){var e=Tt.current;return e===null?!0:(xe&4194048)===xe?Gt===null:(xe&62914560)===xe||(xe&536870912)!==0?e===Gt:!1}function kf(){var e=z.H;return z.H=ns,e===null?ns:e}function Nf(){var e=z.A;return z.A=Oy,e}function Di(){Ge=4,Pa||(xe&4194048)!==xe&&Tt.current!==null||(ur=!0),(Ka&134217727)===0&&(kn&134217727)===0||ze===null||Ia(ze,xe,Ct,!1)}function fu(e,t,a){var r=Oe;Oe|=2;var o=kf(),u=Nf();(ze!==e||xe!==t)&&(Ri=null,hr(e,t)),t=!1;var g=Ge;e:do try{if(Ae!==0&&ve!==null){var v=ve,_=At;switch(Ae){case 8:hu(),g=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(t=!0);var C=Ae;if(Ae=0,At=null,fr(e,v,_,C),a&&ur){g=0;break e}break;default:C=Ae,Ae=0,At=null,fr(e,v,_,C)}}Ry(),g=Ge;break}catch(L){jf(e,L)}while(!0);return t&&e.shellSuspendCounter++,pa=pn=null,Oe=r,z.H=o,z.A=u,ve===null&&(ze=null,xe=0,ei()),g}function Ry(){for(;ve!==null;)Tf(ve)}function Uy(e,t){var a=Oe;Oe|=2;var r=kf(),o=Nf();ze!==e||xe!==t?(Ri=null,Ci=dt()+500,hr(e,t)):ur=Rr(e,t);e:do try{if(Ae!==0&&ve!==null){t=ve;var u=At;t:switch(Ae){case 1:Ae=0,At=null,fr(e,t,u,1);break;case 2:case 9:if(Bd(u)){Ae=0,At=null,Of(t);break}t=function(){Ae!==2&&Ae!==9||ze!==e||(Ae=7),ca(e)},u.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Bd(u)?(Ae=0,At=null,Of(t)):(Ae=0,At=null,fr(e,t,u,7));break;case 5:var g=null;switch(ve.tag){case 26:g=ve.memoizedState;case 5:case 27:var v=ve;if(g?g0(g):v.stateNode.complete){Ae=0,At=null;var _=v.sibling;if(_!==null)ve=_;else{var C=v.return;C!==null?(ve=C,Mi(C)):ve=null}break t}}Ae=0,At=null,fr(e,t,u,5);break;case 6:Ae=0,At=null,fr(e,t,u,6);break;case 8:hu(),Ge=6;break e;default:throw Error(i(462))}}Dy();break}catch(L){jf(e,L)}while(!0);return pa=pn=null,z.H=r,z.A=o,Oe=a,ve!==null?0:(ze=null,xe=0,ei(),Ge)}function Dy(){for(;ve!==null&&!zs();)Tf(ve)}function Tf(e){var t=Zh(e.alternate,e,Na);e.memoizedProps=e.pendingProps,t===null?Mi(e):ve=t}function Of(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Ph(a,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=Ph(a,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:To(t);default:Wh(a,t),t=ve=kd(t,Na),t=Zh(a,t,Na)}e.memoizedProps=e.pendingProps,t===null?Mi(e):ve=t}function fr(e,t,a,r){pa=pn=null,To(t),ar=null,Ir=0;var o=t.return;try{if(_y(e,o,t,a,xe)){Ge=1,_i(e,qt(a,e.current)),ve=null;return}}catch(u){if(o!==null)throw ve=o,u;Ge=1,_i(e,qt(a,e.current)),ve=null;return}t.flags&32768?(je||r===1?e=!0:ur||(xe&536870912)!==0?e=!1:(Pa=e=!0,(r===2||r===9||r===3||r===6)&&(r=Tt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Af(t,e)):Mi(t)}function Mi(e){var t=e;do{if((t.flags&32768)!==0){Af(t,Pa);return}e=t.return;var a=Ey(t.alternate,t,Na);if(a!==null){ve=a;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);Ge===0&&(Ge=5)}function Af(e,t){do{var a=ky(e.alternate,e);if(a!==null){a.flags&=32767,ve=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ve=e;return}ve=e=a}while(e!==null);Ge=6,ve=null}function Cf(e,t,a,r,o,u,g,v,_){e.cancelPendingCommit=null;do zi();while(Fe!==0);if((Oe&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(u=t.lanes|t.childLanes,u|=eo,fm(e,a,u,g,v,_),e===ze&&(ve=ze=null,xe=0),dr=t,Qa=e,Ta=a,uu=u,cu=o,xf=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ly(Dn,function(){return zf(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=z.T,z.T=null,o=R.p,R.p=2,g=Oe,Oe|=4;try{Ny(e,t,a)}finally{Oe=g,R.p=o,z.T=r}}Fe=1,Rf(),Uf(),Df()}}function Rf(){if(Fe===1){Fe=0;var e=Qa,t=dr,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var r=R.p;R.p=2;var o=Oe;Oe|=4;try{hf(t,e);var u=Eu,g=pd(e.containerInfo),v=u.focusedElem,_=u.selectionRange;if(g!==v&&v&&v.ownerDocument&&yd(v.ownerDocument.documentElement,v)){if(_!==null&&Il(v)){var C=_.start,L=_.end;if(L===void 0&&(L=C),"selectionStart"in v)v.selectionStart=C,v.selectionEnd=Math.min(L,v.value.length);else{var V=v.ownerDocument||document,U=V&&V.defaultView||window;if(U.getSelection){var B=U.getSelection(),ee=v.textContent.length,le=Math.min(_.start,ee),Me=_.end===void 0?le:Math.min(_.end,ee);!B.extend&&le>Me&&(g=Me,Me=le,le=g);var N=md(v,le),E=md(v,Me);if(N&&E&&(B.rangeCount!==1||B.anchorNode!==N.node||B.anchorOffset!==N.offset||B.focusNode!==E.node||B.focusOffset!==E.offset)){var A=V.createRange();A.setStart(N.node,N.offset),B.removeAllRanges(),le>Me?(B.addRange(A),B.extend(E.node,E.offset)):(A.setEnd(E.node,E.offset),B.addRange(A))}}}}for(V=[],B=v;B=B.parentNode;)B.nodeType===1&&V.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<V.length;v++){var $=V[v];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Qi=!!ju,Eu=ju=null}finally{Oe=o,R.p=r,z.T=a}}e.current=t,Fe=2}}function Uf(){if(Fe===2){Fe=0;var e=Qa,t=dr,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var r=R.p;R.p=2;var o=Oe;Oe|=4;try{lf(e,t.alternate,t)}finally{Oe=o,R.p=r,z.T=a}}Fe=3}}function Df(){if(Fe===4||Fe===3){Fe=0,_l();var e=Qa,t=dr,a=Ta,r=xf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Fe=5:(Fe=0,dr=Qa=null,Mf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Xa=null),Al(a),t=t.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(on,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=z.T,o=R.p,R.p=2,z.T=null;try{for(var u=e.onRecoverableError,g=0;g<r.length;g++){var v=r[g];u(v.value,{componentStack:v.stack})}}finally{z.T=t,R.p=o}}(Ta&3)!==0&&zi(),ca(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===du?hs++:(hs=0,du=e):hs=0,fs(0)}}function Mf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Xr(t)))}function zi(){return Rf(),Uf(),Df(),zf()}function zf(){if(Fe!==5)return!1;var e=Qa,t=uu;uu=0;var a=Al(Ta),r=z.T,o=R.p;try{R.p=32>a?32:a,z.T=null,a=cu,cu=null;var u=Qa,g=Ta;if(Fe=0,dr=Qa=null,Ta=0,(Oe&6)!==0)throw Error(i(331));var v=Oe;if(Oe|=4,pf(u.current),gf(u,u.current,g,a),Oe=v,fs(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(on,u)}catch{}return!0}finally{R.p=o,z.T=r,Mf(e,t)}}function Bf(e,t,a){t=qt(a,t),t=Go(e.stateNode,t,2),e=$a(e,t,2),e!==null&&(Ur(e,2),ca(e))}function Ce(e,t,a){if(e.tag===3)Bf(e,e,a);else for(;t!==null;){if(t.tag===3){Bf(t,e,a);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xa===null||!Xa.has(r))){e=qt(a,e),a=Bh(2),r=$a(t,a,2),r!==null&&(Lh(a,r,t,e),Ur(r,2),ca(r));break}}t=t.return}}function gu(e,t,a){var r=e.pingCache;if(r===null){r=e.pingCache=new Ay;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(a)||(iu=!0,o.add(a),e=My.bind(null,e,t,a),t.then(e,e))}function My(e,t,a){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ze===e&&(xe&a)===a&&(Ge===4||Ge===3&&(xe&62914560)===xe&&300>dt()-Ai?(Oe&2)===0&&hr(e,0):lu|=a,cr===xe&&(cr=0)),ca(e)}function Lf(e,t){t===0&&(t=Cc()),e=gn(e,t),e!==null&&(Ur(e,t),ca(e))}function zy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Lf(e,a)}function By(e,t){var a=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Lf(e,a)}function Ly(e,t){return It(e,t)}var Bi=null,gr=null,mu=!1,Li=!1,yu=!1,Ja=0;function ca(e){e!==gr&&e.next===null&&(gr===null?Bi=gr=e:gr=gr.next=e),Li=!0,mu||(mu=!0,Hy())}function fs(e,t){if(!yu&&Li){yu=!0;do for(var a=!1,r=Bi;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var u=0;else{var g=r.suspendedLanes,v=r.pingedLanes;u=(1<<31-ft(42|e)+1)-1,u&=o&~(g&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Vf(r,u))}else u=xe,u=Vs(r,r===ze?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||Rr(r,u)||(a=!0,Vf(r,u));r=r.next}while(a);yu=!1}}function qy(){qf()}function qf(){Li=mu=!1;var e=0;Ja!==0&&Jy()&&(e=Ja);for(var t=dt(),a=null,r=Bi;r!==null;){var o=r.next,u=Hf(r,t);u===0?(r.next=null,a===null?Bi=o:a.next=o,o===null&&(gr=a)):(a=r,(e!==0||(u&3)!==0)&&(Li=!0)),r=o}Fe!==0&&Fe!==5||fs(e),Ja!==0&&(Ja=0)}function Hf(e,t){for(var a=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var g=31-ft(u),v=1<<g,_=o[g];_===-1?((v&a)===0||(v&r)!==0)&&(o[g]=hm(v,t)):_<=t&&(e.expiredLanes|=v),u&=~v}if(t=ze,a=xe,a=Vs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&sa(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Rr(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(r!==null&&sa(r),Al(a)){case 2:case 8:a=Ls;break;case 32:a=Dn;break;case 268435456:a=qs;break;default:a=Dn}return r=$f.bind(null,e),a=It(a,r),e.callbackPriority=t,e.callbackNode=a,t}return r!==null&&r!==null&&sa(r),e.callbackPriority=2,e.callbackNode=null,2}function $f(e,t){if(Fe!==0&&Fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(zi()&&e.callbackNode!==a)return null;var r=xe;return r=Vs(e,e===ze?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(_f(e,r,t),Hf(e,dt()),e.callbackNode!=null&&e.callbackNode===a?$f.bind(null,e):null)}function Vf(e,t){if(zi())return null;_f(e,t,!0)}function Hy(){Fy(function(){(Oe&6)!==0?It(Bs,qy):qf()})}function pu(){if(Ja===0){var e=Wn;e===0&&(e=Ra,Ra<<=1,(Ra&261888)===0&&(Ra=256)),Ja=e}return Ja}function Gf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ks(""+e)}function Yf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function $y(e,t,a,r,o){if(t==="submit"&&a&&a.stateNode===o){var u=Gf((o[bt]||null).action),g=r.submitter;g&&(t=(t=g[bt]||null)?Gf(t.formAction):g.getAttribute("formAction"),t!==null&&(u=t,g=null));var v=new Js("action","action",null,r,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ja!==0){var _=g?Yf(o,g):new FormData(o);Bo(a,{pending:!0,data:_,method:o.method,action:u},null,_)}}else typeof u=="function"&&(v.preventDefault(),_=g?Yf(o,g):new FormData(o),Bo(a,{pending:!0,data:_,method:o.method,action:u},u,_))},currentTarget:o}]})}}for(var vu=0;vu<Wl.length;vu++){var bu=Wl[vu],Vy=bu.toLowerCase(),Gy=bu[0].toUpperCase()+bu.slice(1);Jt(Vy,"on"+Gy)}Jt(xd,"onAnimationEnd"),Jt(wd,"onAnimationIteration"),Jt(_d,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(sy,"onTransitionRun"),Jt(iy,"onTransitionStart"),Jt(ly,"onTransitionCancel"),Jt(Sd,"onTransitionEnd"),qn("onMouseEnter",["mouseout","mouseover"]),qn("onMouseLeave",["mouseout","mouseover"]),qn("onPointerEnter",["pointerout","pointerover"]),qn("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gs));function Pf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],o=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var g=r.length-1;0<=g;g--){var v=r[g],_=v.instance,C=v.currentTarget;if(v=v.listener,_!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=C;try{u(o)}catch(L){Ws(L)}o.currentTarget=null,u=_}else for(g=0;g<r.length;g++){if(v=r[g],_=v.instance,C=v.currentTarget,v=v.listener,_!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=C;try{u(o)}catch(L){Ws(L)}o.currentTarget=null,u=_}}}}function be(e,t){var a=t[Cl];a===void 0&&(a=t[Cl]=new Set);var r=e+"__bubble";a.has(r)||(Kf(t,e,2,!1),a.add(r))}function xu(e,t,a){var r=0;t&&(r|=4),Kf(a,e,r,t)}var qi="_reactListening"+Math.random().toString(36).slice(2);function wu(e){if(!e[qi]){e[qi]=!0,Lc.forEach(function(a){a!=="selectionchange"&&(Yy.has(a)||xu(a,!1,e),xu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qi]||(t[qi]=!0,xu("selectionchange",!1,t))}}function Kf(e,t,a,r){switch(w0(t)){case 2:var o=vp;break;case 8:o=bp;break;default:o=zu}a=o.bind(null,t,a,e),o=void 0,!Hl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function _u(e,t,a,r,o){var u=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var g=r.tag;if(g===3||g===4){var v=r.stateNode.containerInfo;if(v===o)break;if(g===4)for(g=r.return;g!==null;){var _=g.tag;if((_===3||_===4)&&g.stateNode.containerInfo===o)return;g=g.return}for(;v!==null;){if(g=zn(v),g===null)return;if(_=g.tag,_===5||_===6||_===26||_===27){r=u=g;continue e}v=v.parentNode}}r=r.return}Jc(function(){var C=u,L=Ll(a),V=[];e:{var U=jd.get(e);if(U!==void 0){var B=Js,ee=e;switch(e){case"keypress":if(Qs(a)===0)break e;case"keydown":case"keyup":B=Bm;break;case"focusin":ee="focus",B=Yl;break;case"focusout":ee="blur",B=Yl;break;case"beforeblur":case"afterblur":B=Yl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Em;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Hm;break;case xd:case wd:case _d:B=Tm;break;case Sd:B=Vm;break;case"scroll":case"scrollend":B=Sm;break;case"wheel":B=Ym;break;case"copy":case"cut":case"paste":B=Am;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=td;break;case"toggle":case"beforetoggle":B=Km}var le=(t&4)!==0,Me=!le&&(e==="scroll"||e==="scrollend"),N=le?U!==null?U+"Capture":null:U;le=[];for(var E=C,A;E!==null;){var $=E;if(A=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||A===null||N===null||($=zr(E,N),$!=null&&le.push(ms(E,$,A))),Me)break;E=E.return}0<le.length&&(U=new B(U,ee,null,a,L),V.push({event:U,listeners:le}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",U&&a!==Bl&&(ee=a.relatedTarget||a.fromElement)&&(zn(ee)||ee[Mn]))break e;if((B||U)&&(U=L.window===L?L:(U=L.ownerDocument)?U.defaultView||U.parentWindow:window,B?(ee=a.relatedTarget||a.toElement,B=C,ee=ee?zn(ee):null,ee!==null&&(Me=d(ee),le=ee.tag,ee!==Me||le!==5&&le!==27&&le!==6)&&(ee=null)):(B=null,ee=C),B!==ee)){if(le=Wc,$="onMouseLeave",N="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(le=td,$="onPointerLeave",N="onPointerEnter",E="pointer"),Me=B==null?U:Mr(B),A=ee==null?U:Mr(ee),U=new le($,E+"leave",B,a,L),U.target=Me,U.relatedTarget=A,$=null,zn(L)===C&&(le=new le(N,E+"enter",ee,a,L),le.target=A,le.relatedTarget=Me,$=le),Me=$,B&&ee)t:{for(le=Py,N=B,E=ee,A=0,$=N;$;$=le($))A++;$=0;for(var se=E;se;se=le(se))$++;for(;0<A-$;)N=le(N),A--;for(;0<$-A;)E=le(E),$--;for(;A--;){if(N===E||E!==null&&N===E.alternate){le=N;break t}N=le(N),E=le(E)}le=null}else le=null;B!==null&&Xf(V,U,B,le,!1),ee!==null&&Me!==null&&Xf(V,Me,ee,le,!0)}}e:{if(U=C?Mr(C):window,B=U.nodeName&&U.nodeName.toLowerCase(),B==="select"||B==="input"&&U.type==="file")var Ne=ud;else if(ld(U))if(cd)Ne=ay;else{Ne=ey;var te=Wm}else B=U.nodeName,!B||B.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?C&&zl(C.elementType)&&(Ne=ud):Ne=ty;if(Ne&&(Ne=Ne(e,C))){od(V,Ne,a,L);break e}te&&te(e,U,C),e==="focusout"&&C&&U.type==="number"&&C.memoizedProps.value!=null&&Ml(U,"number",U.value)}switch(te=C?Mr(C):window,e){case"focusin":(ld(te)||te.contentEditable==="true")&&(Pn=te,Jl=C,Yr=null);break;case"focusout":Yr=Jl=Pn=null;break;case"mousedown":Zl=!0;break;case"contextmenu":case"mouseup":case"dragend":Zl=!1,vd(V,a,L);break;case"selectionchange":if(ry)break;case"keydown":case"keyup":vd(V,a,L)}var me;if(Kl)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Yn?sd(e,a)&&(we="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(ad&&a.locale!=="ko"&&(Yn||we!=="onCompositionStart"?we==="onCompositionEnd"&&Yn&&(me=Zc()):(Da=L,$l="value"in Da?Da.value:Da.textContent,Yn=!0)),te=Hi(C,we),0<te.length&&(we=new ed(we,e,null,a,L),V.push({event:we,listeners:te}),me?we.data=me:(me=id(a),me!==null&&(we.data=me)))),(me=Qm?Im(e,a):Jm(e,a))&&(we=Hi(C,"onBeforeInput"),0<we.length&&(te=new ed("onBeforeInput","beforeinput",null,a,L),V.push({event:te,listeners:we}),te.data=me)),$y(V,e,C,a,L)}Pf(V,t)})}function ms(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Hi(e,t){for(var a=t+"Capture",r=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=zr(e,a),o!=null&&r.unshift(ms(e,o,u)),o=zr(e,t),o!=null&&r.push(ms(e,o,u))),e.tag===3)return r;e=e.return}return[]}function Py(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xf(e,t,a,r,o){for(var u=t._reactName,g=[];a!==null&&a!==r;){var v=a,_=v.alternate,C=v.stateNode;if(v=v.tag,_!==null&&_===r)break;v!==5&&v!==26&&v!==27||C===null||(_=C,o?(C=zr(a,u),C!=null&&g.unshift(ms(a,C,_))):o||(C=zr(a,u),C!=null&&g.push(ms(a,C,_)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var Ky=/\r\n?/g,Xy=/\u0000|\uFFFD/g;function Qf(e){return(typeof e=="string"?e:""+e).replace(Ky,`
`).replace(Xy,"")}function If(e,t){return t=Qf(t),Qf(e)===t}function De(e,t,a,r,o,u){switch(a){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||$n(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&$n(e,""+r);break;case"className":Ys(e,"class",r);break;case"tabIndex":Ys(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Ys(e,a,r);break;case"style":Qc(e,r,u);break;case"data":if(t!=="object"){Ys(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Ks(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&De(e,t,"name",o.name,o,null),De(e,t,"formEncType",o.formEncType,o,null),De(e,t,"formMethod",o.formMethod,o,null),De(e,t,"formTarget",o.formTarget,o,null)):(De(e,t,"encType",o.encType,o,null),De(e,t,"method",o.method,o,null),De(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Ks(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=fa);break;case"onScroll":r!=null&&be("scroll",e);break;case"onScrollEnd":r!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(a=r.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=Ks(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":be("beforetoggle",e),be("toggle",e),Gs(e,"popover",r);break;case"xlinkActuate":ha(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ha(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ha(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ha(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ha(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ha(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ha(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ha(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ha(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Gs(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wm.get(a)||a,Gs(e,a,r))}}function Su(e,t,a,r,o,u){switch(a){case"style":Qc(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(a=r.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof r=="string"?$n(e,r):(typeof r=="number"||typeof r=="bigint")&&$n(e,""+r);break;case"onScroll":r!=null&&be("scroll",e);break;case"onScrollEnd":r!=null&&be("scrollend",e);break;case"onClick":r!=null&&(e.onclick=fa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[bt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof r=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,r,o);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):Gs(e,a,r)}}}function lt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var r=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var g=a[u];if(g!=null)switch(u){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:De(e,t,u,g,a,null)}}o&&De(e,t,"srcSet",a.srcSet,a,null),r&&De(e,t,"src",a.src,a,null);return;case"input":be("invalid",e);var v=u=g=o=null,_=null,C=null;for(r in a)if(a.hasOwnProperty(r)){var L=a[r];if(L!=null)switch(r){case"name":o=L;break;case"type":g=L;break;case"checked":_=L;break;case"defaultChecked":C=L;break;case"value":u=L;break;case"defaultValue":v=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(137,t));break;default:De(e,t,r,L,a,null)}}Yc(e,u,v,_,C,g,o,!1);return;case"select":be("invalid",e),r=g=u=null;for(o in a)if(a.hasOwnProperty(o)&&(v=a[o],v!=null))switch(o){case"value":u=v;break;case"defaultValue":g=v;break;case"multiple":r=v;default:De(e,t,o,v,a,null)}t=u,a=g,e.multiple=!!r,t!=null?Hn(e,!!r,t,!1):a!=null&&Hn(e,!!r,a,!0);return;case"textarea":be("invalid",e),u=o=r=null;for(g in a)if(a.hasOwnProperty(g)&&(v=a[g],v!=null))switch(g){case"value":r=v;break;case"defaultValue":o=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:De(e,t,g,v,a,null)}Kc(e,r,o,u);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(r=a[_],r!=null))switch(_){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:De(e,t,_,r,a,null)}return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(r=0;r<gs.length;r++)be(gs[r],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in a)if(a.hasOwnProperty(C)&&(r=a[C],r!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:De(e,t,C,r,a,null)}return;default:if(zl(t)){for(L in a)a.hasOwnProperty(L)&&(r=a[L],r!==void 0&&Su(e,t,L,r,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(r=a[v],r!=null&&De(e,t,v,r,a,null))}function Qy(e,t,a,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,g=null,v=null,_=null,C=null,L=null;for(B in a){var V=a[B];if(a.hasOwnProperty(B)&&V!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":_=V;default:r.hasOwnProperty(B)||De(e,t,B,null,r,V)}}for(var U in r){var B=r[U];if(V=a[U],r.hasOwnProperty(U)&&(B!=null||V!=null))switch(U){case"type":u=B;break;case"name":o=B;break;case"checked":C=B;break;case"defaultChecked":L=B;break;case"value":g=B;break;case"defaultValue":v=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,t));break;default:B!==V&&De(e,t,U,B,r,V)}}Dl(e,g,v,_,C,L,u,o);return;case"select":B=g=v=U=null;for(u in a)if(_=a[u],a.hasOwnProperty(u)&&_!=null)switch(u){case"value":break;case"multiple":B=_;default:r.hasOwnProperty(u)||De(e,t,u,null,r,_)}for(o in r)if(u=r[o],_=a[o],r.hasOwnProperty(o)&&(u!=null||_!=null))switch(o){case"value":U=u;break;case"defaultValue":v=u;break;case"multiple":g=u;default:u!==_&&De(e,t,o,u,r,_)}t=v,a=g,r=B,U!=null?Hn(e,!!a,U,!1):!!r!=!!a&&(t!=null?Hn(e,!!a,t,!0):Hn(e,!!a,a?[]:"",!1));return;case"textarea":B=U=null;for(v in a)if(o=a[v],a.hasOwnProperty(v)&&o!=null&&!r.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:De(e,t,v,null,r,o)}for(g in r)if(o=r[g],u=a[g],r.hasOwnProperty(g)&&(o!=null||u!=null))switch(g){case"value":U=o;break;case"defaultValue":B=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(i(91));break;default:o!==u&&De(e,t,g,o,r,u)}Pc(e,U,B);return;case"option":for(var ee in a)if(U=a[ee],a.hasOwnProperty(ee)&&U!=null&&!r.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:De(e,t,ee,null,r,U)}for(_ in r)if(U=r[_],B=a[_],r.hasOwnProperty(_)&&U!==B&&(U!=null||B!=null))switch(_){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:De(e,t,_,U,r,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in a)U=a[le],a.hasOwnProperty(le)&&U!=null&&!r.hasOwnProperty(le)&&De(e,t,le,null,r,U);for(C in r)if(U=r[C],B=a[C],r.hasOwnProperty(C)&&U!==B&&(U!=null||B!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,t));break;default:De(e,t,C,U,r,B)}return;default:if(zl(t)){for(var Me in a)U=a[Me],a.hasOwnProperty(Me)&&U!==void 0&&!r.hasOwnProperty(Me)&&Su(e,t,Me,void 0,r,U);for(L in r)U=r[L],B=a[L],!r.hasOwnProperty(L)||U===B||U===void 0&&B===void 0||Su(e,t,L,U,r,B);return}}for(var N in a)U=a[N],a.hasOwnProperty(N)&&U!=null&&!r.hasOwnProperty(N)&&De(e,t,N,null,r,U);for(V in r)U=r[V],B=a[V],!r.hasOwnProperty(V)||U===B||U==null&&B==null||De(e,t,V,U,r,B)}function Jf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Iy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var o=a[r],u=o.transferSize,g=o.initiatorType,v=o.duration;if(u&&v&&Jf(g)){for(g=0,v=o.responseEnd,r+=1;r<a.length;r++){var _=a[r],C=_.startTime;if(C>v)break;var L=_.transferSize,V=_.initiatorType;L&&Jf(V)&&(_=_.responseEnd,g+=L*(_<v?1:(v-C)/(_-C)))}if(--r,t+=8*(u+g)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ju=null,Eu=null;function $i(e){return e.nodeType===9?e:e.ownerDocument}function Zf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ff(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ku(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nu=null;function Jy(){var e=window.event;return e&&e.type==="popstate"?e===Nu?!1:(Nu=e,!0):(Nu=null,!1)}var Wf=typeof setTimeout=="function"?setTimeout:void 0,Zy=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,Fy=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(e){return e0.resolve(null).then(e).catch(Wy)}:Wf;function Wy(e){setTimeout(function(){throw e})}function Za(e){return e==="head"}function t0(e,t){var a=t,r=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(r===0){e.removeChild(o),vr(t);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")ys(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ys(a);for(var u=a.firstChild;u;){var g=u.nextSibling,v=u.nodeName;u[Dr]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=g}}else a==="body"&&ys(e.ownerDocument.body);a=o}while(a);vr(t)}function a0(e,t){var a=e;e=0;do{var r=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=r}while(a)}function Tu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Tu(a),Rl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ep(e,t,a,r){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Dr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function tp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yt(e.nextSibling),e===null))return null;return e}function n0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Yt(e.nextSibling),e===null))return null;return e}function Ou(e){return e.data==="$?"||e.data==="$~"}function Au(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ap(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var r=function(){t(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Cu=null;function r0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Yt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function s0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function i0(e,t,a){switch(t=$i(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function ys(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Rl(e)}var Pt=new Map,l0=new Set;function Vi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Oa=R.d;R.d={f:np,r:rp,D:sp,C:ip,L:lp,m:op,X:cp,S:up,M:dp};function np(){var e=Oa.f(),t=Ui();return e||t}function rp(e){var t=Bn(e);t!==null&&t.tag===5&&t.type==="form"?Sh(t):Oa.r(e)}var mr=typeof document>"u"?null:document;function o0(e,t,a){var r=mr;if(r&&typeof t=="string"&&t){var o=Bt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),l0.has(o)||(l0.add(o),e={rel:e,crossOrigin:a,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),lt(t,"link",e),et(t),r.head.appendChild(t)))}}function sp(e){Oa.D(e),o0("dns-prefetch",e,null)}function ip(e,t){Oa.C(e,t),o0("preconnect",e,t)}function lp(e,t,a){Oa.L(e,t,a);var r=mr;if(r&&e&&t){var o='link[rel="preload"][as="'+Bt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Bt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Bt(a.imageSizes)+'"]')):o+='[href="'+Bt(e)+'"]';var u=o;switch(t){case"style":u=yr(e);break;case"script":u=pr(e)}Pt.has(u)||(e=w({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Pt.set(u,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(ps(u))||t==="script"&&r.querySelector(vs(u))||(t=r.createElement("link"),lt(t,"link",e),et(t),r.head.appendChild(t)))}}function op(e,t){Oa.m(e,t);var a=mr;if(a&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Bt(r)+'"][href="'+Bt(e)+'"]',u=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=pr(e)}if(!Pt.has(u)&&(e=w({rel:"modulepreload",href:e},t),Pt.set(u,e),a.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vs(u)))return}r=a.createElement("link"),lt(r,"link",e),et(r),a.head.appendChild(r)}}}function up(e,t,a){Oa.S(e,t,a);var r=mr;if(r&&e){var o=Ln(r).hoistableStyles,u=yr(e);t=t||"default";var g=o.get(u);if(!g){var v={loading:0,preload:null};if(g=r.querySelector(ps(u)))v.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Pt.get(u))&&Ru(e,a);var _=g=r.createElement("link");et(_),lt(_,"link",e),_._p=new Promise(function(C,L){_.onload=C,_.onerror=L}),_.addEventListener("load",function(){v.loading|=1}),_.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Gi(g,t,r)}g={type:"stylesheet",instance:g,count:1,state:v},o.set(u,g)}}}function cp(e,t){Oa.X(e,t);var a=mr;if(a&&e){var r=Ln(a).hoistableScripts,o=pr(e),u=r.get(o);u||(u=a.querySelector(vs(o)),u||(e=w({src:e,async:!0},t),(t=Pt.get(o))&&Uu(e,t),u=a.createElement("script"),et(u),lt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function dp(e,t){Oa.M(e,t);var a=mr;if(a&&e){var r=Ln(a).hoistableScripts,o=pr(e),u=r.get(o);u||(u=a.querySelector(vs(o)),u||(e=w({src:e,async:!0,type:"module"},t),(t=Pt.get(o))&&Uu(e,t),u=a.createElement("script"),et(u),lt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function u0(e,t,a,r){var o=(o=de.current)?Vi(o):null;if(!o)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=yr(a.href),a=Ln(o).hoistableStyles,r=a.get(t),r||(r={type:"style",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=yr(a.href);var u=Ln(o).hoistableStyles,g=u.get(e);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,g),(u=o.querySelector(ps(e)))&&!u._p&&(g.instance=u,g.state.loading=5),Pt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pt.set(e,a),u||hp(o,e,a,g.state))),t&&r===null)throw Error(i(528,""));return g}if(t&&r!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=pr(a),a=Ln(o).hoistableScripts,r=a.get(t),r||(r={type:"script",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function yr(e){return'href="'+Bt(e)+'"'}function ps(e){return'link[rel="stylesheet"]['+e+"]"}function c0(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function hp(e,t,a,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),lt(t,"link",a),et(t),e.head.appendChild(t))}function pr(e){return'[src="'+Bt(e)+'"]'}function vs(e){return"script[async]"+e}function d0(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Bt(a.href)+'"]');if(r)return t.instance=r,et(r),r;var o=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),et(r),lt(r,"style",o),Gi(r,a.precedence,e),t.instance=r;case"stylesheet":o=yr(a.href);var u=e.querySelector(ps(o));if(u)return t.state.loading|=4,t.instance=u,et(u),u;r=c0(a),(o=Pt.get(o))&&Ru(r,o),u=(e.ownerDocument||e).createElement("link"),et(u);var g=u;return g._p=new Promise(function(v,_){g.onload=v,g.onerror=_}),lt(u,"link",r),t.state.loading|=4,Gi(u,a.precedence,e),t.instance=u;case"script":return u=pr(a.src),(o=e.querySelector(vs(u)))?(t.instance=o,et(o),o):(r=a,(o=Pt.get(u))&&(r=w({},a),Uu(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),et(o),lt(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Gi(r,a.precedence,e));return t.instance}function Gi(e,t,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,u=o,g=0;g<r.length;g++){var v=r[g];if(v.dataset.precedence===t)u=v;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Ru(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Uu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yi=null;function h0(e,t,a){if(Yi===null){var r=new Map,o=Yi=new Map;o.set(a,r)}else o=Yi,r=o.get(a),r||(r=new Map,o.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[Dr]||u[nt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var g=u.getAttribute(t)||"";g=e+g;var v=r.get(g);v?v.push(u):r.set(g,[u])}}return r}function f0(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function fp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function g0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gp(e,t,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=yr(r.href),u=t.querySelector(ps(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Pi.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,et(u);return}u=t.ownerDocument||t,r=c0(r),(o=Pt.get(o))&&Ru(r,o),u=u.createElement("link"),et(u);var g=u;g._p=new Promise(function(v,_){g.onload=v,g.onerror=_}),lt(u,"link",r),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Pi.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Du=0;function mp(e,t){return e.stylesheets&&e.count===0&&Xi(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var r=setTimeout(function(){if(e.stylesheets&&Xi(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Du===0&&(Du=62500*Iy());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xi(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Du?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function Pi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ki=null;function Xi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ki=new Map,t.forEach(yp,e),Ki=null,Pi.call(e))}function yp(e,t){if(!(t.state.loading&4)){var a=Ki.get(e);if(a)var r=a.get(null);else{a=new Map,Ki.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var g=o[u];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),r=g)}r&&a.set(null,r)}o=t.instance,g=o.getAttribute("data-precedence"),u=a.get(g)||r,u===r&&a.set(null,o),a.set(g,o),this.count++,r=Pi.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var bs={$$typeof:H,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function pp(e,t,a,r,o,u,g,v,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tl(0),this.hiddenUpdates=Tl(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function m0(e,t,a,r,o,u,g,v,_,C,L,V){return e=new pp(e,t,a,g,_,C,L,V,v),t=1,u===!0&&(t|=24),u=Nt(3,null,null,t),e.current=u,u.stateNode=e,t=fo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:r,isDehydrated:a,cache:t},po(u),e}function y0(e){return e?(e=Qn,e):Qn}function p0(e,t,a,r,o,u){o=y0(o),r.context===null?r.context=o:r.pendingContext=o,r=Ha(t),r.payload={element:a},u=u===void 0?null:u,u!==null&&(r.callback=u),a=$a(e,r,t),a!==null&&(Et(a,e,t),Zr(a,e,t))}function v0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Mu(e,t){v0(e,t),(e=e.alternate)&&v0(e,t)}function b0(e){if(e.tag===13||e.tag===31){var t=gn(e,67108864);t!==null&&Et(t,e,67108864),Mu(e,67108864)}}function x0(e){if(e.tag===13||e.tag===31){var t=Rt();t=Ol(t);var a=gn(e,t);a!==null&&Et(a,e,t),Mu(e,t)}}var Qi=!0;function vp(e,t,a,r){var o=z.T;z.T=null;var u=R.p;try{R.p=2,zu(e,t,a,r)}finally{R.p=u,z.T=o}}function bp(e,t,a,r){var o=z.T;z.T=null;var u=R.p;try{R.p=8,zu(e,t,a,r)}finally{R.p=u,z.T=o}}function zu(e,t,a,r){if(Qi){var o=Bu(r);if(o===null)_u(e,t,r,Ii,a),_0(e,r);else if(wp(o,e,t,a,r))r.stopPropagation();else if(_0(e,r),t&4&&-1<xp.indexOf(e)){for(;o!==null;){var u=Bn(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var g=un(u.pendingLanes);if(g!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var _=1<<31-ft(g);v.entanglements[1]|=_,g&=~_}ca(u),(Oe&6)===0&&(Ci=dt()+500,fs(0))}}break;case 31:case 13:v=gn(u,2),v!==null&&Et(v,u,2),Ui(),Mu(u,2)}if(u=Bu(r),u===null&&_u(e,t,r,Ii,a),u===o)break;o=u}o!==null&&r.stopPropagation()}else _u(e,t,r,null,a)}}function Bu(e){return e=Ll(e),Lu(e)}var Ii=null;function Lu(e){if(Ii=null,e=zn(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ii=e,null}function w0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sl()){case Bs:return 2;case Ls:return 8;case Dn:case jl:return 32;case qs:return 268435456;default:return 32}default:return 32}}var qu=!1,Fa=null,Wa=null,en=null,xs=new Map,ws=new Map,tn=[],xp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _0(e,t){switch(e){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":xs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(t.pointerId)}}function _s(e,t,a,r,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:r,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Bn(t),t!==null&&b0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function wp(e,t,a,r,o){switch(t){case"focusin":return Fa=_s(Fa,e,t,a,r,o),!0;case"dragenter":return Wa=_s(Wa,e,t,a,r,o),!0;case"mouseover":return en=_s(en,e,t,a,r,o),!0;case"pointerover":var u=o.pointerId;return xs.set(u,_s(xs.get(u)||null,e,t,a,r,o)),!0;case"gotpointercapture":return u=o.pointerId,ws.set(u,_s(ws.get(u)||null,e,t,a,r,o)),!0}return!1}function S0(e){var t=zn(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,zc(e.priority,function(){x0(a)});return}}else if(t===31){if(t=m(a),t!==null){e.blockedOn=t,zc(e.priority,function(){x0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ji(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Bu(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);Bl=r,a.target.dispatchEvent(r),Bl=null}else return t=Bn(a),t!==null&&b0(t),e.blockedOn=a,!1;t.shift()}return!0}function j0(e,t,a){Ji(e)&&a.delete(t)}function _p(){qu=!1,Fa!==null&&Ji(Fa)&&(Fa=null),Wa!==null&&Ji(Wa)&&(Wa=null),en!==null&&Ji(en)&&(en=null),xs.forEach(j0),ws.forEach(j0)}function Zi(e,t){e.blockedOn===t&&(e.blockedOn=null,qu||(qu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,_p)))}var Fi=null;function E0(e){Fi!==e&&(Fi=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Fi===e&&(Fi=null);for(var t=0;t<e.length;t+=3){var a=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(Lu(r||a)===null)continue;break}var u=Bn(a);u!==null&&(e.splice(t,3),t-=3,Bo(u,{pending:!0,data:o,method:a.method,action:r},r,o))}}))}function vr(e){function t(_){return Zi(_,e)}Fa!==null&&Zi(Fa,e),Wa!==null&&Zi(Wa,e),en!==null&&Zi(en,e),xs.forEach(t),ws.forEach(t);for(var a=0;a<tn.length;a++){var r=tn[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<tn.length&&(a=tn[0],a.blockedOn===null);)S0(a),a.blockedOn===null&&tn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var o=a[r],u=a[r+1],g=o[bt]||null;if(typeof u=="function")g||E0(a);else if(g){var v=null;if(u&&u.hasAttribute("formAction")){if(o=u,g=u[bt]||null)v=g.formAction;else if(Lu(o)!==null)continue}else v=g.action;typeof v=="function"?a[r+1]=v:(a.splice(r,3),r-=3),E0(a)}}}function k0(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(g){return o=g})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Hu(e){this._internalRoot=e}Wi.prototype.render=Hu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,r=Rt();p0(a,r,e,t,null,null)},Wi.prototype.unmount=Hu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;p0(e.current,2,null,e,null,null),Ui(),t[Mn]=null}};function Wi(e){this._internalRoot=e}Wi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<tn.length&&t!==0&&t<tn[a].priority;a++);tn.splice(a,0,e),a===0&&S0(e)}};var N0=n.version;if(N0!=="19.2.0")throw Error(i(527,N0,"19.2.0"));R.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=y(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Sp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{on=el.inject(Sp),ht=el}catch{}}return js.createRoot=function(e,t){if(!c(e))throw Error(i(299));var a=!1,r="",o=Uh,u=Dh,g=Mh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=m0(e,1,!1,null,null,a,r,null,o,u,g,k0),e[Mn]=t.current,wu(e),new Hu(t)},js.hydrateRoot=function(e,t,a){if(!c(e))throw Error(i(299));var r=!1,o="",u=Uh,g=Dh,v=Mh,_=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),t=m0(e,1,!0,t,a??null,r,o,_,u,g,v,k0),t.context=y0(null),a=t.current,r=Rt(),r=Ol(r),o=Ha(r),o.callback=null,$a(a,o,r),a=r,t.current.lanes=a,Ur(t,a),ca(t),e[Mn]=t.current,wu(e),new Wi(t)},js.version="19.2.0",js}var B0;function Mp(){if(B0)return Gu.exports;B0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Gu.exports=Dp(),Gu.exports}var zp=Mp();const Bp=xc(zp);var nc=function(l,n){return nc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(s[c]=i[c])},nc(l,n)};function mg(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");nc(l,n);function s(){this.constructor=l}l.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}var ml=function(){return ml=Object.assign||function(n){for(var s,i=1,c=arguments.length;i<c;i++){s=arguments[i];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(n[d]=s[d])}return n},ml.apply(this,arguments)};function Or(l,n){var s={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&n.indexOf(i)<0&&(s[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(l);c<i.length;c++)n.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(l,i[c])&&(s[i[c]]=l[i[c]]);return s}function yg(l,n,s,i){var c=arguments.length,d=c<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,s):i,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(l,n,s,i);else for(var m=l.length-1;m>=0;m--)(f=l[m])&&(d=(c<3?f(d):c>3?f(n,s,d):f(n,s))||d);return c>3&&d&&Object.defineProperty(n,s,d),d}function pg(l,n){return function(s,i){n(s,i,l)}}function vg(l,n,s,i,c,d){function f(D){if(D!==void 0&&typeof D!="function")throw new TypeError("Function expected");return D}for(var m=i.kind,p=m==="getter"?"get":m==="setter"?"set":"value",y=!n&&l?i.static?l:l.prototype:null,b=n||(y?Object.getOwnPropertyDescriptor(y,i.name):{}),w,x=!1,S=s.length-1;S>=0;S--){var k={};for(var T in i)k[T]=T==="access"?{}:i[T];for(var T in i.access)k.access[T]=i.access[T];k.addInitializer=function(D){if(x)throw new TypeError("Cannot add initializers after decoration has completed");d.push(f(D||null))};var O=(0,s[S])(m==="accessor"?{get:b.get,set:b.set}:b[p],k);if(m==="accessor"){if(O===void 0)continue;if(O===null||typeof O!="object")throw new TypeError("Object expected");(w=f(O.get))&&(b.get=w),(w=f(O.set))&&(b.set=w),(w=f(O.init))&&c.unshift(w)}else(w=f(O))&&(m==="field"?c.unshift(w):b[p]=w)}y&&Object.defineProperty(y,i.name,b),x=!0}function bg(l,n,s){for(var i=arguments.length>2,c=0;c<n.length;c++)s=i?n[c].call(l,s):n[c].call(l);return i?s:void 0}function xg(l){return typeof l=="symbol"?l:"".concat(l)}function wg(l,n,s){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:s?"".concat(s," ",n):n})}function _g(l,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,n)}function ae(l,n,s,i){function c(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function m(b){try{y(i.next(b))}catch(w){f(w)}}function p(b){try{y(i.throw(b))}catch(w){f(w)}}function y(b){b.done?d(b.value):c(b.value).then(m,p)}y((i=i.apply(l,n||[])).next())})}function Sg(l,n){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},i,c,d,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=m(0),f.throw=m(1),f.return=m(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(y){return function(b){return p([y,b])}}function p(y){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,y[0]&&(s=0)),s;)try{if(i=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return s.label++,{value:y[1],done:!1};case 5:s.label++,c=y[1],y=[0];continue;case 7:y=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){s=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){s.label=y[1];break}if(y[0]===6&&s.label<d[1]){s.label=d[1],d=y;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(y);break}d[2]&&s.ops.pop(),s.trys.pop();continue}y=n.call(l,s)}catch(b){y=[6,b],c=0}finally{i=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var xl=Object.create?(function(l,n,s,i){i===void 0&&(i=s);var c=Object.getOwnPropertyDescriptor(n,s);(!c||("get"in c?!n.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return n[s]}}),Object.defineProperty(l,i,c)}):(function(l,n,s,i){i===void 0&&(i=s),l[i]=n[s]});function jg(l,n){for(var s in l)s!=="default"&&!Object.prototype.hasOwnProperty.call(n,s)&&xl(n,l,s)}function yl(l){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&l[n],i=0;if(s)return s.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function _c(l,n){var s=typeof Symbol=="function"&&l[Symbol.iterator];if(!s)return l;var i=s.call(l),c,d=[],f;try{for(;(n===void 0||n-- >0)&&!(c=i.next()).done;)d.push(c.value)}catch(m){f={error:m}}finally{try{c&&!c.done&&(s=i.return)&&s.call(i)}finally{if(f)throw f.error}}return d}function Eg(){for(var l=[],n=0;n<arguments.length;n++)l=l.concat(_c(arguments[n]));return l}function kg(){for(var l=0,n=0,s=arguments.length;n<s;n++)l+=arguments[n].length;for(var i=Array(l),c=0,n=0;n<s;n++)for(var d=arguments[n],f=0,m=d.length;f<m;f++,c++)i[c]=d[f];return i}function Ng(l,n,s){if(s||arguments.length===2)for(var i=0,c=n.length,d;i<c;i++)(d||!(i in n))&&(d||(d=Array.prototype.slice.call(n,0,i)),d[i]=n[i]);return l.concat(d||Array.prototype.slice.call(n))}function Nr(l){return this instanceof Nr?(this.v=l,this):new Nr(l)}function Tg(l,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=s.apply(l,n||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",f),c[Symbol.asyncIterator]=function(){return this},c;function f(S){return function(k){return Promise.resolve(k).then(S,w)}}function m(S,k){i[S]&&(c[S]=function(T){return new Promise(function(O,D){d.push([S,T,O,D])>1||p(S,T)})},k&&(c[S]=k(c[S])))}function p(S,k){try{y(i[S](k))}catch(T){x(d[0][3],T)}}function y(S){S.value instanceof Nr?Promise.resolve(S.value.v).then(b,w):x(d[0][2],S)}function b(S){p("next",S)}function w(S){p("throw",S)}function x(S,k){S(k),d.shift(),d.length&&p(d[0][0],d[0][1])}}function Og(l){var n,s;return n={},i("next"),i("throw",function(c){throw c}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(c,d){n[c]=l[c]?function(f){return(s=!s)?{value:Nr(l[c](f)),done:!1}:d?d(f):f}:d}}function Ag(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=l[Symbol.asyncIterator],s;return n?n.call(l):(l=typeof yl=="function"?yl(l):l[Symbol.iterator](),s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s);function i(d){s[d]=l[d]&&function(f){return new Promise(function(m,p){f=l[d](f),c(m,p,f.done,f.value)})}}function c(d,f,m,p){Promise.resolve(p).then(function(y){d({value:y,done:m})},f)}}function Cg(l,n){return Object.defineProperty?Object.defineProperty(l,"raw",{value:n}):l.raw=n,l}var Lp=Object.create?(function(l,n){Object.defineProperty(l,"default",{enumerable:!0,value:n})}):function(l,n){l.default=n},rc=function(l){return rc=Object.getOwnPropertyNames||function(n){var s=[];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[s.length]=i);return s},rc(l)};function Rg(l){if(l&&l.__esModule)return l;var n={};if(l!=null)for(var s=rc(l),i=0;i<s.length;i++)s[i]!=="default"&&xl(n,l,s[i]);return Lp(n,l),n}function Ug(l){return l&&l.__esModule?l:{default:l}}function Dg(l,n,s,i){if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?l!==n||!i:!n.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?i:s==="a"?i.call(l):i?i.value:n.get(l)}function Mg(l,n,s,i,c){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?l!==n||!c:!n.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?c.call(l,s):c?c.value=s:n.set(l,s),s}function zg(l,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?n===l:l.has(n)}function Bg(l,n,s){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var i,c;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=n[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=n[Symbol.dispose],s&&(c=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");c&&(i=function(){try{c.call(this)}catch(d){return Promise.reject(d)}}),l.stack.push({value:n,dispose:i,async:s})}else s&&l.stack.push({async:!0});return n}var qp=typeof SuppressedError=="function"?SuppressedError:function(l,n,s){var i=new Error(s);return i.name="SuppressedError",i.error=l,i.suppressed=n,i};function Lg(l){function n(d){l.error=l.hasError?new qp(d,l.error,"An error was suppressed during disposal."):d,l.hasError=!0}var s,i=0;function c(){for(;s=l.stack.pop();)try{if(!s.async&&i===1)return i=0,l.stack.push(s),Promise.resolve().then(c);if(s.dispose){var d=s.dispose.call(s.value);if(s.async)return i|=2,Promise.resolve(d).then(c,function(f){return n(f),c()})}else i|=1}catch(f){n(f)}if(i===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return c()}function qg(l,n){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,i,c,d,f){return i?n?".jsx":".js":c&&(!d||!f)?s:c+d+"."+f.toLowerCase()+"js"}):l}const Hp={__extends:mg,__assign:ml,__rest:Or,__decorate:yg,__param:pg,__esDecorate:vg,__runInitializers:bg,__propKey:xg,__setFunctionName:wg,__metadata:_g,__awaiter:ae,__generator:Sg,__createBinding:xl,__exportStar:jg,__values:yl,__read:_c,__spread:Eg,__spreadArrays:kg,__spreadArray:Ng,__await:Nr,__asyncGenerator:Tg,__asyncDelegator:Og,__asyncValues:Ag,__makeTemplateObject:Cg,__importStar:Rg,__importDefault:Ug,__classPrivateFieldGet:Dg,__classPrivateFieldSet:Mg,__classPrivateFieldIn:zg,__addDisposableResource:Bg,__disposeResources:Lg,__rewriteRelativeImportExtension:qg},$p=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Bg,get __assign(){return ml},__asyncDelegator:Og,__asyncGenerator:Tg,__asyncValues:Ag,__await:Nr,__awaiter:ae,__classPrivateFieldGet:Dg,__classPrivateFieldIn:zg,__classPrivateFieldSet:Mg,__createBinding:xl,__decorate:yg,__disposeResources:Lg,__esDecorate:vg,__exportStar:jg,__extends:mg,__generator:Sg,__importDefault:Ug,__importStar:Rg,__makeTemplateObject:Cg,__metadata:_g,__param:pg,__propKey:xg,__read:_c,__rest:Or,__rewriteRelativeImportExtension:qg,__runInitializers:bg,__setFunctionName:wg,__spread:Eg,__spreadArray:Ng,__spreadArrays:kg,__values:yl,default:Hp},Symbol.toStringTag,{value:"Module"})),Vp="modulepreload",Gp=function(l){return"/Vidya-Gram/"+l},L0={},Ar=function(n,s,i){let c=Promise.resolve();if(s&&s.length>0){let f=function(y){return Promise.all(y.map(b=>Promise.resolve(b).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));c=f(s.map(y=>{if(y=Gp(y),y in L0)return;L0[y]=!0;const b=y.endsWith(".css"),w=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${w}`))return;const x=document.createElement("link");if(x.rel=b?"stylesheet":Vp,b||(x.as="script"),x.crossOrigin="",x.href=y,p&&x.setAttribute("nonce",p),document.head.appendChild(x),b)return new Promise((S,k)=>{x.addEventListener("load",S),x.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${y}`)))})}))}function d(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return c.then(f=>{for(const m of f||[])m.status==="rejected"&&d(m.reason);return n().catch(d)})},Yp=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...s)=>Ar(async()=>{const{default:i}=await Promise.resolve().then(()=>Un);return{default:i}},void 0).then(({default:i})=>i(...s)):n=fetch,(...s)=>n(...s)};class Sc extends Error{constructor(n,s="FunctionsError",i){super(n),this.name=s,this.context=i}}class q0 extends Sc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class H0 extends Sc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class $0 extends Sc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var sc;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(sc||(sc={}));class Pp{constructor(n,{headers:s={},customFetch:i,region:c=sc.Any}={}){this.url=n,this.headers=s,this.region=c,this.fetch=Yp(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return ae(this,arguments,void 0,function*(s,i={}){var c;try{const{headers:d,method:f,body:m,signal:p}=i;let y={},{region:b}=i;b||(b=this.region);const w=new URL(`${this.url}/${s}`);b&&b!=="any"&&(y["x-region"]=b,w.searchParams.set("forceFunctionRegion",b));let x;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",x=m):typeof m=="string"?(y["Content-Type"]="text/plain",x=m):typeof FormData<"u"&&m instanceof FormData?x=m:(y["Content-Type"]="application/json",x=JSON.stringify(m)):x=m;const S=yield this.fetch(w.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),d),body:x,signal:p}).catch(D=>{throw D.name==="AbortError"?D:new q0(D)}),k=S.headers.get("x-relay-error");if(k&&k==="true")throw new H0(S);if(!S.ok)throw new $0(S);let T=((c=S.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),O;return T==="application/json"?O=yield S.json():T==="application/octet-stream"||T==="application/pdf"?O=yield S.blob():T==="text/event-stream"?O=S:T==="multipart/form-data"?O=yield S.formData():O=yield S.text(),{data:O,error:null,response:S}}catch(d){return d instanceof Error&&d.name==="AbortError"?{data:null,error:new q0(d)}:{data:null,error:d,response:d instanceof $0||d instanceof H0?d.context:void 0}}})}}var ct={};const Cr=gg($p);var tl={},al={},nl={},rl={},sl={},Kp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Tr=Kp();const Xp=Tr.fetch,Hg=Tr.fetch.bind(Tr),$g=Tr.Headers,Qp=Tr.Request,Ip=Tr.Response,Un=Object.freeze(Object.defineProperty({__proto__:null,Headers:$g,Request:Qp,Response:Ip,default:Hg,fetch:Xp},Symbol.toStringTag,{value:"Module"})),Jp=gg(Un);var il={},V0;function Vg(){if(V0)return il;V0=1,Object.defineProperty(il,"__esModule",{value:!0});class l extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return il.default=l,il}var G0;function Gg(){if(G0)return sl;G0=1,Object.defineProperty(sl,"__esModule",{value:!0});const l=Cr,n=l.__importDefault(Jp),s=l.__importDefault(Vg());class i{constructor(d){var f,m;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(f=d.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=d.signal,this.isMaybeSingle=(m=d.isMaybeSingle)!==null&&m!==void 0?m:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,f){return this.headers=new Headers(this.headers),this.headers.set(d,f),this}then(d,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let p=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var b,w,x,S;let k=null,T=null,O=null,D=y.status,M=y.statusText;if(y.ok){if(this.method!=="HEAD"){const I=await y.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((b=this.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?T=I:T=JSON.parse(I))}const K=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),F=(x=y.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");K&&F&&F.length>1&&(O=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(k={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,O=null,D=406,M="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const K=await y.text();try{k=JSON.parse(K),Array.isArray(k)&&y.status===404&&(T=[],k=null,D=200,M="OK")}catch{y.status===404&&K===""?(D=204,M="No Content"):k={message:K}}if(k&&this.isMaybeSingle&&(!((S=k==null?void 0:k.details)===null||S===void 0)&&S.includes("0 rows"))&&(k=null,D=200,M="OK"),k&&this.shouldThrowOnError)throw new s.default(k)}return{error:k,data:T,count:O,status:D,statusText:M}});return this.shouldThrowOnError||(p=p.catch(y=>{var b,w,x;return{error:{message:`${(b=y==null?void 0:y.name)!==null&&b!==void 0?b:"FetchError"}: ${y==null?void 0:y.message}`,details:`${(w=y==null?void 0:y.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(x=y==null?void 0:y.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),p.then(d,f)}returns(){return this}overrideTypes(){return this}}return sl.default=i,sl}var Y0;function Yg(){if(Y0)return rl;Y0=1,Object.defineProperty(rl,"__esModule",{value:!0});const n=Cr.__importDefault(Gg());class s extends n.default{select(c){let d=!1;const f=(c??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:d=!0,nullsFirst:f,foreignTable:m,referencedTable:p=m}={}){const y=p?`${p}.order`:"order",b=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${b?`${b},`:""}${c}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:f=d}={}){const m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,d,{foreignTable:f,referencedTable:m=f}={}){const p=typeof m>"u"?"offset":`${m}.offset`,y=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(p,`${c}`),this.url.searchParams.set(y,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:d=!1,settings:f=!1,buffers:m=!1,wal:p=!1,format:y="text"}={}){var b;const w=[c?"analyze":null,d?"verbose":null,f?"settings":null,m?"buffers":null,p?"wal":null].filter(Boolean).join("|"),x=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${x}"; options=${w};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return rl.default=s,rl}var P0;function jc(){if(P0)return nl;P0=1,Object.defineProperty(nl,"__esModule",{value:!0});const n=Cr.__importDefault(Yg()),s=new RegExp("[,()]");class i extends n.default{eq(d,f){return this.url.searchParams.append(d,`eq.${f}`),this}neq(d,f){return this.url.searchParams.append(d,`neq.${f}`),this}gt(d,f){return this.url.searchParams.append(d,`gt.${f}`),this}gte(d,f){return this.url.searchParams.append(d,`gte.${f}`),this}lt(d,f){return this.url.searchParams.append(d,`lt.${f}`),this}lte(d,f){return this.url.searchParams.append(d,`lte.${f}`),this}like(d,f){return this.url.searchParams.append(d,`like.${f}`),this}likeAllOf(d,f){return this.url.searchParams.append(d,`like(all).{${f.join(",")}}`),this}likeAnyOf(d,f){return this.url.searchParams.append(d,`like(any).{${f.join(",")}}`),this}ilike(d,f){return this.url.searchParams.append(d,`ilike.${f}`),this}ilikeAllOf(d,f){return this.url.searchParams.append(d,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(d,f){return this.url.searchParams.append(d,`ilike(any).{${f.join(",")}}`),this}is(d,f){return this.url.searchParams.append(d,`is.${f}`),this}in(d,f){const m=Array.from(new Set(f)).map(p=>typeof p=="string"&&s.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(d,`in.(${m})`),this}contains(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cs.{${f.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(f)}`),this}containedBy(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cd.{${f.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(f)}`),this}rangeGt(d,f){return this.url.searchParams.append(d,`sr.${f}`),this}rangeGte(d,f){return this.url.searchParams.append(d,`nxl.${f}`),this}rangeLt(d,f){return this.url.searchParams.append(d,`sl.${f}`),this}rangeLte(d,f){return this.url.searchParams.append(d,`nxr.${f}`),this}rangeAdjacent(d,f){return this.url.searchParams.append(d,`adj.${f}`),this}overlaps(d,f){return typeof f=="string"?this.url.searchParams.append(d,`ov.${f}`):this.url.searchParams.append(d,`ov.{${f.join(",")}}`),this}textSearch(d,f,{config:m,type:p}={}){let y="";p==="plain"?y="pl":p==="phrase"?y="ph":p==="websearch"&&(y="w");const b=m===void 0?"":`(${m})`;return this.url.searchParams.append(d,`${y}fts${b}.${f}`),this}match(d){return Object.entries(d).forEach(([f,m])=>{this.url.searchParams.append(f,`eq.${m}`)}),this}not(d,f,m){return this.url.searchParams.append(d,`not.${f}.${m}`),this}or(d,{foreignTable:f,referencedTable:m=f}={}){const p=m?`${m}.or`:"or";return this.url.searchParams.append(p,`(${d})`),this}filter(d,f,m){return this.url.searchParams.append(d,`${f}.${m}`),this}}return nl.default=i,nl}var K0;function Pg(){if(K0)return al;K0=1,Object.defineProperty(al,"__esModule",{value:!0});const n=Cr.__importDefault(jc());class s{constructor(c,{headers:d={},schema:f,fetch:m}){this.url=c,this.headers=new Headers(d),this.schema=f,this.fetch=m}select(c,d){const{head:f=!1,count:m}=d??{},p=f?"HEAD":"GET";let y=!1;const b=(c??"*").split("").map(w=>/\s/.test(w)&&!y?"":(w==='"'&&(y=!y),w)).join("");return this.url.searchParams.set("select",b),m&&this.headers.append("Prefer",`count=${m}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:d,defaultToNull:f=!0}={}){var m;const p="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const y=c.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(y.length>0){const b=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:d,ignoreDuplicates:f=!1,count:m,defaultToNull:p=!0}={}){var y;const b="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),m&&this.headers.append("Prefer",`count=${m}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const w=c.reduce((x,S)=>x.concat(Object.keys(S)),[]);if(w.length>0){const x=[...new Set(w)].map(S=>`"${S}"`);this.url.searchParams.set("columns",x.join(","))}}return new n.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(c,{count:d}={}){var f;const m="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:c}={}){var d;const f="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return al.default=s,al}var X0;function Zp(){if(X0)return tl;X0=1,Object.defineProperty(tl,"__esModule",{value:!0});const l=Cr,n=l.__importDefault(Pg()),s=l.__importDefault(jc());class i{constructor(d,{headers:f={},schema:m,fetch:p}={}){this.url=d,this.headers=new Headers(f),this.schemaName=m,this.fetch=p}from(d){const f=new URL(`${this.url}/${d}`);return new n.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new i(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:m=!1,get:p=!1,count:y}={}){var b;let w;const x=new URL(`${this.url}/rpc/${d}`);let S;m||p?(w=m?"HEAD":"GET",Object.entries(f).filter(([T,O])=>O!==void 0).map(([T,O])=>[T,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([T,O])=>{x.searchParams.append(T,O)})):(w="POST",S=f);const k=new Headers(this.headers);return y&&k.set("Prefer",`count=${y}`),new s.default({method:w,url:x,headers:k,schema:this.schemaName,body:S,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}}return tl.default=i,tl}var Q0;function Fp(){if(Q0)return ct;Q0=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.PostgrestError=ct.PostgrestBuilder=ct.PostgrestTransformBuilder=ct.PostgrestFilterBuilder=ct.PostgrestQueryBuilder=ct.PostgrestClient=void 0;const l=Cr,n=l.__importDefault(Zp());ct.PostgrestClient=n.default;const s=l.__importDefault(Pg());ct.PostgrestQueryBuilder=s.default;const i=l.__importDefault(jc());ct.PostgrestFilterBuilder=i.default;const c=l.__importDefault(Yg());ct.PostgrestTransformBuilder=c.default;const d=l.__importDefault(Gg());ct.PostgrestBuilder=d.default;const f=l.__importDefault(Vg());return ct.PostgrestError=f.default,ct.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:f.default},ct}var Kg=Fp();const Xg=xc(Kg),Wp=Ep({__proto__:null,default:Xg},[Kg]),{PostgrestClient:ev,PostgrestQueryBuilder:sw,PostgrestFilterBuilder:iw,PostgrestTransformBuilder:lw,PostgrestBuilder:ow,PostgrestError:uw}=Xg||Wp;class tv{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,c=parseInt(i.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const i=this.getWebSocketConstructor();return new i(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const av="2.78.0",nv=`realtime-js/${av}`,rv="1.0.0",ic=1e4,sv=1e3,iv=100;var Ts;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Ts||(Ts={}));var We;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(We||(We={}));var aa;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(aa||(aa={}));var lc;(function(l){l.websocket="websocket"})(lc||(lc={}));var An;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(An||(An={}));class lv{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,s,i)}_decodeBroadcast(n,s,i){const c=s.getUint8(1),d=s.getUint8(2);let f=this.HEADER_LENGTH+2;const m=i.decode(n.slice(f,f+c));f=f+c;const p=i.decode(n.slice(f,f+d));f=f+d;const y=JSON.parse(i.decode(n.slice(f,n.byteLength)));return{ref:null,topic:m,event:p,payload:y}}}class Qg{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Be||(Be={}));const I0=(l,n,s={})=>{var i;const c=(i=s.skipTypes)!==null&&i!==void 0?i:[];return n?Object.keys(n).reduce((d,f)=>(d[f]=ov(f,l,n,c),d),{}):{}},ov=(l,n,s,i)=>{const c=n.find(m=>m.name===l),d=c==null?void 0:c.type,f=s[l];return d&&!i.includes(d)?Ig(d,f):oc(f)},Ig=(l,n)=>{if(l.charAt(0)==="_"){const s=l.slice(1,l.length);return hv(n,s)}switch(l){case Be.bool:return uv(n);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return cv(n);case Be.json:case Be.jsonb:return dv(n);case Be.timestamp:return fv(n);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return oc(n);default:return oc(n)}},oc=l=>l,uv=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},cv=l=>{if(typeof l=="string"){const n=parseFloat(l);if(!Number.isNaN(n))return n}return l},dv=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(n){return console.log(`JSON parse error: ${n}`),l}return l},hv=(l,n)=>{if(typeof l!="string")return l;const s=l.length-1,i=l[s];if(l[0]==="{"&&i==="}"){let d;const f=l.slice(1,s);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>Ig(n,m))}return l},fv=l=>typeof l=="string"?l.replace(" ","T"):l,Jg=l=>{const n=new URL(l);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Xu{constructor(n,s,i={},c=ic){this.channel=n,this.event=s,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var i;return this._hasReceived(n)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var J0;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(J0||(J0={}));class Os{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Os.syncState(this.state,c,d,f),this.pendingDiffs.forEach(p=>{this.state=Os.syncDiff(this.state,p,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Os.syncDiff(this.state,c,d,f),m())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,i,c){const d=this.cloneDeep(n),f=this.transformState(s),m={},p={};return this.map(d,(y,b)=>{f[y]||(p[y]=b)}),this.map(f,(y,b)=>{const w=d[y];if(w){const x=b.map(O=>O.presence_ref),S=w.map(O=>O.presence_ref),k=b.filter(O=>S.indexOf(O.presence_ref)<0),T=w.filter(O=>x.indexOf(O.presence_ref)<0);k.length>0&&(m[y]=k),T.length>0&&(p[y]=T)}else m[y]=b}),this.syncDiff(d,{joins:m,leaves:p},i,c)}static syncDiff(n,s,i,c){const{joins:d,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(d,(m,p)=>{var y;const b=(y=n[m])!==null&&y!==void 0?y:[];if(n[m]=this.cloneDeep(p),b.length>0){const w=n[m].map(S=>S.presence_ref),x=b.filter(S=>w.indexOf(S.presence_ref)<0);n[m].unshift(...x)}i(m,b,p)}),this.map(f,(m,p)=>{let y=n[m];if(!y)return;const b=p.map(w=>w.presence_ref);y=y.filter(w=>b.indexOf(w.presence_ref)<0),n[m]=y,c(m,y,p),y.length===0&&delete n[m]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(i=>s(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,i)=>{const c=n[i];return"metas"in c?s[i]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[i]=c,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Z0;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(Z0||(Z0={}));var As;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(As||(As={}));var Ca;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Ca||(Ca={}));class Ec{constructor(n,s={config:{}},i){var c,d;if(this.topic=n,this.params=s,this.socket=i,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Xu(this,aa.join,this.params,this.timeout),this.rejoinTimer=new Qg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(aa.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new Os(this),this.broadcastEndpointURL=Jg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var i,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:f,presence:m,private:p}}=this.params,y=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[As.PRESENCE]&&this.bindings[As.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,w={},x={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:y,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(S=>n==null?void 0:n(Ca.CHANNEL_ERROR,S)),this._onClose(()=>n==null?void 0:n(Ca.CLOSED)),this.updateJoinPayload(Object.assign({config:x},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:S})=>{var k;if(this.socket.setAuth(),S===void 0){n==null||n(Ca.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,O=(k=T==null?void 0:T.length)!==null&&k!==void 0?k:0,D=[];for(let M=0;M<O;M++){const H=T[M],{filter:{event:K,schema:F,table:I,filter:J}}=H,pe=S&&S[M];if(pe&&pe.event===K&&pe.schema===F&&pe.table===I&&pe.filter===J)D.push(Object.assign(Object.assign({},H),{id:pe.id}));else{this.unsubscribe(),this.state=We.errored,n==null||n(Ca.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,n&&n(Ca.SUBSCRIBED);return}}).receive("error",S=>{this.state=We.errored,n==null||n(Ca.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Ca.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,i){return this.state===We.joined&&n===As.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,s,i)}async httpSend(n,s,i={}){var c;const d=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:d,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=i.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const y=await m.json();p=y.error||y.message||p}catch{}return Promise.reject(new Error(p))}async send(n,s={}){var i,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=n,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,p;const y=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),y.receive("ok",()=>d("ok")),y.receive("error",()=>d("error")),y.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=We.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(aa.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new Xu(this,aa.leave,{},n),i.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(n,s,i){const c=new AbortController,d=setTimeout(()=>c.abort(),i),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(d),f}_push(n,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Xu(this,n,s,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>iv){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,i){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,i){var c,d;const f=n.toLocaleLowerCase(),{close:m,error:p,leave:y,join:b}=aa;if(i&&[m,p,y,b].indexOf(f)>=0&&i!==this._joinRef())return;let x=this._onMessage(f,s,i);if(s&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(S=>{var k,T,O;return((k=S.filter)===null||k===void 0?void 0:k.event)==="*"||((O=(T=S.filter)===null||T===void 0?void 0:T.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===f}).map(S=>S.callback(x,i)):(d=this.bindings[f])===null||d===void 0||d.filter(S=>{var k,T,O,D,M,H;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in S){const K=S.id,F=(k=S.filter)===null||k===void 0?void 0:k.event;return K&&((T=s.ids)===null||T===void 0?void 0:T.includes(K))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((O=s.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const K=(M=(D=S==null?void 0:S.filter)===null||D===void 0?void 0:D.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return K==="*"||K===((H=s==null?void 0:s.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===f}).map(S=>{if(typeof x=="object"&&"ids"in x){const k=x.data,{schema:T,table:O,commit_timestamp:D,type:M,errors:H}=k;x=Object.assign(Object.assign({},{schema:T,table:O,commit_timestamp:D,eventType:M,new:{},old:{},errors:H}),this._getPayloadRecords(k))}S.callback(x,i)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,i){const c=n.toLocaleLowerCase(),d={type:c,filter:s,callback:i};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(n,s){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===i&&Ec.isEqual(c.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const i in n)if(n[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(aa.close,{},n)}_onError(n){this._on(aa.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=I0(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=I0(n.columns,n.old_record)),s}}const Qu=()=>{},ll={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gv=[1e3,2e3,5e3,1e4],mv=1e4,yv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pv{constructor(n,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ic,this.transport=null,this.heartbeatIntervalMs=ll.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qu,this.ref=0,this.reconnectTimer=null,this.logger=Qu,this.conn=null,this.sendBuffer=[],this.serializer=new lv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let d;return c?d=c:typeof fetch>"u"?d=(...f)=>Ar(async()=>{const{default:m}=await Promise.resolve().then(()=>Un);return{default:m}},void 0).then(({default:m})=>m(...f)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...f)=>d(...f)},!(!((i=s==null?void 0:s.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${lc.websocket}`,this.httpEndpoint=Jg(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=tv.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rv}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},n?this.conn.close(n,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,i){this.logger(n,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ts.connecting:return An.Connecting;case Ts.open:return An.Open;case Ts.closing:return An.Closing;default:return An.Closed}}isConnected(){return this.connectionState()===An.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const i=`realtime:${n}`,c=this.getChannels().find(d=>d.topic===i);if(c)return c;{const d=new Ec(`realtime:${n}`,s,this);return this.channels.push(d),d}}push(n){const{topic:s,event:i,payload:c,ref:d}=n,f=()=>{this.encode(n,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${s} ${i} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(sv,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ll.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:c,payload:d,ref:f}=s,m=f?`(${f})`:"",p=d.status||"";this.log("receive",`${p} ${i} ${c} ${m}`.trim(),d),this.channels.filter(y=>y._isMember(i)).forEach(y=>y._trigger(c,d,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(aa.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const i=n.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${n}${i}${c}`}_workerObjectUrl(n){let s;if(n)s=n;else{const i=new Blob([yv],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s;n?s=n:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const c={access_token:s,version:nv};s&&i.updateJoinPayload(c),i.joinedOnce&&i._isJoined()&&i._push(aa.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(s)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Qg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ll.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,i,c,d,f,m,p,y,b;if(this.transport=(s=n==null?void 0:n.transport)!==null&&s!==void 0?s:null,this.timeout=(i=n==null?void 0:n.timeout)!==null&&i!==void 0?i:ic,this.heartbeatIntervalMs=(c=n==null?void 0:n.heartbeatIntervalMs)!==null&&c!==void 0?c:ll.HEARTBEAT_INTERVAL,this.worker=(d=n==null?void 0:n.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=n==null?void 0:n.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=n==null?void 0:n.heartbeatCallback)!==null&&m!==void 0?m:Qu,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n==null?void 0:n.reconnectAfterMs)!==null&&p!==void 0?p:(w=>gv[w-1]||mv),this.encode=(y=n==null?void 0:n.encode)!==null&&y!==void 0?y:((w,x)=>x(JSON.stringify(w))),this.decode=(b=n==null?void 0:n.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}class kc extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function $e(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class vv extends kc{constructor(n,s,i){super(n),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class uc extends kc{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}const Nc=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...s)=>Ar(async()=>{const{default:i}=await Promise.resolve().then(()=>Un);return{default:i}},void 0).then(({default:i})=>i(...s)):n=fetch,(...s)=>n(...s)},bv=()=>ae(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ar(()=>Promise.resolve().then(()=>Un),void 0)).Response:Response}),cc=l=>{if(Array.isArray(l))return l.map(s=>cc(s));if(typeof l=="function"||l!==Object(l))return l;const n={};return Object.entries(l).forEach(([s,i])=>{const c=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[c]=cc(i)}),n},xv=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Iu=l=>{var n;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(n=l.error)===null||n===void 0?void 0:n.message)||JSON.stringify(l)},wv=(l,n,s)=>ae(void 0,void 0,void 0,function*(){const i=yield bv();l instanceof i&&!(s!=null&&s.noResolveJson)?l.json().then(c=>{const d=l.status||500,f=(c==null?void 0:c.statusCode)||d+"";n(new vv(Iu(c),d,f))}).catch(c=>{n(new uc(Iu(c),c))}):n(new uc(Iu(l),l))}),_v=(l,n,s,i)=>{const c={method:l,headers:(n==null?void 0:n.headers)||{}};return l==="GET"||!i?c:(xv(i)?(c.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(i)):c.body=i,n!=null&&n.duplex&&(c.duplex=n.duplex),Object.assign(Object.assign({},c),s))};function Ms(l,n,s,i,c,d){return ae(this,void 0,void 0,function*(){return new Promise((f,m)=>{l(s,_v(n,i,c,d)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>f(p)).catch(p=>wv(p,m,i))})})}function Cs(l,n,s,i){return ae(this,void 0,void 0,function*(){return Ms(l,"GET",n,s,i)})}function ta(l,n,s,i,c){return ae(this,void 0,void 0,function*(){return Ms(l,"POST",n,i,c,s)})}function dc(l,n,s,i,c){return ae(this,void 0,void 0,function*(){return Ms(l,"PUT",n,i,c,s)})}function Sv(l,n,s,i){return ae(this,void 0,void 0,function*(){return Ms(l,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function Tc(l,n,s,i,c){return ae(this,void 0,void 0,function*(){return Ms(l,"DELETE",n,i,c,s)})}class jv{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s}then(n,s){return this.execute().then(n,s)}execute(){return ae(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}}var Zg;class Ev{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s,this[Zg]="BlobDownloadBuilder",this.promise=null}asStream(){return new jv(this.downloadFn,this.shouldThrowOnError)}then(n,s){return this.getPromise().then(n,s)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ae(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}}Zg=Symbol.toStringTag;const kv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},F0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Nv{constructor(n,s={},i,c){this.shouldThrowOnError=!1,this.url=n,this.headers=s,this.bucketId=i,this.fetch=Nc(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,s,i,c){return ae(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},F0),c);let m=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),p&&d.append("metadata",this.encodeMetadata(p)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.append("cacheControl",f.cacheControl),p&&d.append("metadata",this.encodeMetadata(p))):(d=i,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,p&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),c!=null&&c.headers&&(m=Object.assign(Object.assign({},m),c.headers));const y=this._removeEmptyFolders(s),b=this._getFinalPath(y),w=yield(n=="PUT"?dc:ta)(this.fetch,`${this.url}/object/${b}`,d,Object.assign({headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:w.Id,fullPath:w.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if($e(d))return{data:null,error:d};throw d}})}upload(n,s,i){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,i)})}uploadToSignedUrl(n,s,i,c){return ae(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(n),f=this._getFinalPath(d),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",s);try{let p;const y=Object.assign({upsert:F0.upsert},c),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",y.cacheControl)):(p=i,b["cache-control"]=`max-age=${y.cacheControl}`,b["content-type"]=y.contentType);const w=yield dc(this.fetch,m.toString(),p,{headers:b});return{data:{path:d,fullPath:w.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if($e(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(n,s){return ae(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const c=Object.assign({},this.headers);s!=null&&s.upsert&&(c["x-upsert"]="true");const d=yield ta(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:c}),f=new URL(this.url+d.url),m=f.searchParams.get("token");if(!m)throw new kc("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:m},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}update(n,s,i){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,i)})}move(n,s,i){return ae(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}})}copy(n,s,i){return ae(this,void 0,void 0,function*(){try{return{data:{path:(yield ta(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}})}createSignedUrl(n,s,i){return ae(this,void 0,void 0,function*(){try{let c=this._getFinalPath(n),d=yield ta(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:s},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const f=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}})}createSignedUrls(n,s,i){return ae(this,void 0,void 0,function*(){try{const c=yield ta(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),d=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}})}download(n,s){const c=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),f=d?`?${d}`:"",m=this._getFinalPath(n),p=()=>Cs(this.fetch,`${this.url}/${c}/${m}${f}`,{headers:this.headers,noResolveJson:!0});return new Ev(p,this.shouldThrowOnError)}info(n){return ae(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const i=yield Cs(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:cc(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}exists(n){return ae(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield Sv(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i)&&i instanceof uc){const c=i.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,s){const i=this._getFinalPath(n),c=[],d=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";d!==""&&c.push(d);const m=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});p!==""&&c.push(p);let y=c.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${y}`)}}}remove(n){return ae(this,void 0,void 0,function*(){try{return{data:yield Tc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}list(n,s,i){return ae(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},kv),s),{prefix:n||""});return{data:yield ta(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},i),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}})}listV2(n,s){return ae(this,void 0,void 0,function*(){try{const i=Object.assign({},n);return{data:yield ta(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const Fg="2.78.0",Wg={"X-Client-Info":`storage-js/${Fg}`};class Tv{constructor(n,s={},i,c){this.shouldThrowOnError=!1;const d=new URL(n);c!=null&&c.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wg),s),this.fetch=Nc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return ae(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(n);return{data:yield Cs(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}getBucket(n){return ae(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}createBucket(n){return ae(this,arguments,void 0,function*(s,i={public:!1}){try{return{data:yield ta(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}})}updateBucket(n,s){return ae(this,void 0,void 0,function*(){try{return{data:yield dc(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}emptyBucket(n){return ae(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}deleteBucket(n){return ae(this,void 0,void 0,function*(){try{return{data:yield Tc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(n){const s={};return n&&("limit"in n&&(s.limit=String(n.limit)),"offset"in n&&(s.offset=String(n.offset)),n.search&&(s.search=n.search),n.sortColumn&&(s.sortColumn=n.sortColumn),n.sortOrder&&(s.sortOrder=n.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}class Ov{constructor(n,s={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wg),s),this.fetch=Nc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ae(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}listBuckets(n){return ae(this,void 0,void 0,function*(){try{const s=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&s.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&s.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&s.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&s.set("sortOrder",n.sortOrder),n!=null&&n.search&&s.set("search",n.search);const i=s.toString(),c=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Cs(this.fetch,c,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}deleteBucket(n){return ae(this,void 0,void 0,function*(){try{return{data:yield Tc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}}const Oc={"X-Client-Info":`storage-js/${Fg}`,"Content-Type":"application/json"};class em extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ut(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class Ju extends em{constructor(n,s,i){super(n),this.name="StorageVectorsApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Av extends em{constructor(n,s){super(n),this.name="StorageVectorsUnknownError",this.originalError=s}}var W0;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(W0||(W0={}));const Ac=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...s)=>Ar(async()=>{const{default:i}=await Promise.resolve().then(()=>Un);return{default:i}},void 0).then(({default:i})=>i(...s)):n=fetch,(...s)=>n(...s)},Cv=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},eg=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Rv=(l,n,s)=>ae(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!(s!=null&&s.noResolveJson)){const c=l.status||500,d=l;if(typeof d.json=="function")d.json().then(f=>{const m=(f==null?void 0:f.statusCode)||(f==null?void 0:f.code)||c+"";n(new Ju(eg(f),c,m))}).catch(()=>{const f=c+"",m=d.statusText||`HTTP ${c} error`;n(new Ju(m,c,f))});else{const f=c+"",m=d.statusText||`HTTP ${c} error`;n(new Ju(m,c,f))}}else n(new Av(eg(l),l))}),Uv=(l,n,s,i)=>{const c={method:l,headers:(n==null?void 0:n.headers)||{}};return i?(Cv(i)?(c.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(i)):c.body=i,Object.assign(Object.assign({},c),s)):c};function Dv(l,n,s,i,c,d){return ae(this,void 0,void 0,function*(){return new Promise((f,m)=>{l(s,Uv(n,i,c,d)).then(p=>{if(!p.ok)throw p;if(i!=null&&i.noResolveJson)return p;const y=p.headers.get("content-type");return!y||!y.includes("application/json")?{}:p.json()}).then(p=>f(p)).catch(p=>Rv(p,m,i))})})}function Dt(l,n,s,i,c){return ae(this,void 0,void 0,function*(){return Dv(l,"POST",n,i,c,s)})}class Mv{constructor(n,s={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Oc),s),this.fetch=Ac(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return ae(this,void 0,void 0,function*(){try{return{data:(yield Dt(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}getIndex(n,s){return ae(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}})}listIndexes(n){return ae(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}deleteIndex(n,s){return ae(this,void 0,void 0,function*(){try{return{data:(yield Dt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ut(i))return{data:null,error:i};throw i}})}}class zv{constructor(n,s={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Oc),s),this.fetch=Ac(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return ae(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Dt(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}getVectors(n){return ae(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}listVectors(n){return ae(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield Dt(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}queryVectors(n){return ae(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}deleteVectors(n){return ae(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Dt(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}}class Bv{constructor(n,s={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Oc),s),this.fetch=Ac(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ae(this,void 0,void 0,function*(){try{return{data:(yield Dt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}getBucket(n){return ae(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}listBuckets(){return ae(this,arguments,void 0,function*(n={}){try{return{data:yield Dt(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}deleteBucket(n){return ae(this,void 0,void 0,function*(){try{return{data:(yield Dt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ut(s))return{data:null,error:s};throw s}})}}class Lv extends Bv{constructor(n,s={}){super(n,s.headers||{},s.fetch)}from(n){return new qv(this.url,this.headers,n,this.fetch)}}class qv extends Mv{constructor(n,s,i,c){super(n,s,c),this.vectorBucketName=i}createIndex(n){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ae(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ae(this,arguments,void 0,function*(s={}){return n.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ae(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ae(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new Hv(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class Hv extends zv{constructor(n,s,i,c,d){super(n,s,d),this.vectorBucketName=i,this.indexName=c}putVectors(n){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ae(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ae(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ae(this,arguments,void 0,function*(s={}){return n.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ae(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ae(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class $v extends Tv{constructor(n,s={},i,c){super(n,s,i,c)}from(n){return new Nv(this.url,this.headers,n,this.fetch)}get vectors(){return new Lv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ov(this.url+"/iceberg",this.headers,this.fetch)}}const Vv="2.78.0";let Ns="";typeof Deno<"u"?Ns="deno":typeof document<"u"?Ns="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ns="react-native":Ns="node";const Gv={"X-Client-Info":`supabase-js-${Ns}/${Vv}`},Yv={headers:Gv},Pv={schema:"public"},Kv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xv={},Qv=l=>{let n;return l?n=l:typeof fetch>"u"?n=Hg:n=fetch,(...s)=>n(...s)},Iv=()=>typeof Headers>"u"?$g:Headers,Jv=(l,n,s)=>{const i=Qv(s),c=Iv();return async(d,f)=>{var m;const p=(m=await n())!==null&&m!==void 0?m:l;let y=new c(f==null?void 0:f.headers);return y.has("apikey")||y.set("apikey",l),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),i(d,Object.assign(Object.assign({},f),{headers:y}))}};function Zv(l){return l.endsWith("/")?l:l+"/"}function Fv(l,n){var s,i;const{db:c,auth:d,realtime:f,global:m}=l,{db:p,auth:y,realtime:b,global:w}=n,x={db:Object.assign(Object.assign({},p),c),auth:Object.assign(Object.assign({},y),d),realtime:Object.assign(Object.assign({},b),f),storage:{},global:Object.assign(Object.assign(Object.assign({},w),m),{headers:Object.assign(Object.assign({},(s=w==null?void 0:w.headers)!==null&&s!==void 0?s:{}),(i=m==null?void 0:m.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return l.accessToken?x.accessToken=l.accessToken:delete x.accessToken,x}function Wv(l){const n=l==null?void 0:l.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Zv(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const tm="2.78.0",jr=30*1e3,hc=3,Zu=hc*jr,eb="http://localhost:9999",tb="supabase.auth.token",ab={"X-Client-Info":`gotrue-js/${tm}`},fc="X-Supabase-Api-Version",am={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rb=600*1e3;class Rs extends Error{constructor(n,s,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function re(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class sb extends Rs{constructor(n,s,i){super(n,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function ib(l){return re(l)&&l.name==="AuthApiError"}class Cn extends Rs{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class sn extends Rs{constructor(n,s,i,c){super(n,i,c),this.name=s,this.status=i}}class Wt extends sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lb(l){return re(l)&&l.name==="AuthSessionMissingError"}class br extends sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ol extends sn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class ul extends sn{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ob(l){return re(l)&&l.name==="AuthImplicitGrantRedirectError"}class tg extends sn{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gc extends sn{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Fu(l){return re(l)&&l.name==="AuthRetryableFetchError"}class ag extends sn{constructor(n,s,i){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class mc extends sn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const pl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ng=` 	
\r=`.split(""),ub=(()=>{const l=new Array(128);for(let n=0;n<l.length;n+=1)l[n]=-1;for(let n=0;n<ng.length;n+=1)l[ng[n].charCodeAt(0)]=-2;for(let n=0;n<pl.length;n+=1)l[pl[n].charCodeAt(0)]=n;return l})();function rg(l,n,s){if(l!==null)for(n.queue=n.queue<<8|l,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;s(pl[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;s(pl[i]),n.queuedBits-=6}}function nm(l,n,s){const i=ub[l];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function sg(l){const n=[],s=f=>{n.push(String.fromCodePoint(f))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{hb(f,i,s)};for(let f=0;f<l.length;f+=1)nm(l.charCodeAt(f),c,d);return n.join("")}function cb(l,n){if(l<=127){n(l);return}else if(l<=2047){n(192|l>>6),n(128|l&63);return}else if(l<=65535){n(224|l>>12),n(128|l>>6&63),n(128|l&63);return}else if(l<=1114111){n(240|l>>18),n(128|l>>12&63),n(128|l>>6&63),n(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function db(l,n){for(let s=0;s<l.length;s+=1){let i=l.charCodeAt(s);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(l.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}cb(i,n)}}function hb(l,n,s){if(n.utf8seq===0){if(l<=127){s(l);return}for(let i=1;i<6;i+=1)if((l>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=l&31;else if(n.utf8seq===3)n.codepoint=l&15;else if(n.utf8seq===4)n.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|l&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function kr(l){const n=[],s={queue:0,queuedBits:0},i=c=>{n.push(c)};for(let c=0;c<l.length;c+=1)nm(l.charCodeAt(c),s,i);return new Uint8Array(n)}function fb(l){const n=[];return db(l,s=>n.push(s)),new Uint8Array(n)}function Rn(l){const n=[],s={queue:0,queuedBits:0},i=c=>{n.push(c)};return l.forEach(c=>rg(c,s,i)),rg(null,s,i),n.join("")}function gb(l){return Math.round(Date.now()/1e3)+l}function mb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const n=Math.random()*16|0;return(l=="x"?n:n&3|8).toString(16)})}const mt=()=>typeof window<"u"&&typeof document<"u",Nn={tested:!1,writable:!1},rm=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nn.tested)return Nn.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Nn.tested=!0,Nn.writable=!0}catch{Nn.tested=!0,Nn.writable=!1}return Nn.writable};function yb(l){const n={},s=new URL(l);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,d)=>{n[d]=c})}catch{}return s.searchParams.forEach((i,c)=>{n[c]=i}),n}const sm=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...s)=>Ar(async()=>{const{default:i}=await Promise.resolve().then(()=>Un);return{default:i}},void 0).then(({default:i})=>i(...s)):n=fetch,(...s)=>n(...s)},pb=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Er=async(l,n,s)=>{await l.setItem(n,JSON.stringify(s))},Tn=async(l,n)=>{const s=await l.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},nn=async(l,n)=>{await l.removeItem(n)};class wl{constructor(){this.promise=new wl.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}wl.promiseConstructor=Promise;function Wu(l){const n=l.split(".");if(n.length!==3)throw new mc("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!nb.test(n[i]))throw new mc("JWT not in base64url format");return{header:JSON.parse(sg(n[0])),payload:JSON.parse(sg(n[1])),signature:kr(n[2]),raw:{header:n[0],payload:n[1]}}}async function vb(l){return await new Promise(n=>{setTimeout(()=>n(null),l)})}function bb(l,n){return new Promise((i,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await l(d);if(!n(d,null,f)){i(f);return}}catch(f){if(!n(d,f)){c(f);return}}})()})}function xb(l){return("0"+l.toString(16)).substr(-2)}function wb(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let c="";for(let d=0;d<56;d++)c+=s.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(n),Array.from(n,xb).join("")}async function _b(l){const s=new TextEncoder().encode(l),i=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(i);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function Sb(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const s=await _b(l);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xr(l,n,s=!1){const i=wb();let c=i;s&&(c+="/PASSWORD_RECOVERY"),await Er(l,`${n}-code-verifier`,c);const d=await Sb(i);return[d,i===d?"plain":"s256"]}const jb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Eb(l){const n=l.headers.get(fc);if(!n||!n.match(jb))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function kb(l){if(!l)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(l<=n)throw new Error("JWT has expired")}function Nb(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Tb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wr(l){if(!Tb.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ec(){const l={};return new Proxy(l,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ob(l,n){return new Proxy(l,{get:(s,i,c)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const d=i.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,c)}return!n.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,i,c)}})}function ig(l){return JSON.parse(JSON.stringify(l))}const On=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Ab=[502,503,504];async function lg(l){var n;if(!pb(l))throw new gc(On(l),0);if(Ab.includes(l.status))throw new gc(On(l),l.status);let s;try{s=await l.json()}catch(d){throw new Cn(On(d),d)}let i;const c=Eb(l);if(c&&c.getTime()>=am["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new ag(On(s),l.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new Wt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new ag(On(s),l.status,s.weak_password.reasons);throw new sb(On(s),l.status||500,i)}const Cb=(l,n,s,i)=>{const c={method:l,headers:(n==null?void 0:n.headers)||{}};return l==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),s))};async function ue(l,n,s,i){var c;const d=Object.assign({},i==null?void 0:i.headers);d[fc]||(d[fc]=am["2024-01-01"].name),i!=null&&i.jwt&&(d.Authorization=`Bearer ${i.jwt}`);const f=(c=i==null?void 0:i.query)!==null&&c!==void 0?c:{};i!=null&&i.redirectTo&&(f.redirect_to=i.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await Rb(l,n,s+m,{headers:d,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function Rb(l,n,s,i,c,d){const f=Cb(n,i,c,d);let m;try{m=await l(s,Object.assign({},f))}catch(p){throw console.error(p),new gc(On(p),0)}if(m.ok||await lg(m),i!=null&&i.noResolveJson)return m;try{return await m.json()}catch(p){await lg(p)}}function ea(l){var n;let s=null;Mb(l)&&(s=Object.assign({},l),l.expires_at||(s.expires_at=gb(l.expires_in)));const i=(n=l.user)!==null&&n!==void 0?n:l;return{data:{session:s,user:i},error:null}}function og(l){const n=ea(l);return!n.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(n.data.weak_password=l.weak_password),n}function rn(l){var n;return{data:{user:(n=l.user)!==null&&n!==void 0?n:l},error:null}}function Ub(l){return{data:l,error:null}}function Db(l){const{action_link:n,email_otp:s,hashed_token:i,redirect_to:c,verification_type:d}=l,f=Or(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:s,hashed_token:i,redirect_to:c,verification_type:d},p=Object.assign({},f);return{data:{properties:m,user:p},error:null}}function ug(l){return l}function Mb(l){return l.access_token&&l.refresh_token&&l.expires_in}const tc=["global","local","others"];class zb{constructor({url:n="",headers:s={},fetch:i}){this.url=n,this.headers=s,this.fetch=sm(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=tc[0]){if(tc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${tc.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,s={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:rn})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:s}=n,i=Or(n,["options"]),c=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(c.new_email=i==null?void 0:i.newEmail,delete c.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Db,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(re(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:rn})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,i,c,d,f,m,p;try{const y={nextPage:null,lastPage:0,total:0},b=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:ug});if(b.error)throw b.error;const w=await b.json(),x=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(p=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(k=>{const T=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(k.split(";")[1].split("=")[1]);y[`${O}Page`]=T}),y.total=parseInt(x)),{data:Object.assign(Object.assign({},w),y),error:null}}catch(y){if(re(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){wr(n);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:rn})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){wr(n);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:rn})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,s=!1){wr(n);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:rn})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){wr(n.userId);try{const{data:s,error:i}=await ue(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:i}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _deleteFactor(n){wr(n.userId),wr(n.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,i,c,d,f,m,p;try{const y={nextPage:null,lastPage:0,total:0},b=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:ug});if(b.error)throw b.error;const w=await b.json(),x=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(p=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(k=>{const T=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(k.split(";")[1].split("=")[1]);y[`${O}Page`]=T}),y.total=parseInt(x)),{data:Object.assign(Object.assign({},w),y),error:null}}catch(y){if(re(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(re(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(n){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}}function cg(l={}){return{getItem:n=>l[n]||null,setItem:(n,s)=>{l[n]=s},removeItem:n=>{delete l[n]}}}const _r={debug:!!(globalThis&&rm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class im extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Bb extends im{}async function Lb(l,n,s){_r.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),_r.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){_r.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,c.name);try{return await s()}finally{_r.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,c.name)}}else{if(n===0)throw _r.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new Bb(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(_r.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function qb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lm(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function Hb(l){return parseInt(l,16)}function $b(l){const n=new TextEncoder().encode(l);return"0x"+Array.from(n,i=>i.toString(16).padStart(2,"0")).join("")}function Vb(l){var n;const{chainId:s,domain:i,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:m,requestId:p,resources:y,scheme:b,uri:w,version:x}=l;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((n=l.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const S=lm(l.address),k=b?`${b}://${i}`:i,T=l.statement?`${l.statement}
`:"",O=`${k} wants you to sign in with your Ethereum account:
${S}

${T}`;let D=`URI: ${w}
Version: ${x}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&(D+=`
Expiration Time: ${c.toISOString()}`),m&&(D+=`
Not Before: ${m.toISOString()}`),p&&(D+=`
Request ID: ${p}`),y){let M=`
Resources:`;for(const H of y){if(!H||typeof H!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${H}`);M+=`
- ${H}`}D+=M}return`${O}
${D}`}class Je extends Error{constructor({message:n,code:s,cause:i,name:c}){var d;super(n,{cause:i}),this.__isWebAuthnError=!0,this.name=(d=c??(i instanceof Error?i.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=s}}class vl extends Je{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function Gb({error:l,options:n}){var s,i,c;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((s=d.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(n.mediation==="conditional"&&((i=d.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new Je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new Je({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new Je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const f=window.location.hostname;if(om(f)){if(d.rp.id!==f)return new Je({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function Yb({error:l,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new Je({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const i=window.location.hostname;if(om(i)){if(s.rpId!==i)return new Je({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new Je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class Pb{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Kb=new Pb;function Xb(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:n,user:s,excludeCredentials:i}=l,c=Or(l,["challenge","user","excludeCredentials"]),d=kr(n).buffer,f=Object.assign(Object.assign({},s),{id:kr(s.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:d,user:f});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const y=i[p];m.excludeCredentials[p]=Object.assign(Object.assign({},y),{id:kr(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function Qb(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:n,allowCredentials:s}=l,i=Or(l,["challenge","allowCredentials"]),c=kr(n).buffer,d=Object.assign(Object.assign({},i),{challenge:c});if(s&&s.length>0){d.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const m=s[f];d.allowCredentials[f]=Object.assign(Object.assign({},m),{id:kr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function Ib(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l;return{id:l.id,rawId:l.id,response:{attestationObject:Rn(new Uint8Array(l.response.attestationObject)),clientDataJSON:Rn(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Jb(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l,i=l.getClientExtensionResults(),c=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:Rn(new Uint8Array(c.authenticatorData)),clientDataJSON:Rn(new Uint8Array(c.clientDataJSON)),signature:Rn(new Uint8Array(c.signature)),userHandle:c.userHandle?Rn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function om(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function dg(){var l,n;return!!(mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator==null?void 0:navigator.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Zb(l){try{const n=await navigator.credentials.create(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new vl("Browser returned unexpected credential type",n)}:{data:null,error:new vl("Empty credential response",n)}}catch(n){return{data:null,error:Gb({error:n,options:l})}}}async function Fb(l){try{const n=await navigator.credentials.get(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new vl("Browser returned unexpected credential type",n)}:{data:null,error:new vl("Empty credential response",n)}}catch(n){return{data:null,error:Yb({error:n,options:l})}}}const Wb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},ex={userVerification:"preferred",hints:["security-key"]};function bl(...l){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),i={};for(const c of l)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))i[d]=f;else if(s(f))i[d]=f;else if(n(f)){const m=i[d];n(m)?i[d]=bl(m,f):i[d]=bl(f)}else i[d]=f}return i}function tx(l,n){return bl(Wb,l,n||{})}function ax(l,n){return bl(ex,l,n||{})}class nx{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:i,signal:c},d){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!f)return{data:null,error:m};const p=c??Kb.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${i}`),y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=tx(f.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:b,error:w}=await Zb({publicKey:y,signal:p});return b?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}case"request":{const y=ax(f.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:b,error:w}=await Fb(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:p}));return b?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}}}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new Cn("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:i})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}},d){if(!s)return{data:null,error:new Rs("rpId is required for WebAuthn authentication")};try{if(!dg())return{data:null,error:new Cn("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:i},signal:c},{request:d});if(!f)return{data:null,error:m};const{webauthn:p}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:i,credential_response:p.credential_response}})}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new Cn("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c},d){if(!s)return{data:null,error:new Rs("rpId is required for WebAuthn registration")};try{if(!dg())return{data:null,error:new Cn("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(b=>{var w;return(w=b.data)===null||w===void 0?void 0:w.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===n&&x.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:m};const{data:p,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:c},{create:d});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:y}}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new Cn("Unexpected error in register",f)}}}}qb();const rx={url:eb,storageKey:tb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ab,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function hg(l,n,s){return await s()}const Sr={};class Us{get jwks(){var n,s;return(s=(n=Sr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=Sr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{cachedAt:n})}constructor(n){var s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Us.nextInstanceID,Us.nextInstanceID+=1,this.instanceID>0&&mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},rx),n);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new zb({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=sm(c.fetch),this.lock=c.lock||hg,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:mt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Lb:this.lock=hg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:rm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=cg(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=cg(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tm}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=yb(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),mt()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:d}=await this._getSessionFromURL(s,i);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),ob(d)){const p=(n=d.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return re(s)?{error:s}:{error:new Cn("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,i,c;try{const d=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=n==null?void 0:n.options)===null||c===void 0?void 0:c.captchaToken}},xform:ea}),{data:f,error:m}=d;if(m||!f)return{data:{user:null,session:null},error:m};const p=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:y,session:p},error:null}}catch(d){if(re(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(n){var s,i,c;try{let d;if("email"in n){const{email:b,password:w,options:x}=n;let S=null,k=null;this.flowType==="pkce"&&([S,k]=await xr(this.storage,this.storageKey)),d=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:b,password:w,data:(s=x==null?void 0:x.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:S,code_challenge_method:k},xform:ea})}else if("phone"in n){const{phone:b,password:w,options:x}=n;d=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:w,data:(i=x==null?void 0:x.data)!==null&&i!==void 0?i:{},channel:(c=x==null?void 0:x.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:ea})}else throw new ol("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return{data:{user:null,session:null},error:m};const p=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:y,session:p},error:null}}catch(d){if(re(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(n){try{let s;if("email"in n){const{email:d,password:f,options:m}=n;s=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:og})}else if("phone"in n){const{phone:d,password:f,options:m}=n;s=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:og})}else throw new ol("You must provide either an email or phone number and a password");const{data:i,error:c}=s;return c?{data:{user:null,session:null},error:c}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new br}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(s){if(re(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,i,c,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,i,c,d,f,m,p,y,b,w,x;let S,k;if("message"in n)S=n.message,k=n.signature;else{const{chain:T,wallet:O,statement:D,options:M}=n;let H;if(mt())if(typeof O=="object")H=O;else{const ye=window;if("ethereum"in ye&&typeof ye.ethereum=="object"&&"request"in ye.ethereum&&typeof ye.ethereum.request=="function")H=ye.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=O}const K=new URL((s=M==null?void 0:M.url)!==null&&s!==void 0?s:window.location.href),F=await H.request({method:"eth_requestAccounts"}).then(ye=>ye).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=lm(F[0]);let J=(i=M==null?void 0:M.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!J){const ye=await H.request({method:"eth_chainId"});J=Hb(ye)}const pe={domain:K.host,address:I,statement:D,uri:K.href,version:"1",chainId:J,nonce:(c=M==null?void 0:M.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=M==null?void 0:M.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=M==null?void 0:M.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=M==null?void 0:M.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(y=M==null?void 0:M.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(b=M==null?void 0:M.signInWithEthereum)===null||b===void 0?void 0:b.resources};S=Vb(pe),k=await H.request({method:"personal_sign",params:[$b(S),I]})}try{const{data:T,error:O}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:k},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=n.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ea});if(O)throw O;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new br}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:O})}catch(T){if(re(T))return{data:{user:null,session:null},error:T};throw T}}async signInWithSolana(n){var s,i,c,d,f,m,p,y,b,w,x,S;let k,T;if("message"in n)k=n.message,T=n.signature;else{const{chain:O,wallet:D,statement:M,options:H}=n;let K;if(mt())if(typeof D=="object")K=D;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))K=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!(H!=null&&H.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=D}const F=new URL((s=H==null?void 0:H.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in K&&K.signIn){const I=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H==null?void 0:H.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),M?{statement:M}:null));let J;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")J=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)J=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)k=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),T=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${F.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(c=(i=H==null?void 0:H.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=H==null?void 0:H.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((f=H==null?void 0:H.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((m=H==null?void 0:H.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((p=H==null?void 0:H.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((y=H==null?void 0:H.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((w=(b=H==null?void 0:H.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||w===void 0)&&w.length?["Resources",...H.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const I=await K.signMessage(new TextEncoder().encode(k),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=I}}try{const{data:O,error:D}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Rn(T)},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ea});if(D)throw D;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new br}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:D})}catch(O){if(re(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(n){const s=await Tn(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(s??"").split("/");try{const{data:d,error:f}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:ea});if(await nn(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new br}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(re(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(n){try{const{options:s,provider:i,token:c,access_token:d,nonce:f}=n,m=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ea}),{data:p,error:y}=m;return y?{data:{user:null,session:null},error:y}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new br}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:y})}catch(s){if(re(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,i,c,d,f;try{if("email"in n){const{email:m,options:p}=n;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await xr(this.storage,this.storageKey));const{error:w}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:b},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in n){const{phone:m,options:p}=n,{data:y,error:b}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=p==null?void 0:p.data)!==null&&c!==void 0?c:{},create_user:(d=p==null?void 0:p.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(f=p==null?void 0:p.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:b}}throw new ol("You must provide either an email or phone number.")}catch(m){if(re(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(n){var s,i;try{let c,d;"options"in n&&(c=(s=n.options)===null||s===void 0?void 0:s.redirectTo,d=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:f,error:m}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:ea});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,y=f.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:y,session:p},error:null}}catch(c){if(re(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(n){var s,i,c;try{let d=null,f=null;return this.flowType==="pkce"&&([d,f]=await xr(this.storage,this.storageKey)),await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=n==null?void 0:n.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:Ub})}catch(d){if(re(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)throw i;if(!s)throw new Wt;const{error:c}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:c}})}catch(n){if(re(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:i,type:c,options:d}=n,{error:f}=await ue(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in n){const{phone:i,type:c,options:d}=n,{data:f,error:m}=await ue(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m}}throw new ol("You must provide either an email or phone number and a type")}catch(s){if(re(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Tn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<Zu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const f=await Tn(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=ec()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=Ob(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?{data:{session:null},error:d}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:rn}):await this._useSession(async s=>{var i,c,d;const{data:f,error:m}=s;if(m)throw m;return!(!((i=f.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wt}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:rn})})}catch(s){if(re(s))return lb(s)&&(await this._removeSession(),await nn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async i=>{const{data:c,error:d}=i;if(d)throw d;if(!c.session)throw new Wt;const f=c.session;let m=null,p=null;this.flowType==="pkce"&&n.email!=null&&([m,p]=await xr(this.storage,this.storageKey));const{data:y,error:b}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:p}),jwt:f.access_token,xform:rn});if(b)throw b;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Wt;const s=Date.now()/1e3;let i=s,c=!0,d=null;const{payload:f}=Wu(n.access_token);if(f.exp&&(i=f.exp,c=i<=s),c){const{data:m,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:p}=await this._getUser(n.access_token);if(p)throw p;d={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(s){if(re(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var i;if(!n){const{data:f,error:m}=s;if(m)throw m;n=(i=f.session)!==null&&i!==void 0?i:void 0}if(!(n!=null&&n.refresh_token))throw new Wt;const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?{data:{user:null,session:null},error:d}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(re(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!mt())throw new ul("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ul(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new tg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ul("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new tg("No code detected.");const{data:M,error:H}=await this._exchangeCodeForSession(n.code);if(H)throw H;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:m,expires_at:p,token_type:y}=n;if(!d||!m||!f||!y)throw new ul("No session defined in URL");const b=Math.round(Date.now()/1e3),w=parseInt(m);let x=b+w;p&&(x=parseInt(p));const S=x-b;S*1e3<=jr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${w}s`);const k=x-w;b-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,x,b):b-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,x,b);const{data:T,error:O}=await this._getUser(d);if(O)throw O;const D={provider_token:i,provider_refresh_token:c,access_token:d,expires_in:w,expires_at:x,refresh_token:f,token_type:y,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:n.type},error:null}}catch(i){if(re(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Tn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:c,error:d}=s;if(d)return{error:d};const f=(i=c.session)===null||i===void 0?void 0:i.access_token;if(f){const{error:m}=await this.admin.signOut(f,n);if(m&&!(ib(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return n!=="others"&&(await this._removeSession(),await nn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=mb(),i={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async s=>{var i,c;try{const{data:{session:d},error:f}=s;if(f)throw f;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,s={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await xr(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(re(d))return{data:null,error:d};throw d}}async getUserIdentities(){var n;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:i,error:c}=await this._useSession(async d=>{var f,m,p,y,b;const{data:w,error:x}=d;if(x)throw x;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",S,{headers:this.headers,jwt:(b=(y=w.session)===null||y===void 0?void 0:y.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return mt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:n.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(re(i))return{data:{provider:n.provider,url:null},error:i};throw i}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var i;try{const{error:c,data:{session:d}}=s;if(c)throw c;const{options:f,provider:m,token:p,access_token:y,nonce:b}=n,w=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=d==null?void 0:d.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:p,access_token:y,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ea}),{data:x,error:S}=w;return S?{data:{user:null,session:null},error:S}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new br}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),{data:x,error:S})}catch(c){if(re(c))return{data:{user:null,session:null},error:c};throw c}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var i,c;const{data:d,error:f}=s;if(f)throw f;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(i=d.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await bb(async c=>(c>0&&await vb(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ea})),(c,d)=>{const f=200*Math.pow(2,c);return d&&Fu(d)&&Date.now()+f-i<jr})}catch(i){if(this._debug(s,"error",i),re(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",i),mt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await Tn(this.storage,this.storageKey);if(c&&this.userStorage){let f=await Tn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await Er(this.userStorage,this.storageKey+"-user",f)),c.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:ec()}else if(c&&!c.user&&!c.user){const f=await Tn(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(c.user=f.user,await nn(this.storage,this.storageKey+"-user"),await Er(this.storage,this.storageKey,c)):c.user=ec()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const d=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Zu;if(this._debug(i,`session has${d?"":" not"} expired with margin of ${Zu}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Fu(f)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(c.access_token);!m&&(f!=null&&f.user)?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(i,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var s,i;if(!n)throw new Wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new wl;const{data:d,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!d.session)throw new Wt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),re(d)){const f={data:null,error:d};return Fu(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,s,i=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:s});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,s)}catch(p){d.push(p)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const s=Object.assign({},n),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Er(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const d=ig(c);await Er(this.storage,this.storageKey,d)}else{const c=ig(s);await Er(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await nn(this.storage,this.storageKey),await nn(this.storage,this.storageKey+"-code-verifier"),await nn(this.storage,this.storageKey+"-user"),this.userStorage&&await nn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),jr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-n)/jr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${jr}ms, refresh threshold is ${hc} ticks`),c<=hc&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof im)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,i){const c=[`provider=${encodeURIComponent(s)}`];if(i!=null&&i.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[d,f]=await xr(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(m.toString())}if(i!=null&&i.queryParams){const d=new URLSearchParams(i.queryParams);c.push(d.toString())}return i!=null&&i.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var i;const{data:c,error:d}=s;return d?{data:null,error:d}:await ue(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var i,c;const{data:d,error:f}=s;if(f)return{data:null,error:f};const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:y}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=d==null?void 0:d.session)===null||i===void 0?void 0:i.access_token});return y?{data:null,error:y}:(n.factorType==="totp"&&p.type==="totp"&&(!((c=p==null?void 0:p.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:d}=s;if(d)return{data:null,error:d};const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Ib(n.webauthn.credential_response):Jb(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:p}=await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),{data:m,error:p})})}catch(s){if(re(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:d}=s;if(d)return{data:null,error:d};const f=await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Xb(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Qb(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(re(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:i}=await this._challenge({factorId:n.factorId});return i?{data:null,error:i}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=s==null?void 0:s.factors)!==null&&n!==void 0?n:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,s;const{data:{session:i},error:c}=await this.getSession();if(c)return{data:null,error:c};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Wu(i.access_token);let f=null;d.aal&&(f=d.aal);let m=f;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const y=d.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:i},error:c}=s;return c?{data:null,error:c}:i?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:d=>({data:d,error:null})}):{data:null,error:new Wt}})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async i=>{const{data:{session:c},error:d}=i;if(d)return{data:null,error:d};if(!c)return{data:null,error:new Wt};const f=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&mt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(i){if(re(i))return{data:null,error:i};throw i}}async _denyAuthorization(n,s){try{return await this._useSession(async i=>{const{data:{session:c},error:d}=i;if(d)return{data:null,error:d};if(!c)return{data:null,error:new Wt};const f=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&mt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(i){if(re(i))return{data:null,error:i};throw i}}async fetchJwk(n,s={keys:[]}){let i=s.keys.find(m=>m.kid===n);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(m=>m.kid===n),i&&this.jwks_cached_at+rb>c)return i;const{data:d,error:f}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,i=d.keys.find(m=>m.kid===n),!i)?null:i}async getClaims(n,s={}){try{let i=n;if(!i){const{data:S,error:k}=await this.getSession();if(k||!S.session)return{data:null,error:k};i=S.session.access_token}const{header:c,payload:d,signature:f,raw:{header:m,payload:p}}=Wu(i);s!=null&&s.allowExpired||kb(d.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!y){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:d,header:c,signature:f},error:null}}const b=Nb(c.alg),w=await crypto.subtle.importKey("jwk",y,b,!0,["verify"]);if(!await crypto.subtle.verify(b,w,f,fb(`${m}.${p}`)))throw new mc("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}}}Us.nextInstanceID=0;const sx=Us;class ix extends sx{constructor(n){super(n)}}class lx{constructor(n,s,i){var c,d,f;this.supabaseUrl=n,this.supabaseKey=s;const m=Wv(n);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:Pv,realtime:Xv,auth:Object.assign(Object.assign({},Kv),{storageKey:p}),global:Yv},b=Fv(i??{},y);this.storageKey=(c=b.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=b.global.headers)!==null&&d!==void 0?d:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(w,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=b.auth)!==null&&f!==void 0?f:{},this.headers,b.global.fetch),this.fetch=Jv(s,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new ev(new URL("rest/v1",m).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new $v(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new Pp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,s,i)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,s;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:i,storage:c,userStorage:d,storageKey:f,flowType:m,lock:p,debug:y},b,w){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ix({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),b),storageKey:f,autoRefreshToken:n,persistSession:s,detectSessionInUrl:i,storage:c,userStorage:d,flowType:m,lock:p,debug:y,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new pv(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(n,s,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ox=(l,n,s)=>new lx(l,n,s);function ux(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const n=l.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}ux()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const cx="https://kxfsxqoyhoklqgwvzhpd.supabase.co",dx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt4ZnN4cW95aG9rbHFnd3Z6aHBkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE4ODcxNjcsImV4cCI6MjA3NzQ2MzE2N30.mW3MNPAlWXFvAgu1RL4BW_1OWVjCzJat5OddK4GgW64",Re=ox(cx,dx),Kt=Re.auth,hx=async l=>{const{data:{user:n}}=await Kt.getUser();if(!n)throw new Error("User not authenticated for adding student.");const s={...l,user_id:n.id},{data:i,error:c}=await Re.from("students").insert([s]).select().single();if(c)throw c;return i},yc=async(l,n)=>{const{error:s}=await Re.from("students").update(n).eq("id",l);if(s)throw s},fx=async l=>{const{error:n}=await Re.from("students").delete().eq("id",l);if(n)throw n},gx=async l=>{const{error:n}=await Re.from("students").delete().in("id",l);if(n)throw n},mx=async l=>{const{data:{user:n}}=await Kt.getUser();if(!n)throw new Error("User not authenticated for adding batch.");const s={...l,user_id:n.id},{error:i}=await Re.from("batches").insert([s]);if(i)throw i},fl=async(l,n)=>{const{error:s}=await Re.from("batches").update(n).eq("id",l);if(s)throw s},yx=async l=>{if(l.studentIds&&l.studentIds.length>0){await pc(l.studentIds);const{error:s}=await Re.from("students").delete().in("id",l.studentIds);if(s)throw s}const{error:n}=await Re.from("batches").delete().eq("id",l.id);if(n)throw n},px=async l=>{const{data:{user:n}}=await Kt.getUser();if(!n)throw new Error("User not authenticated for adding transaction.");const s={...l,user_id:n.id},{error:i}=await Re.from("transactions").insert([s]);if(i)throw i},vx=async l=>{if(l.length===0)return;const{data:{user:n}}=await Kt.getUser();if(!n)throw new Error("User not authenticated for adding transactions.");const s=l.map(c=>({...c,user_id:n.id})),{error:i}=await Re.from("transactions").insert(s);if(i)throw i},bx=async()=>{const{data:{user:l}}=await Kt.getUser();if(!l)throw new Error("User not authenticated for deleting transactions.");const{error:n}=await Re.from("transactions").delete().eq("user_id",l.id);if(n)throw n},xx=async l=>{const{error:n}=await Re.rpc("delete_transaction_and_update_student",{t_id:l});if(n)throw console.error("RPC delete_transaction_and_update_student failed:",n),new Error(n.message)},wx=async l=>{const{error:n}=await Re.from("transactions").delete().eq("studentId",l);if(n)throw n},_x=async l=>{if(l.length===0)return;const{error:n}=await Re.from("transactions").delete().in("studentId",l);if(n)throw n},Sx=async l=>{if(l.length===0)return[];const{data:{user:n}}=await Kt.getUser();if(!n)throw new Error("User not authenticated for adding students.");const s=l.map(d=>({...d,user_id:n.id})),{data:i,error:c}=await Re.from("students").insert(s).select();if(c)throw c;return i||[]},jx=async l=>{if(l.length===0)return;const{data:{user:n}}=await Kt.getUser();if(!n)throw new Error("User not authenticated for adding batches.");const s=l.map(c=>({...c,user_id:n.id})),{error:i}=await Re.from("batches").insert(s);if(i)throw i},Ex=async l=>{const{data:n,error:s}=await Re.from("guardians").select("*").eq("user_id",l);if(s)throw s;return n},um=async l=>{if(l.length===0)return[];const{data:{user:n}}=await Kt.getUser();if(!n)throw new Error("User not authenticated.");const s=l.map(d=>({...d,user_id:n.id})),{data:i,error:c}=await Re.from("guardians").insert(s).select();if(c)throw c;return i},kx=async l=>{if(l.length===0)return[];const{error:n}=await Re.from("guardians").upsert(l);if(n)throw n},Nx=async l=>{if(l.length===0)return[];const{error:n}=await Re.from("guardians").delete().in("id",l);if(n)throw n},pc=async l=>{if(l.length===0)return;const{error:n}=await Re.from("guardians").delete().in("student_id",l);if(n)throw n},Tx=()=>{const[l,n]=G.useState(!0),[s,i]=G.useState(""),[c,d]=G.useState(""),[f,m]=G.useState(""),[p,y]=G.useState(!1),b=async w=>{w.preventDefault(),m(""),y(!0);try{let x;if(l?x=await Kt.signInWithPassword({email:s,password:c}):x=await Kt.signUp({email:s,password:c}),x.error)throw x.error}catch(x){m(x.message)}finally{y(!1)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:h.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-indigo-600 dark:text-indigo-400",children:"Vidya-Gram"}),h.jsx("h2",{className:"mt-2 text-xl font-semibold text-gray-800 dark:text-white",children:l?"Login to your account":"Create a new account"})]}),h.jsxs("form",{className:"mt-6 space-y-6",onSubmit:b,children:[h.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[h.jsx("div",{children:h.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"Email address",value:s,onChange:w=>i(w.target.value)})}),h.jsx("div",{children:h.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"Password",value:c,onChange:w=>d(w.target.value)})})]}),f&&h.jsx("p",{className:"text-sm text-red-500",children:f}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:p,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400",children:p?"Processing...":l?"Sign in":"Sign up"})})]}),h.jsxs("p",{className:"text-sm text-center text-gray-600 dark:text-gray-400",children:[l?"Don't have an account?":"Already have an account?",h.jsx("button",{onClick:()=>n(!l),className:"ml-1 font-medium text-indigo-600 hover:text-indigo-500",children:l?"Sign up":"Sign in"})]})]})})};var ot=(l=>(l.Dashboard="DASHBOARD",l.Students="STUDENTS",l.Batches="BATCHES",l.Wardens="WARDENS",l.Payments="PAYMENTS",l))(ot||{});const Es=({icon:l,text:n,active:s,onClick:i})=>h.jsxs("button",{onClick:i,className:`flex items-center w-full px-4 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${s?"bg-indigo-600 text-white":"text-gray-500 hover:bg-gray-200 dark:text-gray-400 dark:hover:bg-gray-700"}`,children:[l,h.jsx("span",{className:"ml-3",children:n})]}),Ox=({currentView:l,setView:n})=>h.jsxs("div",{className:"hidden md:flex flex-col w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center justify-center h-16 border-b border-gray-200 dark:border-gray-700 px-4",children:[h.jsx("svg",{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),h.jsx("h1",{className:"ml-2 text-xl font-bold text-indigo-600 dark:text-indigo-400",children:"Vidya-Gram"})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:h.jsxs("nav",{className:"flex flex-col space-y-2",children:[h.jsx(Es,{href:"#",text:"Dashboard",active:l===ot.Dashboard,onClick:()=>n(ot.Dashboard),icon:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),h.jsx(Es,{href:"#",text:"Students",active:l===ot.Students,onClick:()=>n(ot.Students),icon:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A5.975 5.975 0 0112 13a5.975 5.975 0 013 5.197M15 21a6 6 0 00-9-5.197"})})}),h.jsx(Es,{href:"#",text:"Batches",active:l===ot.Batches,onClick:()=>n(ot.Batches),icon:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),h.jsx(Es,{href:"#",text:"Wardens",active:l===ot.Wardens,onClick:()=>n(ot.Wardens),icon:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 20.944L12 22l9-1.056v-5.556c0-1.076-.232-2.11-.658-3.084z"})})}),h.jsx(Es,{href:"#",text:"Payments",active:l===ot.Payments,onClick:()=>n(ot.Payments),icon:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 8h6m-5 4h.01M4 16V6a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2z"})})})]})})]}),Ax=({user:l,onAddStudent:n,onBulkUpload:s,theme:i,toggleTheme:c})=>{const[d,f]=G.useState(!1),m=()=>{Kt.signOut()},p=()=>h.jsxs("button",{onClick:c,className:"p-2 rounded-full text-gray-500 hover:bg-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 dark:focus:ring-offset-gray-800 focus:ring-indigo-500",children:[h.jsx("span",{className:"sr-only",children:"Toggle theme"}),i==="dark"?h.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):h.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})]});return h.jsx("header",{className:"flex items-center justify-end h-16 px-6 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx(p,{}),h.jsxs("button",{onClick:s,className:"hidden sm:inline-flex items-center px-3 py-2 text-sm font-medium text-center text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:focus:ring-gray-600",children:[h.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Bulk Upload"]}),h.jsxs("button",{onClick:n,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 focus:ring-4 focus:outline-none focus:ring-indigo-300 dark:bg-indigo-500 dark:hover:bg-indigo-600 dark:focus:ring-indigo-800",children:[h.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Student"]}),h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>f(!d),className:"flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 dark:focus:ring-offset-gray-800 focus:ring-indigo-500",children:[h.jsx("span",{className:"sr-only",children:"Open user menu"}),h.jsx("img",{className:"h-8 w-8 rounded-full",src:`https://ui-avatars.com/api/?name=${l.email}&background=random`,alt:"User avatar"})]}),d&&h.jsxs("div",{className:"absolute right-0 w-48 mt-2 origin-top-right bg-white rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5 dark:bg-gray-700",children:[h.jsxs("div",{className:"px-4 py-3",children:[h.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:"Signed in as"}),h.jsx("p",{className:"text-sm font-medium text-gray-900 truncate dark:text-gray-300",children:l.email})]}),h.jsx("div",{className:"border-t border-gray-100 dark:border-gray-600"}),h.jsx("button",{onClick:m,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600",children:"Sign out"})]})]})]})})},Ds=({isOpen:l,onClose:n,onConfirm:s,title:i,message:c,confirmButtonText:d="Confirm",confirmButtonVariant:f="danger",children:m})=>{if(!l)return null;const p={danger:"bg-red-600 hover:bg-red-700 focus:ring-red-500",primary:"bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500"};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",children:h.jsxs("div",{className:"p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i}),h.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:c}),m,h.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[h.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none dark:bg-gray-600 dark:text-gray-200 dark:border-gray-500 dark:hover:bg-gray-500",children:"Cancel"}),h.jsx("button",{onClick:s,className:`px-4 py-2 text-sm font-medium text-white border border-transparent rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 ${p[f]}`,children:d})]})]})})})},gl=l=>(l.payments||[]).reduce((n,s)=>n+s.amount,0),ac=l=>l["Full Paid"]?0:l["Total Fees"]-gl(l),Cx=l=>{let n=l.replace(/\D/g,"");return n.length===10&&(n=`91${n}`),`https://wa.me/${n}`},Rx=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),Ux=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 4.315 1.731 6.086l.06.094-1.105 4.023 4.13-1.082.096.056z"})}),cl=({label:l,sortKey:n,sortConfig:s,requestSort:i,className:c})=>{const f=(s==null?void 0:s.key)===n?s.direction==="asc"?"":"":"";return h.jsx("th",{scope:"col",className:`px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer ${c}`,onClick:()=>i(n),children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{children:l}),h.jsx("span",{className:"ml-1 w-4",children:f})]})})},Dx=({students:l,onClose:n})=>{const s=["Roll No","Name","Father","Mother","Phone","Emergency Number","Gender","Batch","Address","Total Fees","Paid","Dues","Full Paid","Mode","Remarks","imageUrl"],[i,c]=G.useState(new Set(s)),d=m=>{c(p=>{const y=new Set(p);return y.has(m)?y.delete(m):y.add(m),y})},f=()=>{const m=l.map(b=>{const w=(b.payments||[]).reduce((k,T)=>k+T.amount,0),x=b["Full Paid"]?0:b["Total Fees"]-w,S={};return i.forEach(k=>{k==="Paid"?S[k]=w:k==="Dues"?S[k]=x:S[k]=b[k]}),S}),p=XLSX.utils.json_to_sheet(m),y=XLSX.utils.book_new();XLSX.utils.book_append_sheet(y,p,"Students"),XLSX.writeFile(y,"student_data.xlsx"),n()};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg",children:h.jsxs("div",{className:"p-6",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Export Student Data"}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Select the columns you want to include in the export."}),h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 my-4 max-h-64 overflow-y-auto p-2 border rounded-md dark:border-gray-700",children:s.map(m=>h.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[h.jsx("input",{type:"checkbox",checked:i.has(m),onChange:()=>d(m),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),h.jsx("span",{children:m})]},m))}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t dark:border-gray-700",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 dark:bg-gray-600 dark:text-gray-200 dark:border-gray-500 dark:hover:bg-gray-500",children:"Cancel"}),h.jsx("button",{onClick:f,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700",children:"Export as XLSX"})]})]})})})},Mx=({students:l,onEditStudent:n,onDeleteStudent:s,onDeleteSelected:i,onCreateBatch:c,onRecordPayment:d,onViewStudent:f,onManageVisitors:m})=>{const[p,y]=G.useState(""),[b,w]=G.useState(new Set),[x,S]=G.useState(!1),[k,T]=G.useState(!1),[O,D]=G.useState(""),[M,H]=G.useState(1),[K,F]=G.useState(10),[I,J]=G.useState({key:"createdAt",direction:"desc"});G.useEffect(()=>{H(1)},[l.length,p,K,I]);const pe=R=>{let X="asc";I&&I.key===R&&I.direction==="asc"&&(X="desc"),J({key:R,direction:X})},ye=G.useMemo(()=>{let R=[...l];const X=p.toLowerCase();return X&&(R=R.filter(ne=>ne.Name.toLowerCase().includes(X)||(ne.Father||"").toLowerCase().includes(X)||String(ne["Roll No"]).toLowerCase().includes(X)||ne.Phone.toLowerCase().includes(X)||ne.Batch.toLowerCase().includes(X))),I&&R.sort((ne,ce)=>{let j,q;switch(I.key){case"Paid":j=gl(ne),q=gl(ce);break;case"Dues":j=ac(ne),q=ac(ce);break;default:j=ne[I.key],q=ce[I.key]}return j<q?I.direction==="asc"?-1:1:j>q?I.direction==="asc"?1:-1:String(ne["Roll No"])<String(ce["Roll No"])?-1:String(ne["Roll No"])>String(ce["Roll No"])?1:0}),R},[l,p,I]),at=G.useMemo(()=>{if(K===0)return ye;const R=(M-1)*K;return ye.slice(R,R+K)},[ye,M,K]),W=R=>{w(X=>{const ne=new Set(X);return ne.has(R)?ne.delete(R):ne.add(R),ne})},P=R=>{R.target.checked?w(new Set(ye.map(X=>X.id))):w(new Set)},Ee=()=>{i(Array.from(b)),w(new Set),S(!1)},_e=()=>{O.trim()&&b.size>0?(c(O,Array.from(b)),D(""),w(new Set)):alert("Please enter a batch name and select at least one student.")},ie=R=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(R),z=K===0?1:Math.ceil(ye.length/K);return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-4",children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:"Student List"}),h.jsx("input",{type:"text",placeholder:"Search by name, father, roll no...",value:p,onChange:R=>y(R.target.value),className:"w-full sm:w-64 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700"})]}),b.size>0&&h.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 p-4 rounded-md mb-4 flex flex-col sm:flex-row items-center gap-4",children:[h.jsxs("span",{className:"text-sm font-medium",children:[b.size," student(s) selected"]}),h.jsxs("div",{className:"flex-grow flex flex-col sm:flex-row items-center gap-2",children:[h.jsx("input",{type:"text",placeholder:"New Batch Name",value:O,onChange:R=>D(R.target.value),className:"px-3 py-1.5 border border-gray-300 dark:border-gray-600 rounded-md text-sm w-full sm:w-auto dark:bg-gray-700"}),h.jsx("button",{onClick:_e,className:"w-full sm:w-auto px-3 py-1.5 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:"Create Batch"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>S(!0),className:"px-3 py-1.5 text-sm font-medium text-red-600 bg-red-100 dark:bg-red-900/50 dark:text-red-400 rounded-md hover:bg-red-200",children:"Delete Selected"}),h.jsx("button",{onClick:()=>T(!0),className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-gray-200 dark:bg-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-300",children:"Export"})]})]}),h.jsxs("div",{className:"overflow-x-auto",children:[h.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"p-4",children:h.jsx("input",{type:"checkbox",className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500",onChange:P,checked:b.size>0&&b.size===ye.length&&ye.length>0})}),h.jsx(cl,{label:"Name",sortKey:"Name",sortConfig:I,requestSort:pe}),h.jsx(cl,{label:"Roll No",sortKey:"Roll No",sortConfig:I,requestSort:pe}),h.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Phone"}),h.jsx(cl,{label:"Paid",sortKey:"Paid",sortConfig:I,requestSort:pe}),h.jsx(cl,{label:"Dues",sortKey:"Dues",sortConfig:I,requestSort:pe}),h.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Visitors"}),h.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:at.map(R=>{const X=gl(R),ne=ac(R),ce=R["Full Paid"]||ne<=0;return h.jsxs("tr",{onClick:()=>f(R),className:`cursor-pointer ${b.has(R.id)?"bg-indigo-50 dark:bg-indigo-900/20":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[h.jsx("td",{className:"p-4",onClick:j=>j.stopPropagation(),children:h.jsx("input",{type:"checkbox",className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500",checked:b.has(R.id),onChange:()=>W(R.id)})}),h.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:R.imageUrl||`https://ui-avatars.com/api/?name=${R.Name}&background=random`,alt:R.Name}),h.jsxs("div",{className:"ml-4",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:R.Name}),h.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:R.Father||"N/A"})]})]})}),h.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:R["Roll No"]}),h.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{children:R.Phone}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("a",{href:`tel:${R.Phone}`,onClick:j=>j.stopPropagation(),className:"p-1.5 rounded-full text-green-600 bg-green-100 hover:bg-green-200 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-900",title:"Call",children:h.jsx(Rx,{})}),h.jsx("a",{href:Cx(R.Phone),target:"_blank",rel:"noopener noreferrer",onClick:j=>j.stopPropagation(),className:"p-1.5 rounded-full text-green-600 bg-green-100 hover:bg-green-200 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-900",title:"WhatsApp",children:h.jsx(Ux,{})})]})]})}),h.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:ie(X)}),h.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:`font-semibold ${ce?"text-green-600":"text-red-600"}`,children:ce?"FULL PAID":ie(ne)}),!ce&&h.jsx("button",{onClick:j=>{j.stopPropagation(),d(R)},className:"ml-4 px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full hover:bg-green-200 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-900",children:"Pay"})]})}),h.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{children:[(R.visitors||[]).length," on record"]}),h.jsx("button",{onClick:j=>{j.stopPropagation(),m(R)},className:"px-2 py-1 text-xs font-semibold text-indigo-800 bg-indigo-100 rounded-full hover:bg-indigo-200 dark:bg-indigo-900/50 dark:text-indigo-300 dark:hover:bg-indigo-900",children:"Manage"})]})}),h.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",onClick:j=>j.stopPropagation(),children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsx("button",{onClick:()=>n(R),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-200",children:"Edit"}),h.jsx("button",{onClick:()=>s(R),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-200",children:"Delete"})]})})]},R.id)})})]}),ye.length===0&&h.jsx("p",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No students found."})]}),h.jsxs("div",{className:"flex items-center justify-between pt-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx("label",{htmlFor:"rowsPerPage",className:"text-gray-600 dark:text-gray-400",children:"Rows:"}),h.jsxs("select",{id:"rowsPerPage",value:K,onChange:R=>F(Number(R.target.value)),className:"bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md p-1.5 focus:ring-indigo-500",children:[h.jsx("option",{value:10,children:"10"}),h.jsx("option",{value:20,children:"20"}),h.jsx("option",{value:0,children:"All"})]})]}),h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[h.jsxs("span",{children:["Page ",M," of ",z]}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{onClick:()=>H(R=>Math.max(1,R-1)),disabled:M===1,className:"p-1 rounded-md disabled:opacity-50 hover:bg-gray-100 dark:hover:bg-gray-700",children:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),h.jsx("button",{onClick:()=>H(R=>Math.min(z,R+1)),disabled:M===z,className:"p-1 rounded-md disabled:opacity-50 hover:bg-gray-100 dark:hover:bg-gray-700",children:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]})]})]}),x&&h.jsx(Ds,{isOpen:x,onClose:()=>S(!1),onConfirm:Ee,title:"Delete Selected Students",message:`Are you sure you want to delete ${b.size} selected students? This action cannot be undone.`,confirmButtonText:"Confirm",confirmButtonVariant:"danger"}),k&&b.size>0&&h.jsx(Dx,{students:l.filter(R=>b.has(R.id)),onClose:()=>T(!1)})]})},fg={"Roll No":"",Name:"",Father:"",Mother:"",Phone:"",Gender:"Male",Batch:"",Address:"","Total Fees":0,Remarks:"","Full Paid":!1,Mode:"One Time",imageUrl:"",imagePath:""},zx=({isOpen:l,onClose:n,onSubmit:s})=>{const[i,c]=G.useState(fg),[d,f]=G.useState(null),[m,p]=G.useState(null),[y,b]=G.useState(!1);G.useEffect(()=>{l&&(c(fg),p(null),f(null),b(!1))},[l]);const w=k=>{const{name:T,value:O,type:D}=k.target;if(D==="checkbox"){c(M=>({...M,[T]:k.target.checked}));return}c(T==="Total Fees"?M=>({...M,[T]:Number(O)||0}):M=>({...M,[T]:O}))},x=async k=>{var O;const T=(O=k.target.files)==null?void 0:O[0];if(T)try{const D=await imageCompression(T,{maxSizeMB:1,maxWidthOrHeight:800,useWebWorker:!0});f(D),p(URL.createObjectURL(D))}catch(D){console.error("Image compression failed:",D),f(T),p(URL.createObjectURL(T))}},S=async k=>{k.preventDefault(),b(!0),await s(i,d),b(!1)};return l?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-full overflow-y-auto",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add New Student"}),h.jsx("button",{onClick:n,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",children:h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),h.jsxs("form",{onSubmit:S,className:"mt-4 space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[h.jsx("img",{src:m||`https://ui-avatars.com/api/?name=${i.Name||"S"}&background=random`,alt:"Profile Preview",className:"w-24 h-24 rounded-full object-cover shadow-md"}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"photo-upload",className:"cursor-pointer px-4 py-2 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-500",children:[h.jsx("span",{children:"Upload Photo"}),h.jsx("input",{id:"photo-upload",name:"photo-upload",type:"file",className:"sr-only",accept:"image/*",onChange:x})]}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"PNG or JPG. Recommended size: 800x800px."})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx("input",{type:"text",name:"Name",value:i.Name,onChange:w,placeholder:"Full Name",required:!0,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),h.jsx("input",{type:"text",name:"Roll No",value:i["Roll No"],onChange:w,placeholder:"Roll No.",required:!0,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),h.jsx("input",{type:"text",name:"Father",value:i.Father,onChange:w,placeholder:"Father's Name",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),h.jsx("input",{type:"text",name:"Mother",value:i.Mother,onChange:w,placeholder:"Mother's Name",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),h.jsx("input",{type:"tel",name:"Phone",value:i.Phone,onChange:w,placeholder:"Student's Phone Number",required:!0,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),h.jsxs("select",{name:"Gender",value:i.Gender,onChange:w,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600",children:[h.jsx("option",{children:"Male"}),h.jsx("option",{children:"Female"}),h.jsx("option",{children:"Other"})]}),h.jsx("input",{type:"text",name:"Batch",value:i.Batch,onChange:w,placeholder:"Batch",required:!0,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),h.jsx("input",{type:"number",name:"Total Fees",value:i["Total Fees"],onChange:w,placeholder:"Total Fees",required:!0,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),h.jsxs("select",{name:"Mode",value:i.Mode,onChange:w,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600",children:[h.jsx("option",{children:"One Time"}),h.jsx("option",{children:"Monthly"})]})]}),h.jsx("textarea",{name:"Address",value:i.Address,onChange:w,placeholder:"Address",rows:2,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),h.jsx("textarea",{name:"Remarks",value:i.Remarks,onChange:w,placeholder:"Remarks",rows:2,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("input",{id:"full-paid",type:"checkbox",name:"Full Paid",checked:!!i["Full Paid"],onChange:w,className:"mt-1 h-4 w-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"full-paid",className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Mark as Full Paid"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Overrides calculated status. Use for discounts or scholarships."})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t dark:border-gray-700 mt-4",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none dark:bg-gray-600 dark:text-gray-200 dark:border-gray-500 dark:hover:bg-gray-500",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:y,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:y?"Saving...":"Add Student"})]})]})]})})}):null},Bx=({student:l,onClose:n,onSave:s})=>{const[i,c]=G.useState(l),[d,f]=G.useState(null),[m,p]=G.useState(l.imageUrl||null),[y,b]=G.useState(!1);G.useEffect(()=>{const D=JSON.parse(JSON.stringify(l));c(D),p(l.imageUrl||null),f(null),b(!1)},[l]);const w=D=>{const{name:M,value:H,type:K}=D.target;if(K==="checkbox"){c(F=>({...F,[M]:D.target.checked}));return}c(M==="Total Fees"?F=>({...F,[M]:Number(H)||0}):F=>({...F,[M]:H}))},x=async D=>{var H;const M=(H=D.target.files)==null?void 0:H[0];if(M)try{const K=await imageCompression(M,{maxSizeMB:1,maxWidthOrHeight:800,useWebWorker:!0});f(K),p(URL.createObjectURL(K))}catch(K){console.error("Error compressing image:",K),f(M),p(URL.createObjectURL(M))}},S=async D=>{D.preventDefault(),b(!0),await s(i,d||void 0),b(!1)},k=G.useMemo(()=>(i.payments||[]).reduce((D,M)=>D+M.amount,0),[i.payments]),T=G.useMemo(()=>i["Full Paid"]?0:(i["Total Fees"]||0)-k,[i,k]),O=D=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(D);return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-2xl w-full max-w-4xl max-h-full overflow-y-auto",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Edit Student Profile"}),h.jsxs("form",{onSubmit:S,className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[h.jsxs("div",{className:"md:w-1/3 space-y-4",children:[h.jsxs("fieldset",{children:[h.jsx("legend",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-700 pb-2 mb-4",children:"Profile Photo"}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("img",{src:m||`https://ui-avatars.com/api/?name=${i.Name||"S"}&background=random`,alt:"Student",className:"h-32 w-32 rounded-full object-cover shadow-lg mb-4"}),h.jsxs("label",{htmlFor:"photo-upload",className:"cursor-pointer px-4 py-2 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-500",children:[h.jsx("span",{children:"Change Photo"}),h.jsx("input",{id:"photo-upload",name:"photo-upload",type:"file",className:"sr-only",accept:"image/*",onChange:x})]})]})]}),h.jsxs("div",{className:"text-center md:text-left",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Roll No"}),h.jsx("input",{type:"text",name:"Roll No",value:i["Roll No"],onChange:w,className:"mt-1 block w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none sm:text-sm",readOnly:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Name"}),h.jsx("input",{type:"text",name:"Name",value:i.Name,onChange:w,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700"})]})]}),h.jsx("div",{className:"md:w-2/3",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Father's Name"}),h.jsx("input",{type:"text",name:"Father",value:i.Father||"",onChange:w,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mother's Name"}),h.jsx("input",{type:"text",name:"Mother",value:i.Mother||"",onChange:w,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Gender"}),h.jsxs("select",{name:"Gender",value:i.Gender,onChange:w,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[h.jsx("option",{children:"Male"}),h.jsx("option",{children:"Female"}),h.jsx("option",{children:"Other"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Batch"}),h.jsx("input",{type:"text",name:"Batch",value:i.Batch,onChange:w,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700"})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Student's Phone"}),h.jsx("input",{type:"tel",name:"Phone",value:i.Phone,onChange:w,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700"})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Address"}),h.jsx("input",{type:"text",name:"Address",value:i.Address||"",onChange:w,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700"})]})]})})]}),h.jsxs("fieldset",{children:[h.jsx("legend",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-700 pb-2 mb-4",children:"Payment Details"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total Fees"}),h.jsx("input",{type:"number",name:"Total Fees",value:i["Total Fees"],onChange:w,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700",placeholder:"e.g., 50000"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Payment Mode"}),h.jsxs("select",{name:"Mode",value:i.Mode||"",onChange:w,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[h.jsx("option",{value:"",children:"Not Specified"}),h.jsx("option",{children:"Monthly"}),h.jsx("option",{children:"One Time"})]})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total Paid"}),h.jsx("div",{className:"mt-1 block w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm sm:text-sm",children:O(k)})]}),h.jsx("div",{className:"md:col-span-2",children:h.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-md text-center",children:[h.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Remaining Fees: "}),h.jsx("span",{className:`font-bold ${T>0?"text-red-600":"text-green-600"}`,children:O(T)})]})}),h.jsxs("div",{className:"flex items-center gap-2 mt-2 md:col-span-2",children:[h.jsx("input",{id:"full-paid",name:"Full Paid",type:"checkbox",checked:i["Full Paid"]??!1,onChange:w,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"full-paid",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mark as Full Paid"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Overrides calculated status. Use for discounts or scholarships."})]})]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Student Remarks"}),h.jsx("textarea",{name:"Remarks",value:i.Remarks||"",onChange:w,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700",placeholder:"Add any general remarks for the student here."})]})]}),h.jsxs("fieldset",{className:"mt-6",children:[h.jsx("legend",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-700 pb-2 mb-4",children:"Transaction History"}),h.jsx("div",{className:"max-h-48 overflow-y-auto border dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-900",children:(i.payments||[]).length>0?h.jsxs("table",{className:"min-w-full text-sm",children:[h.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 sticky top-0",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300",children:"Date"}),h.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300",children:"Amount"}),h.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300",children:"Method"}),h.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300",children:"Remarks"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-800",children:[...i.payments].sort((D,M)=>new Date(M.date).getTime()-new Date(D.date).getTime()).map(D=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:D.date}),h.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:O(D.amount)}),h.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:D.method}),h.jsx("td",{className:"px-4 py-2",children:D.remarks})]},D.id))})]}):h.jsx("p",{className:"text-center text-gray-500 py-6",children:"No payment history found."})})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-8 border-t dark:border-gray-700 mt-8",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:y,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:y?"Saving...":"Save Changes"})]})]})]})})},Lx=({student:l,onClose:n,onSave:s})=>{const[i,c]=G.useState([]),[d,f]=G.useState({}),[m,p]=G.useState({}),[y,b]=G.useState(!1);G.useEffect(()=>{const O=l.visitors?JSON.parse(JSON.stringify(l.visitors)):[];c(O);const D={};O.forEach(M=>{M.image_url&&(D[M.id]=M.image_url)}),p(D),f({}),b(!1)},[l]);const w=(O,D)=>{const{name:M,value:H}=D.target;c(K=>K.map(F=>F.id===O?{...F,[M]:H}:F))},x=async(O,D)=>{var H;const M=(H=D.target.files)==null?void 0:H[0];if(M)try{const K=await imageCompression(M,{maxSizeMB:.5,maxWidthOrHeight:400,useWebWorker:!0});f(F=>({...F,[O]:K})),p(F=>({...F,[O]:URL.createObjectURL(K)}))}catch(K){console.error("Visitor image compression failed:",K),f(F=>({...F,[O]:M})),p(F=>({...F,[O]:URL.createObjectURL(M)}))}},S=()=>{const O={id:crypto.randomUUID(),student_id:l.id,name:"",relation:"",phone:""};c(D=>[...D,O])},k=O=>{c(D=>D.filter(M=>M.id!==O)),f(D=>{const M={...D};return delete M[O],M}),p(D=>{const M={...D};return delete M[O],M})},T=async O=>{O.preventDefault(),b(!0),await s(l.id,i,d),b(!1)};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl max-h-full overflow-y-auto",children:h.jsxs("form",{onSubmit:T,children:[h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Manage Visitors"}),h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["For: ",l.Name]})]}),h.jsx("button",{onClick:n,type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",children:h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),h.jsxs("div",{className:"mt-6 space-y-4",children:[i.map(O=>h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[auto,1fr] gap-4 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-md border dark:border-gray-600",children:[h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsx("img",{src:m[O.id]||`https://ui-avatars.com/api/?name=${O.name||"V"}&background=random`,alt:"Visitor Preview",className:"w-20 h-20 rounded-full object-cover"}),h.jsxs("label",{htmlFor:`visitor-photo-${O.id}`,className:"cursor-pointer text-xs text-indigo-600 dark:text-indigo-400 hover:underline",children:["Change Photo",h.jsx("input",{id:`visitor-photo-${O.id}`,type:"file",className:"sr-only",accept:"image/*",onChange:D=>x(O.id,D)})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[h.jsx("input",{type:"text",name:"name",value:O.name,onChange:D=>w(O.id,D),placeholder:"Visitor Name",required:!0,className:"w-full text-sm px-3 py-2 border rounded-md dark:bg-gray-800 dark:border-gray-600"}),h.jsx("input",{type:"text",name:"relation",value:O.relation,onChange:D=>w(O.id,D),placeholder:"Relation",required:!0,className:"w-full text-sm px-3 py-2 border rounded-md dark:bg-gray-800 dark:border-gray-600"}),h.jsx("input",{type:"tel",name:"phone",value:O.phone,onChange:D=>w(O.id,D),placeholder:"Visitor Phone",required:!0,className:"w-full text-sm px-3 py-2 border rounded-md dark:bg-gray-800 dark:border-gray-600 sm:col-span-2"}),h.jsx("div",{className:"sm:col-span-2 flex justify-end",children:h.jsx("button",{type:"button",onClick:()=>k(O.id),className:"text-xs font-medium text-red-600 dark:text-red-400 hover:underline",children:"Remove Visitor"})})]})]},O.id)),h.jsx("button",{type:"button",onClick:S,className:"w-full text-sm py-2 border-2 border-dashed rounded-md text-gray-500 hover:bg-gray-50 dark:border-gray-600 dark:hover:bg-gray-700",children:"+ Add Visitor"})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 p-6 bg-gray-50 dark:bg-gray-800 border-t dark:border-gray-700",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none dark:bg-gray-600 dark:text-gray-200 dark:border-gray-500 dark:hover:bg-gray-500",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:y,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:y?"Saving...":"Save Changes"})]})]})})})},qx=({isOpen:l,onClose:n,onUploadComplete:s,existingStudents:i,existingBatches:c})=>{const[d,f]=G.useState(null),[m,p]=G.useState(!1),[y,b]=G.useState(""),[w,x]=G.useState(null),[S,k]=G.useState(null),T=()=>{f(null),p(!1),b(""),x(null),k(null)},O=()=>{T(),n()},D=F=>{F.target.files&&(f(F.target.files[0]),b(""),x(null),k(null))},M=()=>{const F=[{Name:"Aarav Sharma","Roll No":"101",Batch:"Physics-A",Phone:"9876543210","Total Fees":5e4,Father:"Rakesh Sharma",Mother:"Sunita Sharma",Gender:"Male",Address:"123, ABC Colony, New Delhi",Remarks:"Joined in April session","Full Paid":!1,Mode:"Monthly","Initial Payment Amount":1e4,"Initial Payment Date":"2024-05-20","Initial Payment Method":"UPI","Initial Payment Remarks":"Admission Fee","Visitor Name":"Rohan Sharma","Visitor Relation":"Uncle","Visitor Phone":"9876543211"}],I=XLSX.utils.json_to_sheet(F),J=XLSX.utils.book_new();XLSX.utils.book_append_sheet(J,I,"Students"),XLSX.writeFile(J,"student_upload_template.xlsx")},H=()=>{if(!S)return;const F=XLSX.utils.json_to_sheet(S),I=XLSX.utils.book_new();XLSX.utils.book_append_sheet(I,F,"Skipped Records"),XLSX.writeFile(I,"skipped_student_records.xlsx")},K=async()=>{if(!d){b("Please select a file.");return}p(!0),b(""),x(null),k(null);const F=new FileReader;F.onload=async I=>{var J;try{const pe=new Uint8Array((J=I.target)==null?void 0:J.result),ye=XLSX.read(pe,{type:"array"}),at=ye.SheetNames[0],W=ye.Sheets[at],P=XLSX.utils.sheet_to_json(W);if(P.length===0){b("The file is empty or doesn't contain valid data."),p(!1);return}const Ee=new Set(i.map(Y=>String(Y["Roll No"]))),_e=[],ie=[],z={};for(const Y of P){const fe=Y["Roll No"]?String(Y["Roll No"]).trim():"",ke=Y.Name?String(Y.Name).trim():"";if(!fe||!ke){ie.push({...Y,"Reason for Skipping":"Missing required fields: Name or Roll No"});continue}if(Ee.has(fe))ie.push({...Y,"Reason for Skipping":"Roll No already exists"});else{const yt=Y.Batch?String(Y.Batch).trim():"Unassigned",pt=[],na=Y["Visitor Name"]?String(Y["Visitor Name"]).trim():"",Mt=Y["Visitor Relation"]?String(Y["Visitor Relation"]).trim():"",vt=Y["Visitor Phone"]?String(Y["Visitor Phone"]).trim():"";na&&Mt&&vt&&pt.push({name:na,relation:Mt,phone:vt}),pt.length>0&&(z[fe]=pt);const da=[],Xt=Number(Y["Initial Payment Amount"]??0);if(Xt>0){let Qt=new Date().toISOString().slice(0,10);if(Y["Initial Payment Date"]){let It=Y["Initial Payment Date"];if(typeof It=="number"){const sa=new Date(1899,11,30);Qt=new Date(sa.getTime()+It*24*60*60*1e3).toISOString().slice(0,10)}else if(typeof It=="string"){const sa=new Date(It);isNaN(sa.getTime())||(Qt=sa.toISOString().slice(0,10))}}const ln={id:crypto.randomUUID(),amount:Xt,method:Y["Initial Payment Method"]||"Other",date:Qt,remarks:Y["Initial Payment Remarks"]||"Initial payment from bulk upload"};da.push(ln)}const ra={Name:ke,"Roll No":fe,Batch:yt,Father:String(Y.Father??""),Mother:String(Y.Mother??""),Phone:String(Y.Phone??""),"Total Fees":Number(Y["Total Fees"]??0),Gender:Y.Gender==="Female"?"Female":Y.Gender==="Other"?"Other":"Male",Address:Y.Address??"",Remarks:Y.Remarks??"","Full Paid":Y["Full Paid"]!=null?!!Y["Full Paid"]:!1,Mode:Y.Mode==="Monthly"?"Monthly":"One Time",payments:da,imageUrl:"",imagePath:""};_e.push(ra),Ee.add(fe)}}const R=_e.length>0?await Sx(_e):[],X=Array.isArray(R)?R:[],ne=[];X.forEach(Y=>{const fe=String(Y["Roll No"]),ke=z[fe];ke&&ke.forEach(yt=>{ne.push({...yt,student_id:Y.id})})}),ne.length>0&&await um(ne);const ce=[];X.forEach(Y=>{Y.payments&&Y.payments.length>0&&Y.payments.forEach(fe=>{ce.push({...fe,studentId:Y.id,studentName:Y.Name,studentRollNo:Y["Roll No"]})})}),ce.length>0&&await vx(ce);const j=X.reduce((Y,fe)=>(fe&&fe.id&&fe.Batch&&(Y[fe.Batch]=[...Y[fe.Batch]||[],fe.id]),Y),{}),q=Object.keys(j),Q=new Map(c.map(Y=>[Y.name,Y])),Z=[],oe=[];let de=0;q.forEach(Y=>{const fe=j[Y];if(Q.has(Y)){const ke=Q.get(Y),yt=[...new Set([...ke.studentIds,...fe])];oe.push(fl(ke.id,{studentIds:yt}))}else Z.push({name:Y,studentIds:fe,wardens:[]}),de++,Q.set(Y,{id:"temp",name:Y,studentIds:fe,wardens:[]})}),Z.length>0&&await jx(Z),oe.length>0&&await Promise.all(oe),x({processed:P.length,created:X.length,skipped:ie.length,newBatches:de}),ie.length>0&&k(ie),(X.length>0||de>0||oe.length>0||ce.length>0||ne.length>0)&&s()}catch(pe){console.error(pe),b(`Upload failed: ${pe.message}. Please check file format and data.`)}finally{p(!1)}},F.readAsArrayBuffer(d)};return l?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Bulk Student Upload"}),h.jsx("button",{onClick:O,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",children:h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),h.jsxs("div",{className:"mt-4 space-y-4",children:[h.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[h.jsxs("p",{children:["Upload an Excel file. New students will be created. ",h.jsx("strong",{children:"Existing students (matched by 'Roll No') will be ignored."})]}),h.jsx("button",{onClick:M,className:"text-indigo-600 dark:text-indigo-400 hover:underline font-medium mt-1 text-sm",children:"Download Template"})]}),h.jsx("div",{className:"mt-2 text-sm p-3 bg-indigo-50 dark:bg-indigo-900/20 border-l-4 border-indigo-400 dark:border-indigo-500 text-indigo-800 dark:text-indigo-200",children:h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Note on Payments & Visitors:"})," The visitor and initial payment columns are optional. However, if you add a visitor, the 'Visitor Name', 'Visitor Relation', and 'Visitor Phone' fields must ",h.jsx("span",{className:"font-semibold",children:"all"})," be filled in for that row."]})}),h.jsx("input",{type:"file",onChange:D,accept:".xlsx, .xls, .csv",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-indigo-900/50 dark:file:text-indigo-300 dark:hover:file:bg-indigo-900"}),y&&h.jsx("p",{className:"text-sm text-red-500",children:y}),w&&h.jsxs("div",{className:`mt-4 p-4 rounded-md ${w.created>0?"bg-green-50 dark:bg-green-900/50 text-green-700 dark:text-green-300":"bg-yellow-50 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-300"}`,children:[h.jsx("h4",{className:"font-bold",children:"Upload Complete!"}),h.jsxs("ul",{className:"list-disc list-inside text-sm mt-1",children:[h.jsxs("li",{children:["Processed: ",w.processed," rows"]}),h.jsxs("li",{children:["Students Created: ",w.created]}),h.jsxs("li",{children:["Batches Created: ",w.newBatches]}),h.jsxs("li",{children:["Records Skipped: ",w.skipped," (already exist or invalid data)"]})]}),S&&S.length>0&&h.jsx("button",{onClick:H,className:"mt-3 px-3 py-1 text-sm font-medium bg-white dark:bg-gray-600 text-indigo-700 dark:text-indigo-200 border border-indigo-300 dark:border-indigo-500 rounded-md hover:bg-gray-50 dark:hover:bg-gray-500",children:"Download Skipped Records"})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t dark:border-gray-700 mt-4",children:[h.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 dark:bg-gray-600 dark:text-gray-200 dark:border-gray-500 dark:hover:bg-gray-500",children:"Cancel"}),h.jsx("button",{onClick:K,disabled:m||!d,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Processing...":"Upload File"})]})]})})}):null},Hx=({student:l,onClose:n,onSave:s})=>{const[i,c]=G.useState(""),[d,f]=G.useState("Online"),[m,p]=G.useState(new Date().toISOString().slice(0,10)),[y,b]=G.useState(""),[w,x]=G.useState(!1),S=G.useMemo(()=>(l.payments||[]).reduce((M,H)=>M+H.amount,0),[l.payments]),k=G.useMemo(()=>l["Total Fees"]-S,[l,S]),T=M=>{const H=M.target.value;/^\d*\.?\d*$/.test(H)&&c(H)},O=async M=>{M.preventDefault();const H=parseFloat(i);if(!H||H<=0){alert("Please enter a valid positive amount.");return}if(!m||new Date(m).toString()==="Invalid Date"){alert("Please select a valid date.");return}x(!0);const K={id:crypto.randomUUID(),amount:H,method:d,date:m,remarks:y};await s(l,K)},D=M=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(M);return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-2xl w-full max-w-md",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-2",children:"Record Payment"}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:["For: ",h.jsx("span",{className:"font-semibold",children:l.Name})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Fees"}),h.jsx("p",{className:"font-semibold dark:text-white",children:D(l["Total Fees"])})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Fees Remaining"}),h.jsx("p",{className:`font-semibold ${k>0?"text-red-600":"text-green-600"}`,children:D(k)})]})]}),h.jsxs("form",{onSubmit:O,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Amount"}),h.jsx("input",{type:"text",value:i,onChange:T,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",placeholder:"Enter amount being paid",required:!0,pattern:"^\\d*\\.?\\d*$"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Payment Method"}),h.jsxs("select",{value:d,onChange:M=>f(M.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",children:[h.jsx("option",{children:"Online"}),h.jsx("option",{children:"Cash"}),h.jsx("option",{children:"Card"}),h.jsx("option",{children:"UPI"}),h.jsx("option",{children:"Other"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Payment Date"}),h.jsx("input",{type:"date",value:m,onChange:M=>p(M.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Remarks (Optional)"}),h.jsx("textarea",{value:y,onChange:M=>b(M.target.value),rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",placeholder:"e.g., Transaction ID, partial payment"})]}),h.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[h.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:w,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:w?"Saving...":"Save Payment"})]})]})]})})},dl=({title:l,value:n})=>h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate",children:l}),h.jsx("p",{className:"mt-1 text-3xl font-semibold text-gray-900 dark:text-white",children:n})]}),$x=({transactions:l})=>{const n=G.useRef(null),s=G.useRef(null),i=G.useMemo(()=>{const c={},d=[],f=new Date;for(let m=5;m>=0;m--){const y=new Date(f.getFullYear(),f.getMonth()-m,1).toLocaleString("default",{month:"short",year:"2-digit"});d.push(y),c[y]=0}return l.forEach(m=>{const y=new Date(m.date).toLocaleString("default",{month:"short",year:"2-digit"});c.hasOwnProperty(y)&&(c[y]+=m.amount)}),{labels:d,datasets:[{label:"Fees Collected",data:d.map(m=>c[m]),backgroundColor:"rgba(79, 70, 229, 0.7)",borderColor:"rgba(79, 70, 229, 1)",borderWidth:1,borderRadius:4}]}},[l]);return G.useEffect(()=>{if(!n.current)return;s.current&&s.current.destroy();const c=n.current.getContext("2d");if(c)return s.current=new Chart(c,{type:"bar",data:i,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{callback:function(d){return d>=1e3?""+d/1e3+"k":""+d}}},x:{grid:{display:!1}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(d){let f=d.dataset.label||"";return f&&(f+=": "),d.parsed.y!==null&&(f+=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(d.parsed.y)),f}}}}}}),()=>{s.current&&s.current.destroy()}},[i]),h.jsx("canvas",{ref:n})},vc=l=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(l),Vx=({students:l})=>h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-white mb-4",children:"Recent Students"}),h.jsxs("div",{className:"space-y-4",children:[l.slice(0,5).map(n=>h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:n.imageUrl||`https://ui-avatars.com/api/?name=${n.Name}&background=random`,alt:n.Name}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.Name}),h.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Roll No: ",n["Roll No"]]})]})]},n.id)),l.length===0&&h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No students have been added yet."})]})]}),Gx=({transactions:l})=>h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-white mb-4",children:"Recent Transactions"}),h.jsxs("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[l.slice(0,5).map(n=>h.jsxs("li",{className:"py-3 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.studentName}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:n.date})]}),h.jsx("p",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:vc(n.amount)})]},n.id)),l.length===0&&h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 pt-2",children:"No transactions recorded yet."})]})]}),Yx=({students:l,batches:n,transactions:s})=>{const i=G.useMemo(()=>{const c=l.length,d=n.length,f=s.reduce((y,b)=>y+b.amount,0),m=l.reduce((y,b)=>{if(b["Full Paid"])return y;const w=(b.payments||[]).reduce((S,k)=>S+k.amount,0),x=b["Total Fees"]-w;return y+(x>0?x:0)},0),p=l.filter(y=>y["Full Paid"]?!0:(y.payments||[]).reduce((w,x)=>w+x.amount,0)>=y["Total Fees"]).length;return{totalStudents:c,totalBatches:d,feesCollected:f,feesRemaining:m,fullPaidCount:p}},[l,n,s]);return h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-700 dark:text-gray-200 mb-6",children:"Overview"}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[h.jsx(dl,{title:"Total Students",value:i.totalStudents}),h.jsx(dl,{title:"Total Batches",value:i.totalBatches}),h.jsx(dl,{title:"Total Fees Collected",value:vc(i.feesCollected)}),h.jsx(dl,{title:"Total Fees Remaining",value:vc(i.feesRemaining)})]}),h.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2 p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-white mb-4",children:"Monthly Fee Collection"}),h.jsx("div",{className:"h-80",children:h.jsx($x,{transactions:s})})]}),h.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[h.jsx(Vx,{students:l}),h.jsx(Gx,{transactions:s})]})]})]})},Px=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),Kx=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-pink-500",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),Xx=({batches:l,students:n,onInitiateDeleteBatch:s,onAddWarden:i,onRemoveWarden:c,onAssignStudents:d})=>{const[f,m]=G.useState(null),[p,y]=G.useState(null),[b,w]=G.useState(""),[x,S]=G.useState(null),[k,T]=G.useState(new Set),O=G.useMemo(()=>new Map(n.map(W=>[W.id,W])),[n]),D=W=>O.get(W),M=W=>{m(P=>P===W?null:W),y(null),S(null)},H=(W,P)=>{(p==null?void 0:p.batchId)===W&&(p==null?void 0:p.gender)===P?y(null):(y({batchId:W,gender:P}),w(""),S(null))},K=()=>{p&&b&&(i(p.batchId,b),y(null),w(""))},F=(W,P)=>{(x==null?void 0:x.wardenStudentId)===P.wardenStudentId?S(null):(S({batchId:W.id,wardenStudentId:P.wardenStudentId}),T(new Set(P.assignedStudentIds)),y(null))},I=()=>{S(null),T(new Set)},J=()=>{x&&(d(x.batchId,x.wardenStudentId,Array.from(k)),S(null))},pe=W=>{T(P=>{const Ee=new Set(P);return Ee.has(W)?Ee.delete(W):Ee.add(W),Ee})},ye=W=>{if(!p||p.batchId!==W.id)return null;const{gender:P}=p,Ee=new Set(W.wardens.map(ie=>ie.wardenStudentId)),_e=W.studentIds.map(ie=>D(ie)).filter(ie=>!!(ie&&ie.Gender===P&&!Ee.has(ie.id)));return h.jsxs("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-md flex items-center gap-3 transition-all duration-300",children:[h.jsxs("select",{value:b,onChange:ie=>w(ie.target.value),className:"flex-grow w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-indigo-500 bg-white dark:bg-gray-700 text-sm",children:[h.jsxs("option",{value:"",children:["-- Select a ",P.toLowerCase()," student --"]}),_e.map(ie=>h.jsxs("option",{value:ie.id,children:[ie.Name," (",ie["Roll No"],")"]},ie.id))]}),h.jsx("button",{onClick:K,disabled:!b,className:"px-3 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 disabled:bg-green-300",children:"Add"}),h.jsx("button",{onClick:()=>y(null),className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 text-sm rounded-md hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"})]})},at=(W,P)=>{var z;const Ee=new Set(W.wardens.map(R=>R.wardenStudentId)),_e=new Set(W.wardens.filter(R=>R.wardenStudentId!==P.wardenStudentId).flatMap(R=>R.assignedStudentIds)),ie=W.studentIds.map(R=>D(R)).filter(R=>!!R&&!Ee.has(R.id));return h.jsxs("div",{className:"mt-4 p-4 bg-gray-100 dark:bg-gray-900/50 rounded-md",children:[h.jsxs("h5",{className:"text-md font-semibold text-gray-800 dark:text-gray-200 mb-3",children:["Assign students to ",(z=D(P.wardenStudentId))==null?void 0:z.Name,":"]}),h.jsxs("div",{className:"max-h-48 overflow-y-auto space-y-2 border dark:border-gray-600 rounded-md p-2",children:[ie.map(R=>{const X=_e.has(R.id);return h.jsxs("label",{className:`flex items-center p-2 rounded-md ${X?"opacity-50 cursor-not-allowed":"hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[h.jsx("input",{type:"checkbox",checked:k.has(R.id),onChange:()=>pe(R.id),disabled:X,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),h.jsxs("span",{className:"ml-3 text-sm text-gray-700 dark:text-gray-300",children:[R.Name," (",R["Roll No"],")"]}),X&&h.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"(Assigned elsewhere)"})]},R.id)}),ie.length===0&&h.jsx("p",{className:"text-sm text-center text-gray-500 py-4",children:"No students available in this batch to assign."})]}),h.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[h.jsx("button",{onClick:I,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 text-sm",children:"Cancel"}),h.jsx("button",{onClick:J,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm",children:"Save Assignments"})]})]})};return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white mb-4",children:"Batch Management"}),l.length===0?h.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No batches created yet. Go to the Students tab to select students and create a batch."}):h.jsx("div",{className:"space-y-4",children:l.map(W=>h.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>M(W.id),children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-lg text-indigo-700 dark:text-indigo-400",children:W.name}),h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[W.studentIds.length," members"]})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("button",{onClick:P=>{P.stopPropagation(),s(W)},className:"text-red-500 hover:text-red-700 font-medium text-sm",children:"Delete"}),h.jsx("svg",{className:`w-5 h-5 text-gray-500 transform transition-transform ${f===W.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]}),f===W.id&&h.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 space-y-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-md font-medium text-gray-600 dark:text-gray-300 mb-2",children:"Members:"}),h.jsx("ul",{className:"divide-y divide-gray-100 dark:divide-gray-700 max-h-40 overflow-y-auto",children:W.studentIds.map(P=>D(P)).filter(Boolean).map(P=>h.jsxs("li",{className:"py-2 flex justify-between items-center",children:[h.jsx("span",{children:P.Name}),h.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Roll: ",P["Roll No"]]})]},P.id))})]}),h.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-3",children:[h.jsx("h4",{className:"text-md font-semibold text-gray-700 dark:text-gray-200",children:"Warden Management"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>H(W.id,"Female"),className:"px-3 py-1 text-xs font-medium text-pink-700 bg-pink-100 rounded-full hover:bg-pink-200 dark:bg-pink-900 dark:text-pink-200 dark:hover:bg-pink-800",children:"Add Girl Warden"}),h.jsx("button",{onClick:()=>H(W.id,"Male"),className:"px-3 py-1 text-xs font-medium text-blue-700 bg-blue-100 rounded-full hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-200 dark:hover:bg-blue-800",children:"Add Boy Warden"})]})]}),ye(W),h.jsxs("div",{className:"space-y-3 mt-3",children:[W.wardens.map(P=>{const Ee=D(P.wardenStudentId);if(!Ee)return null;const _e=(x==null?void 0:x.wardenStudentId)===P.wardenStudentId;return h.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-md",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("p",{className:"font-semibold text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[Ee.Gender==="Male"?h.jsx(Px,{}):h.jsx(Kx,{}),Ee.Name," ",h.jsx("span",{className:"text-xs text-gray-500",children:"(Warden)"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:()=>F(W,P),className:`text-sm ${_e?"text-gray-500":"text-indigo-600 hover:text-indigo-800"}`,children:_e?"Close Editor":"Assign Students"}),h.jsx("button",{onClick:()=>c(W.id,P.wardenStudentId),className:"text-sm text-red-500 hover:text-red-700",children:"Remove"})]})]}),h.jsxs("ul",{className:"mt-2 pl-4 text-sm text-gray-600 dark:text-gray-300 list-disc",children:[P.assignedStudentIds.map(ie=>D(ie)).filter(Boolean).map(ie=>h.jsxs("li",{children:[ie.Name," ",h.jsxs("span",{className:"text-gray-400 dark:text-gray-500",children:["(",ie["Roll No"],")"]})]},ie.id)),P.assignedStudentIds.length===0&&h.jsx("li",{className:"list-none text-xs text-gray-400",children:"No students assigned."})]}),_e&&at(W,P)]},P.wardenStudentId)}),W.wardens.length===0&&h.jsx("p",{className:"text-sm text-gray-400 mt-4",children:"No wardens assigned to this batch."})]})]})]})]},W.id))})]})})},Qx=({wardenStudent:l,assignedStudents:n})=>h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("img",{className:"h-12 w-12 rounded-full object-cover",src:l.imageUrl||`https://ui-avatars.com/api/?name=${l.Name}&background=random`,alt:l.Name}),h.jsxs("div",{children:[h.jsx("p",{className:"text-md font-semibold text-gray-900 dark:text-white",children:l.Name}),h.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Roll No: ",l["Roll No"]]})]})]}),h.jsxs("div",{className:"mt-4 border-t border-gray-200 dark:border-gray-600 pt-3",children:[h.jsxs("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-2",children:["Assigned Students (",n.length,")"]}),n.length>0?h.jsx("ul",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-400 max-h-32 overflow-y-auto",children:n.map(s=>h.jsxs("li",{children:["- ",s.Name," ",h.jsxs("span",{className:"text-gray-400 dark:text-gray-500",children:["(",s["Roll No"],")"]})]},s.id))}):h.jsx("p",{className:"text-sm text-gray-400 italic",children:"No students assigned yet."})]})]}),Ix=({batches:l,students:n})=>{const s=G.useMemo(()=>new Map(n.map(c=>[c.id,c])),[n]),i=G.useMemo(()=>l.map(c=>{const d=c.wardens.map(f=>{const m=s.get(f.wardenStudentId),p=f.assignedStudentIds.map(y=>s.get(y)).filter(y=>!!y);return{wardenStudent:m,assignedStudents:p}}).filter(f=>!!f.wardenStudent);return{batch:c,wardens:d}}).filter(c=>c.wardens.length>0),[l,s]);return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:"Warden Overview"}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"A centralized view of all wardens and their assigned students across different batches."})]}),i.length===0?h.jsxs("div",{className:"text-center py-10 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[h.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:h.jsx("path",{vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 20.944L12 22l9-1.056v-5.556c0-1.076-.232-2.11-.658-3.084z"})}),h.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No Wardens Assigned"}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:'Assign students as wardens in the "Batches" section to see them here.'})]}):i.map(({batch:c,wardens:d})=>h.jsxs("div",{children:[h.jsxs("h3",{className:"text-xl font-bold text-indigo-600 dark:text-indigo-400 mb-4 pb-2 border-b-2 border-indigo-200 dark:border-indigo-800",children:["Batch: ",c.name]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(({wardenStudent:f,assignedStudents:m})=>h.jsx(Qx,{wardenStudent:f,assignedStudents:m},f.id))})]},c.id))]})},Jx=({transactions:l,onResetHistory:n,onDeleteTransaction:s})=>{const[i,c]=G.useState(""),[d,f]=G.useState(!1),[m,p]=G.useState(null),y=G.useMemo(()=>{if(!i.trim())return l;const S=i.toLowerCase().trim();return l.filter(k=>k.studentName.toLowerCase().includes(S)||String(k.studentRollNo).toLowerCase().includes(S)||k.method.toLowerCase().includes(S)||(k.remarks||"").toLowerCase().includes(S))},[l,i]),b=S=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(S),w=async()=>{await n(),f(!1)},x=async()=>{m&&(await s(m.id),p(null))};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:"Payment History"}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Showing ",y.length," of ",l.length," transactions"]})]}),h.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[h.jsx("input",{type:"text",placeholder:"Search transactions...",className:"w-full sm:w-64 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700",value:i,onChange:S=>c(S.target.value)}),h.jsx("button",{onClick:()=>f(!0),className:"px-3 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",title:"Reset all payment history",children:"Reset"})]})]}),h.jsxs("div",{className:"overflow-x-auto",children:[h.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Student Name"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Roll No"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Method"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Transaction ID"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Remarks"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:y.map(S=>h.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:S.date}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:S.studentName}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:S.studentRollNo}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-200",children:b(S.amount)}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:S.method}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400 font-mono",title:S.id,children:[S.id.substring(0,8),"..."]}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300",children:S.remarks}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:h.jsx("button",{onClick:()=>p(S),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:"Delete Transaction",children:"Delete"})})]},S.id))})]}),y.length===0&&h.jsx("p",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No transactions found."})]})]}),d&&h.jsx(Ds,{isOpen:d,onClose:()=>f(!1),onConfirm:w,title:"Reset All Payment History?",message:"Are you sure you want to delete ALL payment records? This action is permanent and cannot be undone.",confirmButtonText:"Yes, Delete All",confirmButtonVariant:"danger"}),m&&h.jsx(Ds,{isOpen:!!m,onClose:()=>p(null),onConfirm:x,title:"Delete Transaction?",message:`Are you sure you want to permanently delete this payment of ${b(m.amount)} for ${m.studentName}? This cannot be undone.`,confirmButtonText:"Confirm Delete",confirmButtonVariant:"danger"})]})},Zx=({message:l,type:n,onClose:s})=>{G.useEffect(()=>{const d=setTimeout(s,4e3);return()=>clearTimeout(d)},[s]);const i="fixed top-5 right-5 z-[100] text-white px-6 py-3 rounded-lg shadow-lg flex items-center animate-fade-in-down",c={success:"bg-green-500",error:"bg-red-500"};return h.jsxs("div",{className:`${i} ${c[n]}`,children:[h.jsx("p",{children:l}),h.jsx("button",{onClick:s,className:"ml-4 text-xl font-semibold leading-none",children:""})]})},cm=()=>h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"}),Aa=({label:l,value:n})=>h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wider",children:l}),h.jsx("p",{className:"text-gray-800 dark:text-gray-200",children:n||"-"})]}),Fx=({student:l,onClose:n,onPay:s,onEdit:i,onManageVisitors:c})=>{const d=(l.payments||[]).reduce((p,y)=>p+y.amount,0),f=l["Full Paid"]?0:l["Total Fees"]-d,m=p=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(p);return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start p-4 pt-10 sm:pt-20",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Student Profile"}),h.jsx("button",{onClick:n,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",children:h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[h.jsxs("div",{className:"md:w-1/2 space-y-4",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[h.jsx("img",{src:l.imageUrl||`https://ui-avatars.com/api/?name=${l.Name}&background=random`,alt:l.Name,className:"h-24 w-24 rounded-full object-cover shadow-lg"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:l.Name}),h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Roll No: ",l["Roll No"]]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t dark:border-gray-700",children:[h.jsx(Aa,{label:"Father's Name",value:l.Father}),h.jsx(Aa,{label:"Mother's Name",value:l.Mother}),h.jsx(Aa,{label:"Batch",value:l.Batch}),h.jsx(Aa,{label:"Gender",value:l.Gender}),h.jsx(Aa,{label:"Phone",value:l.Phone}),h.jsx(Aa,{label:"Address",value:l.Address})]})]}),h.jsxs("div",{className:"md:w-1/2 space-y-6",children:[h.jsx("h4",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"Payment Summary"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[h.jsx(Aa,{label:"Total Fees",value:m(l["Total Fees"])}),h.jsx(Aa,{label:"Total Paid",value:m(d)}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wider",children:"Remaining"}),h.jsx("p",{className:`font-semibold ${f>0?"text-red-500":"text-green-500"}`,children:m(f)})]}),h.jsx(Aa,{label:"Payment Mode",value:l.Mode})]})]})]}),h.jsxs("div",{className:"mt-8 border-t border-gray-200 dark:border-gray-700 pt-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h4",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"Visitors List"}),h.jsx("button",{onClick:c,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700",children:"Manage Visitors"})]}),l.visitors.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.visitors.map(p=>h.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[h.jsx("img",{src:p.image_url||`https://ui-avatars.com/api/?name=${p.name}&background=random`,alt:p.name,className:"w-16 h-16 rounded-full object-cover"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:p.name}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:p.relation}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:p.phone})]})]},p.id))}):h.jsx("p",{className:"text-center text-gray-500 py-6 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:"No visitors on record."})]}),h.jsxs("div",{className:"mt-8 border-t border-gray-200 dark:border-gray-700 pt-6",children:[h.jsx("h4",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-4",children:"Transaction History"}),h.jsx("div",{className:"max-h-40 overflow-y-auto border dark:border-gray-600 rounded-md",children:(l.payments||[]).length>0?h.jsxs("table",{className:"min-w-full text-sm",children:[h.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 sticky top-0",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300",children:"Date"}),h.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300",children:"Amount"}),h.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300",children:"Method"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600 bg-white dark:bg-gray-800",children:[...l.payments].sort((p,y)=>new Date(y.date).getTime()-new Date(p.date).getTime()).map(p=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:p.date}),h.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:m(p.amount)}),h.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:p.method})]},p.id))})]}):h.jsx("p",{className:"text-center text-gray-500 py-6",children:"No payment history found."})}),l.Remarks&&h.jsxs("div",{className:"mt-6",children:[h.jsx("h4",{className:"text-md font-semibold text-gray-700 dark:text-gray-300",children:"Remarks"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-md",children:l.Remarks})]})]})]}),h.jsxs("div",{className:"flex justify-end items-center gap-4 p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[h.jsx("button",{onClick:n,type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none dark:bg-gray-600 dark:text-gray-200 dark:border-gray-500 dark:hover:bg-gray-500",children:"Close"}),h.jsx("button",{onClick:s,type:"button",className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md shadow-sm hover:bg-green-700 focus:outline-none",children:"Record Payment"}),h.jsx("button",{onClick:i,type:"button",className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none",children:"Edit Profile"})]})]})})},bc="student-images",hl=async(l,n)=>{const{error:s}=await Re.storage.from(bc).upload(n,l,{cacheControl:"3600",upsert:!1});if(s)throw s;const{data:i}=Re.storage.from(bc).getPublicUrl(n);if(!i.publicUrl)throw new Error("Could not retrieve public URL for uploaded image.");return i.publicUrl},ks=async l=>{if(!l||l.length===0)return;const n=Array.isArray(l)?l.filter(i=>!!i):[l];if(n.length===0)return;const{error:s}=await Re.storage.from(bc).remove(n);s&&console.error("Error deleting image(s) from Supabase:",s.message)},Wx=l=>{const[n,s]=G.useState([]),[i,c]=G.useState(!0),d=G.useCallback(async()=>{c(!0);try{const{data:{user:x}}=await Re.auth.getUser();if(!x)throw new Error("User not authenticated.");const{data:S,error:k}=await Re.from("students").select("*").order("createdAt",{ascending:!1});if(k)throw k;const O=(await Ex(x.id)).reduce((M,H)=>{const K=H.student_id;return M[K]||(M[K]=[]),M[K].push(H),M},{}),D=S.map(M=>({...M,visitors:O[M.id]||[]}));s(D)}catch(x){console.error("Error fetching students:",x),l("Failed to load students.","error")}finally{c(!1)}},[l]);return G.useEffect(()=>{d()},[d]),{students:n,loading:i,refetchStudents:d,addStudentWithImage:async(x,S)=>{try{let k="",T="";if(S){const D=await imageCompression(S,{maxSizeMB:1,maxWidthOrHeight:1024});T=`profilePictures/${Date.now()}_${D.name}`,k=await hl(D,T)}const O={...x,payments:[],visitors:[],imageUrl:k,imagePath:T};await hx(O),l("Student added successfully!","success")}catch(k){console.error("Error adding student:",k),l("Failed to add student.","error")}},updateStudentWithImage:async(x,S)=>{try{let k={...x};if(delete k.id,delete k.createdAt,delete k.visitors,S){x.imagePath&&await ks(x.imagePath);const T=await imageCompression(S,{maxSizeMB:1,maxWidthOrHeight:1024}),O=`profilePictures/${Date.now()}_${T.name}`,D=await hl(T,O);k.imageUrl=D,k.imagePath=O}await yc(x.id,k),l("Student profile updated.","success")}catch(k){console.error("Error updating student:",k);const T=k.message||"Failed to update student profile.";l(T,"error")}},deleteStudentAndImage:async(x,S)=>{try{const k=[];x.imagePath&&k.push(x.imagePath),x.visitors&&x.visitors.forEach(T=>{T.image_path&&k.push(T.image_path)}),k.length>0&&await ks(k),S&&await wx(x.id),await pc([x.id]),await fx(x.id),l("Student deleted successfully.","success")}catch(k){console.error("Error deleting student:",k),l("Failed to delete student.","error")}},deleteSelectedStudents:async x=>{if(x.length!==0)try{const k=n.filter(T=>x.includes(T.id)).flatMap(T=>{const O=[];return T.imagePath&&O.push(T.imagePath),T.visitors&&T.visitors.forEach(D=>D.image_path&&O.push(D.image_path)),O}).filter(T=>!!T);k.length>0&&await ks(k),await pc(x),await gx(x),l(`${x.length} student(s) deleted successfully.`,"success")}catch(S){console.error("Error deleting selected students:",S),l("Failed to delete selected students.","error")}},recordPayment:async(x,S)=>{try{const T=(x.payments||[]).reduce((D,M)=>D+M.amount,0)+S.amount>=x["Total Fees"],O=[...x.payments||[],S];await yc(x.id,{payments:O,"Full Paid":x["Full Paid"]||T}),await px({...S,studentId:x.id,studentName:x.Name,studentRollNo:x["Roll No"]}),l("Payment recorded successfully.","success")}catch(k){console.error("Failed to save payment:",k),l("Failed to record payment.","error")}},saveVisitors:async(x,S,k)=>{try{const T=n.find(P=>P.id===x),O=(T==null?void 0:T.visitors)||[],D=new Map(O.map(P=>[P.id,P])),M=new Map(S.map(P=>[P.id,P])),H=S.filter(P=>!D.has(P.id)),K=S.filter(P=>D.has(P.id)),F=O.filter(P=>!M.has(P.id)),I=H.map(async P=>{let Ee="",_e="";const ie=k[P.id];if(ie){const X=await imageCompression(ie,{maxSizeMB:.5,maxWidthOrHeight:400});_e=`visitorPictures/${Date.now()}_${P.id}_${X.name}`,Ee=await hl(X,_e)}const{id:z,...R}=P;return{...R,image_url:Ee,image_path:_e}}),J=await Promise.all(I),pe=K.map(async P=>{let Ee=P.image_url||"",_e=P.image_path||"";const ie=k[P.id];if(ie){const z=D.get(P.id);z!=null&&z.image_path&&await ks(z.image_path);const R=await imageCompression(ie,{maxSizeMB:.5,maxWidthOrHeight:400});_e=`visitorPictures/${Date.now()}_${P.id}_${R.name}`,Ee=await hl(R,_e)}return{...P,image_url:Ee,image_path:_e}}),ye=await Promise.all(pe),at=F.map(P=>P.image_path).filter(P=>!!P);at.length>0&&await ks(at);const W=F.map(P=>P.id);J.length>0&&await um(J),ye.length>0&&await kx(ye),W.length>0&&await Nx(W),l("Visitors saved successfully.","success")}catch(T){console.error("Error saving visitors:",T),l(T.message||"Failed to save visitors.","error")}}}},ew=l=>{const[n,s]=G.useState([]),[i,c]=G.useState(!0),d=G.useCallback(async()=>{c(!0),s([]);const{data:x,error:S}=await Re.from("batches").select("*").order("name",{ascending:!0});S?(console.error("Error fetching batches:",S),l("Failed to load batches.","error")):s(x),c(!1)},[l]);G.useEffect(()=>{d()},[d]);const f=G.useCallback(async(x,S)=>{const k=x.map(T=>yc(T,{Batch:S}));await Promise.all(k)},[]);return{batches:n,loading:i,refetchBatches:d,createBatch:async(x,S)=>{try{await mx({name:x,studentIds:S,wardens:[]}),await f(S,x),l(`Batch "${x}" created.`,"success")}catch(k){console.error("Failed to create batch:",k),l("Failed to create batch.","error")}},deleteBatch:async(x,S)=>{if(x)try{S&&x.studentIds.length>0&&await _x(x.studentIds),await yx(x),l(`Batch "${x.name}" and its students have been deleted.`,"success")}catch(k){console.error("Failed to delete batch:",k),l("Failed to delete batch.","error")}},addWarden:async(x,S)=>{const k=n.find(T=>T.id===x);if(k)try{const T={wardenStudentId:S,assignedStudentIds:[]},O=[...k.wardens,T];await fl(x,{wardens:O}),l("Warden added successfully.","success")}catch(T){console.error("Error adding warden: ",T),l("Failed to add warden.","error")}},removeWarden:async(x,S)=>{const k=n.find(T=>T.id===x);if(k)try{const T=k.wardens.filter(O=>O.wardenStudentId!==S);await fl(x,{wardens:T}),l("Warden removed.","success")}catch(T){console.error("Error removing warden: ",T),l("Failed to remove warden.","error")}},assignStudentsToWarden:async(x,S,k)=>{const T=n.find(O=>O.id===x);if(T)try{const O=T.wardens.map(D=>D.wardenStudentId===S?{...D,assignedStudentIds:k}:D);await fl(x,{wardens:O}),l("Student assignments updated.","success")}catch(O){console.error("Error assigning students: ",O),l("Failed to assign students.","error")}}}},tw=l=>{const[n,s]=G.useState([]),[i,c]=G.useState(!0),d=G.useCallback(async()=>{c(!0);const{data:p,error:y}=await Re.from("transactions").select("*").order("date",{ascending:!1});y?(console.error("Error fetching transactions:",y),l("Failed to load payment history.","error")):s(p),c(!1)},[l]);return G.useEffect(()=>{d()},[d]),{transactions:n,loading:i,refetchTransactions:d,resetAllTransactions:async()=>{try{await bx(),s([]),l("All payment history has been reset.","success")}catch(p){console.error("Error resetting transactions:",p),l("Failed to reset payment history.","error")}},deleteSingleTransaction:async p=>{try{await xx(p),s(y=>y.filter(b=>b.id!==p)),l("Transaction deleted successfully.","success")}catch(y){console.error("Error during transaction deletion process:",y),l(y.message||"An unexpected error occurred.","error"),await d()}}}},aw=({user:l,theme:n,toggleTheme:s})=>{const[i,c]=G.useState(ot.Dashboard),[d,f]=G.useState(null),m=G.useCallback((Se,Ze="success")=>{f({id:Date.now(),message:Se,type:Ze})},[]),{students:p,loading:y,refetchStudents:b,addStudentWithImage:w,updateStudentWithImage:x,deleteStudentAndImage:S,deleteSelectedStudents:k,recordPayment:T,saveVisitors:O}=Wx(m),{batches:D,loading:M,refetchBatches:H,createBatch:K,deleteBatch:F,addWarden:I,removeWarden:J,assignStudentsToWarden:pe}=ew(m),{transactions:ye,loading:at,refetchTransactions:W,resetAllTransactions:P,deleteSingleTransaction:Ee}=tw(m),_e=y||M||at,[ie,z]=G.useState(!0);G.useEffect(()=>{ie&&!_e&&z(!1)},[_e,ie]);const[R,X]=G.useState(!1),[ne,ce]=G.useState(!1),[j,q]=G.useState(!1),[Q,Z]=G.useState(!1),[oe,de]=G.useState(null),[Y,fe]=G.useState(null),[ke,yt]=G.useState(null),[pt,na]=G.useState(null),[Mt,vt]=G.useState(null),[da,Xt]=G.useState(null),[ra,Qt]=G.useState(!1),ln=async(Se,Ze)=>{await w(Se,Ze),await b(),X(!1)},It=Se=>{de(Se),q(!0)},sa=async(Se,Ze)=>{await x(Se,Ze),await b(),q(!1),de(null)},zs=Se=>{yt(Se),Z(!0)},_l=async(Se,Ze,Ra)=>{await O(Se,Ze,Ra),await b(),Z(!1),yt(null)},dt=Se=>{na(Se),Qt(!1)},Sl=async()=>{pt&&(await S(pt,ra),na(null),await b(),ra&&await W())},Bs=async Se=>{await k(Se),await b()},Ls=async(Se,Ze)=>{await K(Se,Ze),await Promise.all([H(),b()])},Dn=async(Se,Ze)=>{await T(Se,Ze),await Promise.all([b(),W()]),Xt(null)},jl=Se=>{vt(Se),Qt(!1)},qs=async()=>{Mt&&(await F(Mt,ra),vt(null),await Promise.all([H(),b()]),ra&&await W())},El=async(Se,Ze)=>{await I(Se,Ze),await H()},kl=async(Se,Ze)=>{await J(Se,Ze),await H()},on=async(Se,Ze,Ra)=>{await pe(Se,Ze,Ra),await H()},ht=async()=>{await P(),await b()},ia=async Se=>{await Ee(Se),await b()},ft=G.useCallback(async()=>{await Promise.all([b(),H(),W()])},[b,H,W]),Nl=()=>{if(ie&&_e)return h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx(cm,{})});switch(i){case ot.Students:return h.jsx(Mx,{students:p,onEditStudent:It,onDeleteStudent:dt,onDeleteSelected:Bs,onCreateBatch:Ls,onRecordPayment:Xt,onViewStudent:fe,onManageVisitors:zs});case ot.Batches:return h.jsx(Xx,{batches:D,students:p,onInitiateDeleteBatch:jl,onAddWarden:El,onRemoveWarden:kl,onAssignStudents:on});case ot.Wardens:return h.jsx(Ix,{batches:D,students:p});case ot.Payments:return h.jsx(Jx,{transactions:ye,onResetHistory:ht,onDeleteTransaction:ia});case ot.Dashboard:default:return h.jsx(Yx,{students:p,batches:D,transactions:ye})}};return h.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200",children:[h.jsx(Ox,{currentView:i,setView:c}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsx(Ax,{user:l,onAddStudent:()=>X(!0),onBulkUpload:()=>ce(!0),theme:n,toggleTheme:s}),h.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 dark:bg-gray-900 p-6",children:Nl()})]}),d&&h.jsx(Zx,{message:d.message,type:d.type,onClose:()=>f(null)},d.id),R&&h.jsx(zx,{isOpen:R,onClose:()=>X(!1),onSubmit:ln,student:null}),j&&oe&&h.jsx(Bx,{student:oe,onClose:()=>q(!1),onSave:sa}),Q&&ke&&h.jsx(Lx,{student:ke,onClose:()=>Z(!1),onSave:_l}),ne&&h.jsx(qx,{isOpen:ne,onClose:()=>ce(!1),onUploadComplete:ft,existingStudents:p,existingBatches:D}),pt&&h.jsx(Ds,{isOpen:!!pt,onClose:()=>na(null),onConfirm:Sl,title:"Delete Student",message:`Are you sure you want to delete ${pt.Name}? This action cannot be undone.`,confirmButtonVariant:"danger",children:h.jsxs("div",{className:"flex items-center space-x-3 bg-red-50 dark:bg-red-900/20 p-3 rounded-md mt-4",children:[h.jsx("input",{id:"delete-tx-student",type:"checkbox",checked:ra,onChange:Se=>Qt(Se.target.checked),className:"h-4 w-4 text-red-600 bg-gray-100 border-gray-300 rounded focus:ring-red-500 dark:focus:ring-red-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),h.jsx("label",{htmlFor:"delete-tx-student",className:"text-sm text-red-800 dark:text-red-200",children:"Also permanently delete all payment history for this student."})]})}),Mt&&h.jsx(Ds,{isOpen:!!Mt,onClose:()=>vt(null),onConfirm:qs,title:`Delete Batch "${Mt.name}"?`,message:`This will also delete all ${Mt.studentIds.length} students in this batch. This action is permanent.`,confirmButtonText:"Confirm Deletion",confirmButtonVariant:"danger",children:h.jsxs("div",{className:"flex items-center space-x-3 bg-red-50 dark:bg-red-900/20 p-3 rounded-md mt-4",children:[h.jsx("input",{id:"delete-tx-batch",type:"checkbox",checked:ra,onChange:Se=>Qt(Se.target.checked),className:"h-4 w-4 text-red-600 bg-gray-100 border-gray-300 rounded focus:ring-red-500 dark:focus:ring-red-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),h.jsx("label",{htmlFor:"delete-tx-batch",className:"text-sm text-red-800 dark:text-red-200",children:"Also permanently delete payment history for all students in this batch."})]})}),da&&h.jsx(Hx,{student:da,onClose:()=>Xt(null),onSave:Dn}),Y&&h.jsx(Fx,{student:Y,onClose:()=>fe(null),onPay:()=>{Xt(Y),fe(null)},onEdit:()=>{It(Y),fe(null)},onManageVisitors:()=>{zs(Y),fe(null)}})]})},nw=()=>{const[l,n]=G.useState(null),[s,i]=G.useState(!0),[c,d]=G.useState(()=>{const m=localStorage.getItem("theme"),p=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return m||(p?"dark":"light")});G.useEffect(()=>{const m=window.document.documentElement;c==="dark"?m.classList.add("dark"):m.classList.remove("dark"),localStorage.setItem("theme",c)},[c]),G.useEffect(()=>{const{data:m}=Kt.onAuthStateChange((p,y)=>{n((y==null?void 0:y.user)??null),i(!1)});return()=>{m.subscription.unsubscribe()}},[]);const f=()=>{d(m=>m==="light"?"dark":"light")};return s?h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:h.jsx(cm,{})}):l?h.jsx(aw,{user:l,theme:c,toggleTheme:f}):h.jsx(Tx,{})},dm=document.getElementById("root");if(!dm)throw new Error("Could not find root element to mount to");const rw=Bp.createRoot(dm);rw.render(h.jsx(Op.StrictMode,{children:h.jsx(nw,{})}));
