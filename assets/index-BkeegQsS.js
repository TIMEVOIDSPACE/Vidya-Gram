function Sv(l,n){for(var s=0;s<n.length;s++){const i=n[s];if(typeof i!="string"&&!Array.isArray(i)){for(const c in i)if(c!=="default"&&!(c in l)){const d=Object.getOwnPropertyDescriptor(i,c);d&&Object.defineProperty(l,c,d.get?d:{enumerable:!0,get:()=>i[c]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function mc(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function cg(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var n=l.default;if(typeof n=="function"){var s=function i(){return this instanceof i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(l).forEach(function(i){var c=Object.getOwnPropertyDescriptor(l,i);Object.defineProperty(s,i,c.get?c:{enumerable:!0,get:function(){return l[i]}})}),s}var zu={exports:{}},xs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function jv(){if(S0)return xs;S0=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(i,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var m in c)m!=="key"&&(d[m]=c[m])}else d=c;return c=d.ref,{$$typeof:l,type:i,key:h,ref:c!==void 0?c:null,props:d}}return xs.Fragment=n,xs.jsx=s,xs.jsxs=s,xs}var j0;function Ev(){return j0||(j0=1,zu.exports=jv()),zu.exports}var f=Ev(),Mu={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function Tv(){if(E0)return ce;E0=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,U={};function G(j,L,K){this.props=j,this.context=L,this.refs=U,this.updater=K||N}G.prototype.isReactComponent={},G.prototype.setState=function(j,L){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,L,"setState")},G.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function $(){}$.prototype=G.prototype;function B(j,L,K){this.props=j,this.context=L,this.refs=U,this.updater=K||N}var J=B.prototype=new $;J.constructor=B,R(J,G.prototype),J.isPureReactComponent=!0;var Q=Array.isArray;function I(){}var P={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function Ee(j,L,K){var V=K.ref;return{$$typeof:l,type:j,key:L,ref:V!==void 0?V:null,props:K}}function We(j,L){return Ee(j.type,L,j.props)}function te(j){return typeof j=="object"&&j!==null&&j.$$typeof===l}function ae(j){var L={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(K){return L[K]})}var Te=/\/+/g;function Oe(j,L){return typeof j=="object"&&j!==null&&j.key!=null?ae(""+j.key):L.toString(36)}function ue(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(I,I):(j.status="pending",j.then(function(L){j.status==="pending"&&(j.status="fulfilled",j.value=L)},function(L){j.status==="pending"&&(j.status="rejected",j.reason=L)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function T(j,L,K,V,F){var le=typeof j;(le==="undefined"||le==="boolean")&&(j=null);var me=!1;if(j===null)me=!0;else switch(le){case"bigint":case"string":case"number":me=!0;break;case"object":switch(j.$$typeof){case l:case n:me=!0;break;case b:return me=j._init,T(me(j._payload),L,K,V,F)}}if(me)return F=F(j),me=V===""?"."+Oe(j,0):V,Q(F)?(K="",me!=null&&(K=me.replace(Te,"$&/")+"/"),T(F,L,K,"",function(Sa){return Sa})):F!=null&&(te(F)&&(F=We(F,K+(F.key==null||j&&j.key===F.key?"":(""+F.key).replace(Te,"$&/")+"/")+me)),L.push(F)),1;me=0;var Le=V===""?".":V+":";if(Q(j))for(var ze=0;ze<j.length;ze++)V=j[ze],le=Le+Oe(V,ze),me+=T(V,L,K,le,F);else if(ze=S(j),typeof ze=="function")for(j=ze.call(j),ze=0;!(V=j.next()).done;)V=V.value,le=Le+Oe(V,ze++),me+=T(V,L,K,le,F);else if(le==="object"){if(typeof j.then=="function")return T(ue(j),L,K,V,F);throw L=String(j),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return me}function q(j,L,K){if(j==null)return j;var V=[],F=0;return T(j,V,"","",function(le){return L.call(K,le,F++)}),V}function X(j){if(j._status===-1){var L=j._result;L=L(),L.then(function(K){(j._status===0||j._status===-1)&&(j._status=1,j._result=K)},function(K){(j._status===0||j._status===-1)&&(j._status=2,j._result=K)}),j._status===-1&&(j._status=0,j._result=L)}if(j._status===1)return j._result.default;throw j._result}var de=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},ie={map:q,forEach:function(j,L,K){q(j,function(){L.apply(this,arguments)},K)},count:function(j){var L=0;return q(j,function(){L++}),L},toArray:function(j){return q(j,function(L){return L})||[]},only:function(j){if(!te(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return ce.Activity=x,ce.Children=ie,ce.Component=G,ce.Fragment=s,ce.Profiler=c,ce.PureComponent=B,ce.StrictMode=i,ce.Suspense=v,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,ce.__COMPILER_RUNTIME={__proto__:null,c:function(j){return P.H.useMemoCache(j)}},ce.cache=function(j){return function(){return j.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(j,L,K){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var V=R({},j.props),F=j.key;if(L!=null)for(le in L.key!==void 0&&(F=""+L.key),L)!he.call(L,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&L.ref===void 0||(V[le]=L[le]);var le=arguments.length-2;if(le===1)V.children=K;else if(1<le){for(var me=Array(le),Le=0;Le<le;Le++)me[Le]=arguments[Le+2];V.children=me}return Ee(j.type,F,V)},ce.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:d,_context:j},j},ce.createElement=function(j,L,K){var V,F={},le=null;if(L!=null)for(V in L.key!==void 0&&(le=""+L.key),L)he.call(L,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(F[V]=L[V]);var me=arguments.length-2;if(me===1)F.children=K;else if(1<me){for(var Le=Array(me),ze=0;ze<me;ze++)Le[ze]=arguments[ze+2];F.children=Le}if(j&&j.defaultProps)for(V in me=j.defaultProps,me)F[V]===void 0&&(F[V]=me[V]);return Ee(j,le,F)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(j){return{$$typeof:m,render:j}},ce.isValidElement=te,ce.lazy=function(j){return{$$typeof:b,_payload:{_status:-1,_result:j},_init:X}},ce.memo=function(j,L){return{$$typeof:y,type:j,compare:L===void 0?null:L}},ce.startTransition=function(j){var L=P.T,K={};P.T=K;try{var V=j(),F=P.S;F!==null&&F(K,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(I,de)}catch(le){de(le)}finally{L!==null&&K.types!==null&&(L.types=K.types),P.T=L}},ce.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},ce.use=function(j){return P.H.use(j)},ce.useActionState=function(j,L,K){return P.H.useActionState(j,L,K)},ce.useCallback=function(j,L){return P.H.useCallback(j,L)},ce.useContext=function(j){return P.H.useContext(j)},ce.useDebugValue=function(){},ce.useDeferredValue=function(j,L){return P.H.useDeferredValue(j,L)},ce.useEffect=function(j,L){return P.H.useEffect(j,L)},ce.useEffectEvent=function(j){return P.H.useEffectEvent(j)},ce.useId=function(){return P.H.useId()},ce.useImperativeHandle=function(j,L,K){return P.H.useImperativeHandle(j,L,K)},ce.useInsertionEffect=function(j,L){return P.H.useInsertionEffect(j,L)},ce.useLayoutEffect=function(j,L){return P.H.useLayoutEffect(j,L)},ce.useMemo=function(j,L){return P.H.useMemo(j,L)},ce.useOptimistic=function(j,L){return P.H.useOptimistic(j,L)},ce.useReducer=function(j,L,K){return P.H.useReducer(j,L,K)},ce.useRef=function(j){return P.H.useRef(j)},ce.useState=function(j){return P.H.useState(j)},ce.useSyncExternalStore=function(j,L,K){return P.H.useSyncExternalStore(j,L,K)},ce.useTransition=function(){return P.H.useTransition()},ce.version="19.2.0",ce}var T0;function yc(){return T0||(T0=1,Mu.exports=Tv()),Mu.exports}var Y=yc();const kv=mc(Y);var Bu={exports:{}},ws={},Lu={exports:{}},qu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function Nv(){return k0||(k0=1,(function(l){function n(T,q){var X=T.length;T.push(q);e:for(;0<X;){var de=X-1>>>1,ie=T[de];if(0<c(ie,q))T[de]=q,T[X]=ie,X=de;else break e}}function s(T){return T.length===0?null:T[0]}function i(T){if(T.length===0)return null;var q=T[0],X=T.pop();if(X!==q){T[0]=X;e:for(var de=0,ie=T.length,j=ie>>>1;de<j;){var L=2*(de+1)-1,K=T[L],V=L+1,F=T[V];if(0>c(K,X))V<ie&&0>c(F,K)?(T[de]=F,T[V]=X,de=V):(T[de]=K,T[L]=X,de=L);else if(V<ie&&0>c(F,X))T[de]=F,T[V]=X,de=V;else break e}}return q}function c(T,q){var X=T.sortIndex-q.sortIndex;return X!==0?X:T.id-q.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var h=Date,m=h.now();l.unstable_now=function(){return h.now()-m}}var v=[],y=[],b=1,x=null,w=3,S=!1,N=!1,R=!1,U=!1,G=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function J(T){for(var q=s(y);q!==null;){if(q.callback===null)i(y);else if(q.startTime<=T)i(y),q.sortIndex=q.expirationTime,n(v,q);else break;q=s(y)}}function Q(T){if(R=!1,J(T),!N)if(s(v)!==null)N=!0,I||(I=!0,ae());else{var q=s(y);q!==null&&ue(Q,q.startTime-T)}}var I=!1,P=-1,he=5,Ee=-1;function We(){return U?!0:!(l.unstable_now()-Ee<he)}function te(){if(U=!1,I){var T=l.unstable_now();Ee=T;var q=!0;try{e:{N=!1,R&&(R=!1,$(P),P=-1),S=!0;var X=w;try{t:{for(J(T),x=s(v);x!==null&&!(x.expirationTime>T&&We());){var de=x.callback;if(typeof de=="function"){x.callback=null,w=x.priorityLevel;var ie=de(x.expirationTime<=T);if(T=l.unstable_now(),typeof ie=="function"){x.callback=ie,J(T),q=!0;break t}x===s(v)&&i(v),J(T)}else i(v);x=s(v)}if(x!==null)q=!0;else{var j=s(y);j!==null&&ue(Q,j.startTime-T),q=!1}}break e}finally{x=null,w=X,S=!1}q=void 0}}finally{q?ae():I=!1}}}var ae;if(typeof B=="function")ae=function(){B(te)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Oe=Te.port2;Te.port1.onmessage=te,ae=function(){Oe.postMessage(null)}}else ae=function(){G(te,0)};function ue(T,q){P=G(function(){T(l.unstable_now())},q)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(T){T.callback=null},l.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<T?Math.floor(1e3/T):5},l.unstable_getCurrentPriorityLevel=function(){return w},l.unstable_next=function(T){switch(w){case 1:case 2:case 3:var q=3;break;default:q=w}var X=w;w=q;try{return T()}finally{w=X}},l.unstable_requestPaint=function(){U=!0},l.unstable_runWithPriority=function(T,q){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var X=w;w=T;try{return q()}finally{w=X}},l.unstable_scheduleCallback=function(T,q,X){var de=l.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?de+X:de):X=de,T){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=X+ie,T={id:b++,callback:q,priorityLevel:T,startTime:X,expirationTime:ie,sortIndex:-1},X>de?(T.sortIndex=X,n(y,T),s(v)===null&&T===s(y)&&(R?($(P),P=-1):R=!0,ue(Q,X-de))):(T.sortIndex=ie,n(v,T),N||S||(N=!0,I||(I=!0,ae()))),T},l.unstable_shouldYield=We,l.unstable_wrapCallback=function(T){var q=w;return function(){var X=w;w=q;try{return T.apply(this,arguments)}finally{w=X}}}})(qu)),qu}var N0;function Ov(){return N0||(N0=1,Lu.exports=Nv()),Lu.exports}var Hu={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function Av(){if(O0)return ut;O0=1;var l=yc();function n(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(v,y,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:v,containerInfo:y,implementation:b}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ut.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return d(v,y,null,b)},ut.flushSync=function(v){var y=h.T,b=i.p;try{if(h.T=null,i.p=2,v)return v()}finally{h.T=y,i.p=b,i.d.f()}},ut.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(v,y))},ut.prefetchDNS=function(v){typeof v=="string"&&i.d.D(v)},ut.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,x=m(b,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,S=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?i.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:S}):b==="script"&&i.d.X(v,{crossOrigin:x,integrity:w,fetchPriority:S,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ut.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);i.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(v)},ut.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,x=m(b,y.crossOrigin);i.d.L(v,b,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ut.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=m(y.as,y.crossOrigin);i.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(v)},ut.requestFormReset=function(v){i.d.r(v)},ut.unstable_batchedUpdates=function(v,y){return v(y)},ut.useFormState=function(v,y,b){return h.H.useFormState(v,y,b)},ut.useFormStatus=function(){return h.H.useHostTransitionStatus()},ut.version="19.2.0",ut}var A0;function Cv(){if(A0)return Hu.exports;A0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Hu.exports=Av(),Hu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function Rv(){if(C0)return ws;C0=1;var l=Ov(),n=yc(),s=Cv();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(d(e)!==e)throw Error(i(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,r=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(r=o.return,r!==null){a=r;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return v(o),e;if(u===r)return v(o),t;u=u.sibling}throw Error(i(188))}if(a.return!==r.return)a=o,r=u;else{for(var g=!1,p=o.child;p;){if(p===a){g=!0,a=o,r=u;break}if(p===r){g=!0,r=o,a=u;break}p=p.sibling}if(!g){for(p=u.child;p;){if(p===a){g=!0,a=u,r=o;break}if(p===r){g=!0,r=u,a=o;break}p=p.sibling}if(!g)throw Error(i(189))}}if(a.alternate!==r)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),B=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),Ee=Symbol.for("react.activity"),We=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=te&&e[te]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Symbol.for("react.client.reference");function Oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case G:return"Profiler";case U:return"StrictMode";case Q:return"Suspense";case I:return"SuspenseList";case Ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case B:return e.displayName||"Context";case $:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return t=e.displayName||null,t!==null?t:Oe(e.type)||"Memo";case he:t=e._payload,e=e._init;try{return Oe(e(t))}catch{}}return null}var ue=Array.isArray,T=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},de=[],ie=-1;function j(e){return{current:e}}function L(e){0>ie||(e.current=de[ie],de[ie]=null,ie--)}function K(e,t){ie++,de[ie]=e.current,e.current=t}var V=j(null),F=j(null),le=j(null),me=j(null);function Le(e,t){switch(K(le,t),K(F,e),K(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Xf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Xf(t),e=Qf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(V),K(V,e)}function ze(){L(V),L(F),L(le)}function Sa(e){e.memoizedState!==null&&K(me,e);var t=V.current,a=Qf(t,e.type);t!==a&&(K(F,e),K(V,a))}function aa(e){F.current===e&&(L(V),L(F)),me.current===e&&(L(me),ys._currentValue=X)}var Jt,Fa;function na(e){if(Jt===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Jt=t&&t[1]||"",Fa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jt+e+Fa}var Tn=!1;function Er(e,t){if(!e||Tn)return"";Tn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(D){var C=D}Reflect.construct(e,[],H)}else{try{H.call()}catch(D){C=D}e.call(H.prototype)}}else{try{throw Error()}catch(D){C=D}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(D){if(D&&C&&typeof D.stack=="string")return[D.stack,C.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),g=u[0],p=u[1];if(g&&p){var _=g.split(`
`),A=p.split(`
`);for(o=r=0;r<_.length&&!_[r].includes("DetermineComponentFrameRoot");)r++;for(;o<A.length&&!A[o].includes("DetermineComponentFrameRoot");)o++;if(r===_.length||o===A.length)for(r=_.length-1,o=A.length-1;1<=r&&0<=o&&_[r]!==A[o];)o--;for(;1<=r&&0<=o;r--,o--)if(_[r]!==A[o]){if(r!==1||o!==1)do if(r--,o--,0>o||_[r]!==A[o]){var z=`
`+_[r].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=r&&0<=o);break}}}finally{Tn=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?na(a):""}function vl(e,t){switch(e.tag){case 26:case 27:case 5:return na(e.type);case 16:return na("Lazy");case 13:return e.child!==t&&t!==null?na("Suspense Fallback"):na("Suspense");case 19:return na("SuspenseList");case 0:case 15:return Er(e.type,!1);case 11:return Er(e.type.render,!1);case 1:return Er(e.type,!0);case 31:return na("Activity");default:return""}}function Rs(e){try{var t="",a=null;do t+=vl(e,a),a=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Tr=Object.prototype.hasOwnProperty,kr=l.unstable_scheduleCallback,Nr=l.unstable_cancelCallback,pl=l.unstable_shouldYield,bl=l.unstable_requestPaint,dt=l.unstable_now,xl=l.unstable_getCurrentPriorityLevel,Ds=l.unstable_ImmediatePriority,Us=l.unstable_UserBlockingPriority,kn=l.unstable_NormalPriority,wl=l.unstable_LowPriority,zs=l.unstable_IdlePriority,Se=l.log,at=l.unstable_setDisableYieldValue,Wa=null,wt=null;function ja(e){if(typeof Se=="function"&&at(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Wa,e)}catch{}}var _t=Math.clz32?Math.clz32:um,lm=Math.log,om=Math.LN2;function um(e){return e>>>=0,e===0?32:31-(lm(e)/om|0)|0}var Ms=256,Bs=262144,Ls=4194304;function en(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qs(e,t,a){var r=e.pendingLanes;if(r===0)return 0;var o=0,u=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var p=r&134217727;return p!==0?(r=p&~u,r!==0?o=en(r):(g&=p,g!==0?o=en(g):a||(a=p&~e,a!==0&&(o=en(a))))):(p=r&~u,p!==0?o=en(p):g!==0?o=en(g):a||(a=r&~e,a!==0&&(o=en(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function Or(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function cm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tc(){var e=Ls;return Ls<<=1,(Ls&62914560)===0&&(Ls=4194304),e}function _l(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ar(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function dm(e,t,a,r,o,u){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var p=e.entanglements,_=e.expirationTimes,A=e.hiddenUpdates;for(a=g&~a;0<a;){var z=31-_t(a),H=1<<z;p[z]=0,_[z]=-1;var C=A[z];if(C!==null)for(A[z]=null,z=0;z<C.length;z++){var D=C[z];D!==null&&(D.lane&=-536870913)}a&=~H}r!==0&&kc(e,r,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(g&~t))}function kc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-_t(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|a&261930}function Nc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var r=31-_t(a),o=1<<r;o&t|e[r]&t&&(e[r]|=t),a&=~o}}function Oc(e,t){var a=t&-t;return a=(a&42)!==0?1:Sl(a),(a&(e.suspendedLanes|t))!==0?0:a}function Sl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function jl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ac(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:y0(e.type))}function Cc(e,t){var a=q.p;try{return q.p=e,t()}finally{q.p=a}}var Ea=Math.random().toString(36).slice(2),nt="__reactFiber$"+Ea,gt="__reactProps$"+Ea,Nn="__reactContainer$"+Ea,El="__reactEvents$"+Ea,hm="__reactListeners$"+Ea,fm="__reactHandles$"+Ea,Rc="__reactResources$"+Ea,Cr="__reactMarker$"+Ea;function Tl(e){delete e[nt],delete e[gt],delete e[El],delete e[hm],delete e[fm]}function On(e){var t=e[nt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Nn]||a[nt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=e0(e);e!==null;){if(a=e[nt])return a;e=e0(e)}return t}e=a,a=e.parentNode}return null}function An(e){if(e=e[nt]||e[Nn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Rr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Cn(e){var t=e[Rc];return t||(t=e[Rc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Cr]=!0}var Dc=new Set,Uc={};function tn(e,t){Rn(e,t),Rn(e+"Capture",t)}function Rn(e,t){for(Uc[e]=t,e=0;e<t.length;e++)Dc.add(t[e])}var gm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zc={},Mc={};function mm(e){return Tr.call(Mc,e)?!0:Tr.call(zc,e)?!1:gm.test(e)?Mc[e]=!0:(zc[e]=!0,!1)}function Hs(e,t,a){if(mm(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function $s(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ra(e,t,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+r)}}function Rt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ym(e,t,a){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(g){a=""+g,u.call(this,g)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kl(e){if(!e._valueTracker){var t=Bc(e)?"checked":"value";e._valueTracker=ym(e,t,""+e[t])}}function Lc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),r="";return e&&(r=Bc(e)?e.checked?"true":"false":e.value),e=r,e!==a?(t.setValue(e),!0):!1}function Gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vm=/[\n"\\]/g;function Dt(e){return e.replace(vm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Nl(e,t,a,r,o,u,g,p){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Rt(t)):e.value!==""+Rt(t)&&(e.value=""+Rt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Ol(e,g,Rt(t)):a!=null?Ol(e,g,Rt(a)):r!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Rt(p):e.removeAttribute("name")}function qc(e,t,a,r,o,u,g,p){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){kl(e);return}a=a!=null?""+Rt(a):"",t=t!=null?""+Rt(t):a,p||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=p?e.checked:!!r,e.defaultChecked=!!r,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),kl(e)}function Ol(e,t,a){t==="number"&&Gs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Dn(e,t,a,r){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&r&&(e[a].defaultSelected=!0)}else{for(a=""+Rt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Hc(e,t,a){if(t!=null&&(t=""+Rt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Rt(a):""}function $c(e,t,a,r){if(t==null){if(r!=null){if(a!=null)throw Error(i(92));if(ue(r)){if(1<r.length)throw Error(i(93));r=r[0]}a=r}a==null&&(a=""),t=a}a=Rt(t),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r),kl(e)}function Un(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var pm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gc(e,t,a){var r=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,a):typeof a!="number"||a===0||pm.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Vc(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&a[o]!==r&&Gc(e,o,r)}else for(var u in t)t.hasOwnProperty(u)&&Gc(e,u,t[u])}function Al(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(e){return xm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sa(){}var Cl=null;function Rl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zn=null,Mn=null;function Yc(e){var t=An(e);if(t&&(e=t.stateNode)){var a=e[gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Nl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var r=a[t];if(r!==e&&r.form===e.form){var o=r[gt]||null;if(!o)throw Error(i(90));Nl(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)r=a[t],r.form===e.form&&Lc(r)}break e;case"textarea":Hc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Dn(e,!!a.multiple,t,!1)}}}var Dl=!1;function Kc(e,t,a){if(Dl)return e(t,a);Dl=!0;try{var r=e(t);return r}finally{if(Dl=!1,(zn!==null||Mn!==null)&&(Ai(),zn&&(t=zn,e=Mn,Mn=zn=null,Yc(t),e)))for(t=0;t<e.length;t++)Yc(e[t])}}function Dr(e,t){var a=e.stateNode;if(a===null)return null;var r=a[gt]||null;if(r===null)return null;a=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ul=!1;if(ia)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{Ul=!1}var Ta=null,zl=null,Ys=null;function Xc(){if(Ys)return Ys;var e,t=zl,a=t.length,r,o="value"in Ta?Ta.value:Ta.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var g=a-e;for(r=1;r<=g&&t[a-r]===o[u-r];r++);return Ys=o.slice(e,1<r?1-r:void 0)}function Ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xs(){return!0}function Qc(){return!1}function mt(e){function t(a,r,o,u,g){this._reactName=a,this._targetInst=o,this.type=r,this.nativeEvent=u,this.target=g,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(a=e[p],this[p]=a?a(u):u[p]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Xs:Qc,this.isPropagationStopped=Qc,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),t}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=mt(an),zr=x({},an,{view:0,detail:0}),wm=mt(zr),Ml,Bl,Mr,Ps=x({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ql,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mr&&(Mr&&e.type==="mousemove"?(Ml=e.screenX-Mr.screenX,Bl=e.screenY-Mr.screenY):Bl=Ml=0,Mr=e),Ml)},movementY:function(e){return"movementY"in e?e.movementY:Bl}}),Pc=mt(Ps),_m=x({},Ps,{dataTransfer:0}),Sm=mt(_m),jm=x({},zr,{relatedTarget:0}),Ll=mt(jm),Em=x({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),Tm=mt(Em),km=x({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nm=mt(km),Om=x({},an,{data:0}),Jc=mt(Om),Am={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rm[e])?!!t[e]:!1}function ql(){return Dm}var Um=x({},zr,{key:function(e){if(e.key){var t=Am[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ql,charCode:function(e){return e.type==="keypress"?Ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zm=mt(Um),Mm=x({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zc=mt(Mm),Bm=x({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ql}),Lm=mt(Bm),qm=x({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hm=mt(qm),$m=x({},Ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gm=mt($m),Vm=x({},an,{newState:0,oldState:0}),Ym=mt(Vm),Km=[9,13,27,32],Hl=ia&&"CompositionEvent"in window,Br=null;ia&&"documentMode"in document&&(Br=document.documentMode);var Xm=ia&&"TextEvent"in window&&!Br,Ic=ia&&(!Hl||Br&&8<Br&&11>=Br),Fc=" ",Wc=!1;function ed(e,t){switch(e){case"keyup":return Km.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function td(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function Qm(e,t){switch(e){case"compositionend":return td(t);case"keypress":return t.which!==32?null:(Wc=!0,Fc);case"textInput":return e=t.data,e===Fc&&Wc?null:e;default:return null}}function Pm(e,t){if(Bn)return e==="compositionend"||!Hl&&ed(e,t)?(e=Xc(),Ys=zl=Ta=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ic&&t.locale!=="ko"?null:t.data;default:return null}}var Jm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jm[e.type]:t==="textarea"}function nd(e,t,a,r){zn?Mn?Mn.push(r):Mn=[r]:zn=r,t=Bi(t,"onChange"),0<t.length&&(a=new Qs("onChange","change",null,a,r),e.push({event:a,listeners:t}))}var Lr=null,qr=null;function Zm(e){Hf(e,0)}function Js(e){var t=Rr(e);if(Lc(t))return e}function rd(e,t){if(e==="change")return t}var sd=!1;if(ia){var $l;if(ia){var Gl="oninput"in document;if(!Gl){var id=document.createElement("div");id.setAttribute("oninput","return;"),Gl=typeof id.oninput=="function"}$l=Gl}else $l=!1;sd=$l&&(!document.documentMode||9<document.documentMode)}function ld(){Lr&&(Lr.detachEvent("onpropertychange",od),qr=Lr=null)}function od(e){if(e.propertyName==="value"&&Js(qr)){var t=[];nd(t,qr,e,Rl(e)),Kc(Zm,t)}}function Im(e,t,a){e==="focusin"?(ld(),Lr=t,qr=a,Lr.attachEvent("onpropertychange",od)):e==="focusout"&&ld()}function Fm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Js(qr)}function Wm(e,t){if(e==="click")return Js(t)}function ey(e,t){if(e==="input"||e==="change")return Js(t)}function ty(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:ty;function Hr(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var o=a[r];if(!Tr.call(t,o)||!St(e[o],t[o]))return!1}return!0}function ud(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cd(e,t){var a=ud(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ud(a)}}function dd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Gs(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Gs(e.document)}return t}function Vl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ay=ia&&"documentMode"in document&&11>=document.documentMode,Ln=null,Yl=null,$r=null,Kl=!1;function fd(e,t,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kl||Ln==null||Ln!==Gs(r)||(r=Ln,"selectionStart"in r&&Vl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$r&&Hr($r,r)||($r=r,r=Bi(Yl,"onSelect"),0<r.length&&(t=new Qs("onSelect","select",null,t,a),e.push({event:t,listeners:r}),t.target=Ln)))}function nn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var qn={animationend:nn("Animation","AnimationEnd"),animationiteration:nn("Animation","AnimationIteration"),animationstart:nn("Animation","AnimationStart"),transitionrun:nn("Transition","TransitionRun"),transitionstart:nn("Transition","TransitionStart"),transitioncancel:nn("Transition","TransitionCancel"),transitionend:nn("Transition","TransitionEnd")},Xl={},gd={};ia&&(gd=document.createElement("div").style,"AnimationEvent"in window||(delete qn.animationend.animation,delete qn.animationiteration.animation,delete qn.animationstart.animation),"TransitionEvent"in window||delete qn.transitionend.transition);function rn(e){if(Xl[e])return Xl[e];if(!qn[e])return e;var t=qn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in gd)return Xl[e]=t[a];return e}var md=rn("animationend"),yd=rn("animationiteration"),vd=rn("animationstart"),ny=rn("transitionrun"),ry=rn("transitionstart"),sy=rn("transitioncancel"),pd=rn("transitionend"),bd=new Map,Ql="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ql.push("scrollEnd");function Gt(e,t){bd.set(e,t),tn(t,[e])}var Zs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ut=[],Hn=0,Pl=0;function Is(){for(var e=Hn,t=Pl=Hn=0;t<e;){var a=Ut[t];Ut[t++]=null;var r=Ut[t];Ut[t++]=null;var o=Ut[t];Ut[t++]=null;var u=Ut[t];if(Ut[t++]=null,r!==null&&o!==null){var g=r.pending;g===null?o.next=o:(o.next=g.next,g.next=o),r.pending=o}u!==0&&xd(a,o,u)}}function Fs(e,t,a,r){Ut[Hn++]=e,Ut[Hn++]=t,Ut[Hn++]=a,Ut[Hn++]=r,Pl|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Jl(e,t,a,r){return Fs(e,t,a,r),Ws(e)}function sn(e,t){return Fs(e,null,null,t),Ws(e)}function xd(e,t,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,r=u.alternate,r!==null&&(r.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-_t(a),e=u.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=a|536870912),u):null}function Ws(e){if(50<us)throw us=0,su=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var $n={};function iy(e,t,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,a,r){return new iy(e,t,a,r)}function Zl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function la(e,t){var a=e.alternate;return a===null?(a=jt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function wd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ei(e,t,a,r,o,u){var g=0;if(r=e,typeof e=="function")Zl(e)&&(g=1);else if(typeof e=="string")g=dv(e,a,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ee:return e=jt(31,a,t,o),e.elementType=Ee,e.lanes=u,e;case R:return ln(a.children,o,u,t);case U:g=8,o|=24;break;case G:return e=jt(12,a,t,o|2),e.elementType=G,e.lanes=u,e;case Q:return e=jt(13,a,t,o),e.elementType=Q,e.lanes=u,e;case I:return e=jt(19,a,t,o),e.elementType=I,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:g=10;break e;case $:g=9;break e;case J:g=11;break e;case P:g=14;break e;case he:g=16,r=null;break e}g=29,a=Error(i(130,e===null?"null":typeof e,"")),r=null}return t=jt(g,a,t,o),t.elementType=e,t.type=r,t.lanes=u,t}function ln(e,t,a,r){return e=jt(7,e,r,t),e.lanes=a,e}function Il(e,t,a){return e=jt(6,e,null,t),e.lanes=a,e}function _d(e){var t=jt(18,null,null,0);return t.stateNode=e,t}function Fl(e,t,a){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Sd=new WeakMap;function zt(e,t){if(typeof e=="object"&&e!==null){var a=Sd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Rs(t)},Sd.set(e,t),t)}return{value:e,source:t,stack:Rs(t)}}var Gn=[],Vn=0,ti=null,Gr=0,Mt=[],Bt=0,ka=null,Zt=1,It="";function oa(e,t){Gn[Vn++]=Gr,Gn[Vn++]=ti,ti=e,Gr=t}function jd(e,t,a){Mt[Bt++]=Zt,Mt[Bt++]=It,Mt[Bt++]=ka,ka=e;var r=Zt;e=It;var o=32-_t(r)-1;r&=~(1<<o),a+=1;var u=32-_t(t)+o;if(30<u){var g=o-o%5;u=(r&(1<<g)-1).toString(32),r>>=g,o-=g,Zt=1<<32-_t(t)+o|a<<o|r,It=u+e}else Zt=1<<u|a<<o|r,It=e}function Wl(e){e.return!==null&&(oa(e,1),jd(e,1,0))}function eo(e){for(;e===ti;)ti=Gn[--Vn],Gn[Vn]=null,Gr=Gn[--Vn],Gn[Vn]=null;for(;e===ka;)ka=Mt[--Bt],Mt[Bt]=null,It=Mt[--Bt],Mt[Bt]=null,Zt=Mt[--Bt],Mt[Bt]=null}function Ed(e,t){Mt[Bt++]=Zt,Mt[Bt++]=It,Mt[Bt++]=ka,Zt=t.id,It=t.overflow,ka=e}var rt=null,Me=null,xe=!1,Na=null,Lt=!1,to=Error(i(519));function Oa(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vr(zt(t,e)),to}function Td(e){var t=e.stateNode,a=e.type,r=e.memoizedProps;switch(t[nt]=e,t[gt]=r,a){case"dialog":ve("cancel",t),ve("close",t);break;case"iframe":case"object":case"embed":ve("load",t);break;case"video":case"audio":for(a=0;a<ds.length;a++)ve(ds[a],t);break;case"source":ve("error",t);break;case"img":case"image":case"link":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"input":ve("invalid",t),qc(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":ve("invalid",t);break;case"textarea":ve("invalid",t),$c(t,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||r.suppressHydrationWarning===!0||Yf(t.textContent,a)?(r.popover!=null&&(ve("beforetoggle",t),ve("toggle",t)),r.onScroll!=null&&ve("scroll",t),r.onScrollEnd!=null&&ve("scrollend",t),r.onClick!=null&&(t.onclick=sa),t=!0):t=!1,t||Oa(e,!0)}function kd(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:Lt=!1;return;case 27:case 3:Lt=!0;return;default:rt=rt.return}}function Yn(e){if(e!==rt)return!1;if(!xe)return kd(e),xe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||xu(e.type,e.memoizedProps)),a=!a),a&&Me&&Oa(e),kd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Me=Wf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Me=Wf(e)}else t===27?(t=Me,Va(e.type)?(e=Eu,Eu=null,Me=e):Me=t):Me=rt?Ht(e.stateNode.nextSibling):null;return!0}function on(){Me=rt=null,xe=!1}function ao(){var e=Na;return e!==null&&(bt===null?bt=e:bt.push.apply(bt,e),Na=null),e}function Vr(e){Na===null?Na=[e]:Na.push(e)}var no=j(null),un=null,ua=null;function Aa(e,t,a){K(no,t._currentValue),t._currentValue=a}function ca(e){e._currentValue=no.current,L(no)}function ro(e,t,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===a)break;e=e.return}}function so(e,t,a,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var g=o.child;u=u.firstContext;e:for(;u!==null;){var p=u;u=o;for(var _=0;_<t.length;_++)if(p.context===t[_]){u.lanes|=a,p=u.alternate,p!==null&&(p.lanes|=a),ro(u.return,a,e),r||(g=null);break e}u=p.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(i(341));g.lanes|=a,u=g.alternate,u!==null&&(u.lanes|=a),ro(g,a,e),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===e){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function Kn(e,t,a,r){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(i(387));if(g=g.memoizedProps,g!==null){var p=o.type;St(o.pendingProps.value,g.value)||(e!==null?e.push(p):e=[p])}}else if(o===me.current){if(g=o.alternate,g===null)throw Error(i(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ys):e=[ys])}o=o.return}e!==null&&so(t,e,a,r),t.flags|=262144}function ai(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function cn(e){un=e,ua=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function st(e){return Nd(un,e)}function ni(e,t){return un===null&&cn(e),Nd(e,t)}function Nd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ua===null){if(e===null)throw Error(i(308));ua=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ua=ua.next=t;return a}var ly=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},oy=l.unstable_scheduleCallback,uy=l.unstable_NormalPriority,Xe={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function io(){return{controller:new ly,data:new Map,refCount:0}}function Yr(e){e.refCount--,e.refCount===0&&oy(uy,function(){e.controller.abort()})}var Kr=null,lo=0,Xn=0,Qn=null;function cy(e,t){if(Kr===null){var a=Kr=[];lo=0,Xn=du(),Qn={status:"pending",value:void 0,then:function(r){a.push(r)}}}return lo++,t.then(Od,Od),t}function Od(){if(--lo===0&&Kr!==null){Qn!==null&&(Qn.status="fulfilled");var e=Kr;Kr=null,Xn=0,Qn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function dy(e,t){var a=[],r={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),r}var Ad=T.S;T.S=function(e,t){gf=dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&cy(e,t),Ad!==null&&Ad(e,t)};var dn=j(null);function oo(){var e=dn.current;return e!==null?e:De.pooledCache}function ri(e,t){t===null?K(dn,dn.current):K(dn,t.pool)}function Cd(){var e=oo();return e===null?null:{parent:Xe._currentValue,pool:e}}var Pn=Error(i(460)),uo=Error(i(474)),si=Error(i(542)),ii={then:function(){}};function Rd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Dd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(sa,sa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zd(e),e;default:if(typeof t.status=="string")t.then(sa,sa);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zd(e),e}throw fn=t,Pn}}function hn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fn=a,Pn):a}}var fn=null;function Ud(){if(fn===null)throw Error(i(459));var e=fn;return fn=null,e}function zd(e){if(e===Pn||e===si)throw Error(i(483))}var Jn=null,Xr=0;function li(e){var t=Xr;return Xr+=1,Jn===null&&(Jn=[]),Dd(Jn,e,t)}function Qr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function oi(e,t){throw t.$$typeof===w?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Md(e){function t(k,E){if(e){var O=k.deletions;O===null?(k.deletions=[E],k.flags|=16):O.push(E)}}function a(k,E){if(!e)return null;for(;E!==null;)t(k,E),E=E.sibling;return null}function r(k){for(var E=new Map;k!==null;)k.key!==null?E.set(k.key,k):E.set(k.index,k),k=k.sibling;return E}function o(k,E){return k=la(k,E),k.index=0,k.sibling=null,k}function u(k,E,O){return k.index=O,e?(O=k.alternate,O!==null?(O=O.index,O<E?(k.flags|=67108866,E):O):(k.flags|=67108866,E)):(k.flags|=1048576,E)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function p(k,E,O,M){return E===null||E.tag!==6?(E=Il(O,k.mode,M),E.return=k,E):(E=o(E,O),E.return=k,E)}function _(k,E,O,M){var re=O.type;return re===R?z(k,E,O.props.children,M,O.key):E!==null&&(E.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===he&&hn(re)===E.type)?(E=o(E,O.props),Qr(E,O),E.return=k,E):(E=ei(O.type,O.key,O.props,null,k.mode,M),Qr(E,O),E.return=k,E)}function A(k,E,O,M){return E===null||E.tag!==4||E.stateNode.containerInfo!==O.containerInfo||E.stateNode.implementation!==O.implementation?(E=Fl(O,k.mode,M),E.return=k,E):(E=o(E,O.children||[]),E.return=k,E)}function z(k,E,O,M,re){return E===null||E.tag!==7?(E=ln(O,k.mode,M,re),E.return=k,E):(E=o(E,O),E.return=k,E)}function H(k,E,O){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Il(""+E,k.mode,O),E.return=k,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case S:return O=ei(E.type,E.key,E.props,null,k.mode,O),Qr(O,E),O.return=k,O;case N:return E=Fl(E,k.mode,O),E.return=k,E;case he:return E=hn(E),H(k,E,O)}if(ue(E)||ae(E))return E=ln(E,k.mode,O,null),E.return=k,E;if(typeof E.then=="function")return H(k,li(E),O);if(E.$$typeof===B)return H(k,ni(k,E),O);oi(k,E)}return null}function C(k,E,O,M){var re=E!==null?E.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return re!==null?null:p(k,E,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case S:return O.key===re?_(k,E,O,M):null;case N:return O.key===re?A(k,E,O,M):null;case he:return O=hn(O),C(k,E,O,M)}if(ue(O)||ae(O))return re!==null?null:z(k,E,O,M,null);if(typeof O.then=="function")return C(k,E,li(O),M);if(O.$$typeof===B)return C(k,E,ni(k,O),M);oi(k,O)}return null}function D(k,E,O,M,re){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return k=k.get(O)||null,p(E,k,""+M,re);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return k=k.get(M.key===null?O:M.key)||null,_(E,k,M,re);case N:return k=k.get(M.key===null?O:M.key)||null,A(E,k,M,re);case he:return M=hn(M),D(k,E,O,M,re)}if(ue(M)||ae(M))return k=k.get(O)||null,z(E,k,M,re,null);if(typeof M.then=="function")return D(k,E,O,li(M),re);if(M.$$typeof===B)return D(k,E,O,ni(E,M),re);oi(E,M)}return null}function Z(k,E,O,M){for(var re=null,we=null,W=E,ge=E=0,be=null;W!==null&&ge<O.length;ge++){W.index>ge?(be=W,W=null):be=W.sibling;var _e=C(k,W,O[ge],M);if(_e===null){W===null&&(W=be);break}e&&W&&_e.alternate===null&&t(k,W),E=u(_e,E,ge),we===null?re=_e:we.sibling=_e,we=_e,W=be}if(ge===O.length)return a(k,W),xe&&oa(k,ge),re;if(W===null){for(;ge<O.length;ge++)W=H(k,O[ge],M),W!==null&&(E=u(W,E,ge),we===null?re=W:we.sibling=W,we=W);return xe&&oa(k,ge),re}for(W=r(W);ge<O.length;ge++)be=D(W,k,ge,O[ge],M),be!==null&&(e&&be.alternate!==null&&W.delete(be.key===null?ge:be.key),E=u(be,E,ge),we===null?re=be:we.sibling=be,we=be);return e&&W.forEach(function(Pa){return t(k,Pa)}),xe&&oa(k,ge),re}function se(k,E,O,M){if(O==null)throw Error(i(151));for(var re=null,we=null,W=E,ge=E=0,be=null,_e=O.next();W!==null&&!_e.done;ge++,_e=O.next()){W.index>ge?(be=W,W=null):be=W.sibling;var Pa=C(k,W,_e.value,M);if(Pa===null){W===null&&(W=be);break}e&&W&&Pa.alternate===null&&t(k,W),E=u(Pa,E,ge),we===null?re=Pa:we.sibling=Pa,we=Pa,W=be}if(_e.done)return a(k,W),xe&&oa(k,ge),re;if(W===null){for(;!_e.done;ge++,_e=O.next())_e=H(k,_e.value,M),_e!==null&&(E=u(_e,E,ge),we===null?re=_e:we.sibling=_e,we=_e);return xe&&oa(k,ge),re}for(W=r(W);!_e.done;ge++,_e=O.next())_e=D(W,k,ge,_e.value,M),_e!==null&&(e&&_e.alternate!==null&&W.delete(_e.key===null?ge:_e.key),E=u(_e,E,ge),we===null?re=_e:we.sibling=_e,we=_e);return e&&W.forEach(function(_v){return t(k,_v)}),xe&&oa(k,ge),re}function Re(k,E,O,M){if(typeof O=="object"&&O!==null&&O.type===R&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case S:e:{for(var re=O.key;E!==null;){if(E.key===re){if(re=O.type,re===R){if(E.tag===7){a(k,E.sibling),M=o(E,O.props.children),M.return=k,k=M;break e}}else if(E.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===he&&hn(re)===E.type){a(k,E.sibling),M=o(E,O.props),Qr(M,O),M.return=k,k=M;break e}a(k,E);break}else t(k,E);E=E.sibling}O.type===R?(M=ln(O.props.children,k.mode,M,O.key),M.return=k,k=M):(M=ei(O.type,O.key,O.props,null,k.mode,M),Qr(M,O),M.return=k,k=M)}return g(k);case N:e:{for(re=O.key;E!==null;){if(E.key===re)if(E.tag===4&&E.stateNode.containerInfo===O.containerInfo&&E.stateNode.implementation===O.implementation){a(k,E.sibling),M=o(E,O.children||[]),M.return=k,k=M;break e}else{a(k,E);break}else t(k,E);E=E.sibling}M=Fl(O,k.mode,M),M.return=k,k=M}return g(k);case he:return O=hn(O),Re(k,E,O,M)}if(ue(O))return Z(k,E,O,M);if(ae(O)){if(re=ae(O),typeof re!="function")throw Error(i(150));return O=re.call(O),se(k,E,O,M)}if(typeof O.then=="function")return Re(k,E,li(O),M);if(O.$$typeof===B)return Re(k,E,ni(k,O),M);oi(k,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,E!==null&&E.tag===6?(a(k,E.sibling),M=o(E,O),M.return=k,k=M):(a(k,E),M=Il(O,k.mode,M),M.return=k,k=M),g(k)):a(k,E)}return function(k,E,O,M){try{Xr=0;var re=Re(k,E,O,M);return Jn=null,re}catch(W){if(W===Pn||W===si)throw W;var we=jt(29,W,null,k.mode);return we.lanes=M,we.return=k,we}finally{}}}var gn=Md(!0),Bd=Md(!1),Ca=!1;function co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ho(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ra(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Da(e,t,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(je&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Ws(e),xd(e,null,a),t}return Fs(e,r,t,a),Ws(e)}function Pr(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,Nc(e,a)}}function fo(e,t){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=g:u=u.next=g,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var go=!1;function Jr(){if(go){var e=Qn;if(e!==null)throw e}}function Zr(e,t,a,r){go=!1;var o=e.updateQueue;Ca=!1;var u=o.firstBaseUpdate,g=o.lastBaseUpdate,p=o.shared.pending;if(p!==null){o.shared.pending=null;var _=p,A=_.next;_.next=null,g===null?u=A:g.next=A,g=_;var z=e.alternate;z!==null&&(z=z.updateQueue,p=z.lastBaseUpdate,p!==g&&(p===null?z.firstBaseUpdate=A:p.next=A,z.lastBaseUpdate=_))}if(u!==null){var H=o.baseState;g=0,z=A=_=null,p=u;do{var C=p.lane&-536870913,D=C!==p.lane;if(D?(pe&C)===C:(r&C)===C){C!==0&&C===Xn&&(go=!0),z!==null&&(z=z.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var Z=e,se=p;C=t;var Re=a;switch(se.tag){case 1:if(Z=se.payload,typeof Z=="function"){H=Z.call(Re,H,C);break e}H=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=se.payload,C=typeof Z=="function"?Z.call(Re,H,C):Z,C==null)break e;H=x({},H,C);break e;case 2:Ca=!0}}C=p.callback,C!==null&&(e.flags|=64,D&&(e.flags|=8192),D=o.callbacks,D===null?o.callbacks=[C]:D.push(C))}else D={lane:C,tag:p.tag,payload:p.payload,callback:p.callback,next:null},z===null?(A=z=D,_=H):z=z.next=D,g|=C;if(p=p.next,p===null){if(p=o.shared.pending,p===null)break;D=p,p=D.next,D.next=null,o.lastBaseUpdate=D,o.shared.pending=null}}while(!0);z===null&&(_=H),o.baseState=_,o.firstBaseUpdate=A,o.lastBaseUpdate=z,u===null&&(o.shared.lanes=0),La|=g,e.lanes=g,e.memoizedState=H}}function Ld(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function qd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ld(a[e],t)}var Zn=j(null),ui=j(0);function Hd(e,t){e=ba,K(ui,e),K(Zn,t),ba=e|t.baseLanes}function mo(){K(ui,ba),K(Zn,Zn.current)}function yo(){ba=ui.current,L(Zn),L(ui)}var Et=j(null),qt=null;function Ua(e){var t=e.alternate;K(Ye,Ye.current&1),K(Et,e),qt===null&&(t===null||Zn.current!==null||t.memoizedState!==null)&&(qt=e)}function vo(e){K(Ye,Ye.current),K(Et,e),qt===null&&(qt=e)}function $d(e){e.tag===22?(K(Ye,Ye.current),K(Et,e),qt===null&&(qt=e)):za()}function za(){K(Ye,Ye.current),K(Et,Et.current)}function Tt(e){L(Et),qt===e&&(qt=null),L(Ye)}var Ye=j(0);function ci(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Su(a)||ju(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var da=0,fe=null,Ae=null,Qe=null,di=!1,In=!1,mn=!1,hi=0,Ir=0,Fn=null,hy=0;function $e(){throw Error(i(321))}function po(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!St(e[a],t[a]))return!1;return!0}function bo(e,t,a,r,o,u){return da=u,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=e===null||e.memoizedState===null?jh:Uo,mn=!1,u=a(r,o),mn=!1,In&&(u=Vd(t,a,r,o)),Gd(e),u}function Gd(e){T.H=es;var t=Ae!==null&&Ae.next!==null;if(da=0,Qe=Ae=fe=null,di=!1,Ir=0,Fn=null,t)throw Error(i(300));e===null||Pe||(e=e.dependencies,e!==null&&ai(e)&&(Pe=!0))}function Vd(e,t,a,r){fe=e;var o=0;do{if(In&&(Fn=null),Ir=0,In=!1,25<=o)throw Error(i(301));if(o+=1,Qe=Ae=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}T.H=Eh,u=t(a,r)}while(In);return u}function fy(){var e=T.H,t=e.useState()[0];return t=typeof t.then=="function"?Fr(t):t,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(fe.flags|=1024),t}function xo(){var e=hi!==0;return hi=0,e}function wo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function _o(e){if(di){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}di=!1}da=0,Qe=Ae=fe=null,In=!1,Ir=hi=0,Fn=null}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?fe.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Ke(){if(Ae===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Qe===null?fe.memoizedState:Qe.next;if(t!==null)Qe=t,Ae=e;else{if(e===null)throw fe.alternate===null?Error(i(467)):Error(i(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Qe===null?fe.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function fi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fr(e){var t=Ir;return Ir+=1,Fn===null&&(Fn=[]),e=Dd(Fn,e,t),t=fe,(Qe===null?t.memoizedState:Qe.next)===null&&(t=t.alternate,T.H=t===null||t.memoizedState===null?jh:Uo),e}function gi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fr(e);if(e.$$typeof===B)return st(e)}throw Error(i(438,String(e)))}function So(e){var t=null,a=fe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var r=fe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=fi(),fe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),r=0;r<e;r++)a[r]=We;return t.index++,a}function ha(e,t){return typeof t=="function"?t(e):t}function mi(e){var t=Ke();return jo(t,Ae,e)}function jo(e,t,a){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=a;var o=e.baseQueue,u=r.pending;if(u!==null){if(o!==null){var g=o.next;o.next=u.next,u.next=g}t.baseQueue=o=u,r.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var p=g=null,_=null,A=t,z=!1;do{var H=A.lane&-536870913;if(H!==A.lane?(pe&H)===H:(da&H)===H){var C=A.revertLane;if(C===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),H===Xn&&(z=!0);else if((da&C)===C){A=A.next,C===Xn&&(z=!0);continue}else H={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},_===null?(p=_=H,g=u):_=_.next=H,fe.lanes|=C,La|=C;H=A.action,mn&&a(u,H),u=A.hasEagerState?A.eagerState:a(u,H)}else C={lane:H,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},_===null?(p=_=C,g=u):_=_.next=C,fe.lanes|=H,La|=H;A=A.next}while(A!==null&&A!==t);if(_===null?g=u:_.next=p,!St(u,e.memoizedState)&&(Pe=!0,z&&(a=Qn,a!==null)))throw a;e.memoizedState=u,e.baseState=g,e.baseQueue=_,r.lastRenderedState=u}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Eo(e){var t=Ke(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var r=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var g=o=o.next;do u=e(u,g.action),g=g.next;while(g!==o);St(u,t.memoizedState)||(Pe=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,r]}function Yd(e,t,a){var r=fe,o=Ke(),u=xe;if(u){if(a===void 0)throw Error(i(407));a=a()}else a=t();var g=!St((Ae||o).memoizedState,a);if(g&&(o.memoizedState=a,Pe=!0),o=o.queue,No(Qd.bind(null,r,o,e),[e]),o.getSnapshot!==t||g||Qe!==null&&Qe.memoizedState.tag&1){if(r.flags|=2048,Wn(9,{destroy:void 0},Xd.bind(null,r,o,a,t),null),De===null)throw Error(i(349));u||(da&127)!==0||Kd(r,t,a)}return a}function Kd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=fe.updateQueue,t===null?(t=fi(),fe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Xd(e,t,a,r){t.value=a,t.getSnapshot=r,Pd(t)&&Jd(e)}function Qd(e,t,a){return a(function(){Pd(t)&&Jd(e)})}function Pd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!St(e,a)}catch{return!0}}function Jd(e){var t=sn(e,2);t!==null&&xt(t,e,2)}function To(e){var t=ht();if(typeof e=="function"){var a=e;if(e=a(),mn){ja(!0);try{a()}finally{ja(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t}function Zd(e,t,a,r){return e.baseState=a,jo(e,Ae,typeof r=="function"?r:ha)}function gy(e,t,a,r,o){if(pi(e))throw Error(i(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){u.listeners.push(g)}};T.T!==null?a(!0):u.isTransition=!1,r(u),a=t.pending,a===null?(u.next=t.pending=u,Id(t,u)):(u.next=a.next,t.pending=a.next=u)}}function Id(e,t){var a=t.action,r=t.payload,o=e.state;if(t.isTransition){var u=T.T,g={};T.T=g;try{var p=a(o,r),_=T.S;_!==null&&_(g,p),Fd(e,t,p)}catch(A){ko(e,t,A)}finally{u!==null&&g.types!==null&&(u.types=g.types),T.T=u}}else try{u=a(o,r),Fd(e,t,u)}catch(A){ko(e,t,A)}}function Fd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Wd(e,t,r)},function(r){return ko(e,t,r)}):Wd(e,t,a)}function Wd(e,t,a){t.status="fulfilled",t.value=a,eh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Id(e,a)))}function ko(e,t,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=a,eh(t),t=t.next;while(t!==r)}e.action=null}function eh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function th(e,t){return t}function ah(e,t){if(xe){var a=De.formState;if(a!==null){e:{var r=fe;if(xe){if(Me){t:{for(var o=Me,u=Lt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Ht(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Me=Ht(o.nextSibling),r=o.data==="F!";break e}}Oa(r)}r=!1}r&&(t=a[0])}}return a=ht(),a.memoizedState=a.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:th,lastRenderedState:t},a.queue=r,a=wh.bind(null,fe,r),r.dispatch=a,r=To(!1),u=Do.bind(null,fe,!1,r.queue),r=ht(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,a=gy.bind(null,fe,o,u,a),o.dispatch=a,r.memoizedState=e,[t,a,!1]}function nh(e){var t=Ke();return rh(t,Ae,e)}function rh(e,t,a){if(t=jo(e,t,th)[0],e=mi(ha)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Fr(t)}catch(g){throw g===Pn?si:g}else r=t;t=Ke();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(fe.flags|=2048,Wn(9,{destroy:void 0},my.bind(null,o,a),null)),[r,u,e]}function my(e,t){e.action=t}function sh(e){var t=Ke(),a=Ae;if(a!==null)return rh(t,a,e);Ke(),t=t.memoizedState,a=Ke();var r=a.queue.dispatch;return a.memoizedState=e,[t,r,!1]}function Wn(e,t,a,r){return e={tag:e,create:a,deps:r,inst:t,next:null},t=fe.updateQueue,t===null&&(t=fi(),fe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,t.lastEffect=e),e}function ih(){return Ke().memoizedState}function yi(e,t,a,r){var o=ht();fe.flags|=e,o.memoizedState=Wn(1|t,{destroy:void 0},a,r===void 0?null:r)}function vi(e,t,a,r){var o=Ke();r=r===void 0?null:r;var u=o.memoizedState.inst;Ae!==null&&r!==null&&po(r,Ae.memoizedState.deps)?o.memoizedState=Wn(t,u,a,r):(fe.flags|=e,o.memoizedState=Wn(1|t,u,a,r))}function lh(e,t){yi(8390656,8,e,t)}function No(e,t){vi(2048,8,e,t)}function yy(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=fi(),fe.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function oh(e){var t=Ke().memoizedState;return yy({ref:t,nextImpl:e}),function(){if((je&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function uh(e,t){return vi(4,2,e,t)}function ch(e,t){return vi(4,4,e,t)}function dh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hh(e,t,a){a=a!=null?a.concat([e]):null,vi(4,4,dh.bind(null,t,e),a)}function Oo(){}function fh(e,t){var a=Ke();t=t===void 0?null:t;var r=a.memoizedState;return t!==null&&po(t,r[1])?r[0]:(a.memoizedState=[e,t],e)}function gh(e,t){var a=Ke();t=t===void 0?null:t;var r=a.memoizedState;if(t!==null&&po(t,r[1]))return r[0];if(r=e(),mn){ja(!0);try{e()}finally{ja(!1)}}return a.memoizedState=[r,t],r}function Ao(e,t,a){return a===void 0||(da&1073741824)!==0&&(pe&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=yf(),fe.lanes|=e,La|=e,a)}function mh(e,t,a,r){return St(a,t)?a:Zn.current!==null?(e=Ao(e,a,r),St(e,t)||(Pe=!0),e):(da&42)===0||(da&1073741824)!==0&&(pe&261930)===0?(Pe=!0,e.memoizedState=a):(e=yf(),fe.lanes|=e,La|=e,t)}function yh(e,t,a,r,o){var u=q.p;q.p=u!==0&&8>u?u:8;var g=T.T,p={};T.T=p,Do(e,!1,t,a);try{var _=o(),A=T.S;if(A!==null&&A(p,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var z=dy(_,r);Wr(e,t,z,Ot(e))}else Wr(e,t,r,Ot(e))}catch(H){Wr(e,t,{then:function(){},status:"rejected",reason:H},Ot())}finally{q.p=u,g!==null&&p.types!==null&&(g.types=p.types),T.T=g}}function vy(){}function Co(e,t,a,r){if(e.tag!==5)throw Error(i(476));var o=vh(e).queue;yh(e,o,t,X,a===null?vy:function(){return ph(e),a(r)})}function vh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:X},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ph(e){var t=vh(e);t.next===null&&(t=e.alternate.memoizedState),Wr(e,t.next.queue,{},Ot())}function Ro(){return st(ys)}function bh(){return Ke().memoizedState}function xh(){return Ke().memoizedState}function py(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ot();e=Ra(a);var r=Da(t,e,a);r!==null&&(xt(r,t,a),Pr(r,t,a)),t={cache:io()},e.payload=t;return}t=t.return}}function by(e,t,a){var r=Ot();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pi(e)?_h(t,a):(a=Jl(e,t,a,r),a!==null&&(xt(a,e,r),Sh(a,t,r)))}function wh(e,t,a){var r=Ot();Wr(e,t,a,r)}function Wr(e,t,a,r){var o={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(pi(e))_h(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var g=t.lastRenderedState,p=u(g,a);if(o.hasEagerState=!0,o.eagerState=p,St(p,g))return Fs(e,t,o,0),De===null&&Is(),!1}catch{}finally{}if(a=Jl(e,t,o,r),a!==null)return xt(a,e,r),Sh(a,t,r),!0}return!1}function Do(e,t,a,r){if(r={lane:2,revertLane:du(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},pi(e)){if(t)throw Error(i(479))}else t=Jl(e,a,r,2),t!==null&&xt(t,e,2)}function pi(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function _h(e,t){In=di=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Sh(e,t,a){if((a&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,Nc(e,a)}}var es={readContext:st,use:gi,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e};es.useEffectEvent=$e;var jh={readContext:st,use:gi,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:lh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,yi(4194308,4,dh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return yi(4194308,4,e,t)},useInsertionEffect:function(e,t){yi(4,2,e,t)},useMemo:function(e,t){var a=ht();t=t===void 0?null:t;var r=e();if(mn){ja(!0);try{e()}finally{ja(!1)}}return a.memoizedState=[r,t],r},useReducer:function(e,t,a){var r=ht();if(a!==void 0){var o=a(t);if(mn){ja(!0);try{a(t)}finally{ja(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=by.bind(null,fe,e),[r.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:function(e){e=To(e);var t=e.queue,a=wh.bind(null,fe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Oo,useDeferredValue:function(e,t){var a=ht();return Ao(a,e,t)},useTransition:function(){var e=To(!1);return e=yh.bind(null,fe,e.queue,!0,!1),ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var r=fe,o=ht();if(xe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),De===null)throw Error(i(349));(pe&127)!==0||Kd(r,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,lh(Qd.bind(null,r,u,e),[e]),r.flags|=2048,Wn(9,{destroy:void 0},Xd.bind(null,r,u,a,t),null),a},useId:function(){var e=ht(),t=De.identifierPrefix;if(xe){var a=It,r=Zt;a=(r&~(1<<32-_t(r)-1)).toString(32)+a,t="_"+t+"R_"+a,a=hi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=hy++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ro,useFormState:ah,useActionState:ah,useOptimistic:function(e){var t=ht();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Do.bind(null,fe,!0,a),a.dispatch=t,[e,t]},useMemoCache:So,useCacheRefresh:function(){return ht().memoizedState=py.bind(null,fe)},useEffectEvent:function(e){var t=ht(),a={impl:e};return t.memoizedState=a,function(){if((je&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Uo={readContext:st,use:gi,useCallback:fh,useContext:st,useEffect:No,useImperativeHandle:hh,useInsertionEffect:uh,useLayoutEffect:ch,useMemo:gh,useReducer:mi,useRef:ih,useState:function(){return mi(ha)},useDebugValue:Oo,useDeferredValue:function(e,t){var a=Ke();return mh(a,Ae.memoizedState,e,t)},useTransition:function(){var e=mi(ha)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:Fr(e),t]},useSyncExternalStore:Yd,useId:bh,useHostTransitionStatus:Ro,useFormState:nh,useActionState:nh,useOptimistic:function(e,t){var a=Ke();return Zd(a,Ae,e,t)},useMemoCache:So,useCacheRefresh:xh};Uo.useEffectEvent=oh;var Eh={readContext:st,use:gi,useCallback:fh,useContext:st,useEffect:No,useImperativeHandle:hh,useInsertionEffect:uh,useLayoutEffect:ch,useMemo:gh,useReducer:Eo,useRef:ih,useState:function(){return Eo(ha)},useDebugValue:Oo,useDeferredValue:function(e,t){var a=Ke();return Ae===null?Ao(a,e,t):mh(a,Ae.memoizedState,e,t)},useTransition:function(){var e=Eo(ha)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:Fr(e),t]},useSyncExternalStore:Yd,useId:bh,useHostTransitionStatus:Ro,useFormState:sh,useActionState:sh,useOptimistic:function(e,t){var a=Ke();return Ae!==null?Zd(a,Ae,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:So,useCacheRefresh:xh};Eh.useEffectEvent=oh;function zo(e,t,a,r){t=e.memoizedState,a=a(r,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Mo={enqueueSetState:function(e,t,a){e=e._reactInternals;var r=Ot(),o=Ra(r);o.payload=t,a!=null&&(o.callback=a),t=Da(e,o,r),t!==null&&(xt(t,e,r),Pr(t,e,r))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var r=Ot(),o=Ra(r);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Da(e,o,r),t!==null&&(xt(t,e,r),Pr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ot(),r=Ra(a);r.tag=2,t!=null&&(r.callback=t),t=Da(e,r,a),t!==null&&(xt(t,e,a),Pr(t,e,a))}};function Th(e,t,a,r,o,u,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,g):t.prototype&&t.prototype.isPureReactComponent?!Hr(a,r)||!Hr(o,u):!0}function kh(e,t,a,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,r),t.state!==e&&Mo.enqueueReplaceState(t,t.state,null)}function yn(e,t){var a=t;if("ref"in t){a={};for(var r in t)r!=="ref"&&(a[r]=t[r])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function Nh(e){Zs(e)}function Oh(e){console.error(e)}function Ah(e){Zs(e)}function bi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Ch(e,t,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Bo(e,t,a){return a=Ra(a),a.tag=3,a.payload={element:null},a.callback=function(){bi(e,t)},a}function Rh(e){return e=Ra(e),e.tag=3,e}function Dh(e,t,a,r){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=r.value;e.payload=function(){return o(u)},e.callback=function(){Ch(t,a,r)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Ch(t,a,r),typeof o!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var p=r.stack;this.componentDidCatch(r.value,{componentStack:p!==null?p:""})})}function xy(e,t,a,r,o){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=a.alternate,t!==null&&Kn(t,a,o,!0),a=Et.current,a!==null){switch(a.tag){case 31:case 13:return qt===null?Ci():a.alternate===null&&Ge===0&&(Ge=3),a.flags&=-257,a.flags|=65536,a.lanes=o,r===ii?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([r]):t.add(r),ou(e,r,o)),!1;case 22:return a.flags|=65536,r===ii?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([r]):a.add(r)),ou(e,r,o)),!1}throw Error(i(435,a.tag))}return ou(e,r,o),Ci(),!1}if(xe)return t=Et.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==to&&(e=Error(i(422),{cause:r}),Vr(zt(e,a)))):(r!==to&&(t=Error(i(423),{cause:r}),Vr(zt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=zt(r,a),o=Bo(e.stateNode,r,o),fo(e,o),Ge!==4&&(Ge=2)),!1;var u=Error(i(520),{cause:r});if(u=zt(u,a),os===null?os=[u]:os.push(u),Ge!==4&&(Ge=2),t===null)return!0;r=zt(r,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Bo(a.stateNode,r,e),fo(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(qa===null||!qa.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Rh(o),Dh(o,e,a,r),fo(a,o),!1}a=a.return}while(a!==null);return!1}var Lo=Error(i(461)),Pe=!1;function it(e,t,a,r){t.child=e===null?Bd(t,null,a,r):gn(t,e.child,a,r)}function Uh(e,t,a,r,o){a=a.render;var u=t.ref;if("ref"in r){var g={};for(var p in r)p!=="ref"&&(g[p]=r[p])}else g=r;return cn(t),r=bo(e,t,a,g,u,o),p=xo(),e!==null&&!Pe?(wo(e,t,o),fa(e,t,o)):(xe&&p&&Wl(t),t.flags|=1,it(e,t,r,o),t.child)}function zh(e,t,a,r,o){if(e===null){var u=a.type;return typeof u=="function"&&!Zl(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Mh(e,t,u,r,o)):(e=ei(a.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Xo(e,o)){var g=u.memoizedProps;if(a=a.compare,a=a!==null?a:Hr,a(g,r)&&e.ref===t.ref)return fa(e,t,o)}return t.flags|=1,e=la(u,r),e.ref=t.ref,e.return=t,t.child=e}function Mh(e,t,a,r,o){if(e!==null){var u=e.memoizedProps;if(Hr(u,r)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=r=u,Xo(e,o))(e.flags&131072)!==0&&(Pe=!0);else return t.lanes=e.lanes,fa(e,t,o)}return qo(e,t,a,r,o)}function Bh(e,t,a,r){var o=r.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~u}else r=0,t.child=null;return Lh(e,t,u,a,r)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ri(t,u!==null?u.cachePool:null),u!==null?Hd(t,u):mo(),$d(t);else return r=t.lanes=536870912,Lh(e,t,u!==null?u.baseLanes|a:a,a,r)}else u!==null?(ri(t,u.cachePool),Hd(t,u),za(),t.memoizedState=null):(e!==null&&ri(t,null),mo(),za());return it(e,t,o,a),t.child}function ts(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Lh(e,t,a,r,o){var u=oo();return u=u===null?null:{parent:Xe._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&ri(t,null),mo(),$d(t),e!==null&&Kn(e,t,r,!0),t.childLanes=o,null}function xi(e,t){return t=_i({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function qh(e,t,a){return gn(t,e.child,null,a),e=xi(t,t.pendingProps),e.flags|=2,Tt(t),t.memoizedState=null,e}function wy(e,t,a){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(xe){if(r.mode==="hidden")return e=xi(t,r),t.lanes=536870912,ts(null,e);if(vo(t),(e=Me)?(e=Ff(e,Lt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ka!==null?{id:Zt,overflow:It}:null,retryLane:536870912,hydrationErrors:null},a=_d(e),a.return=t,t.child=a,rt=t,Me=null)):e=null,e===null)throw Oa(t);return t.lanes=536870912,null}return xi(t,r)}var u=e.memoizedState;if(u!==null){var g=u.dehydrated;if(vo(t),o)if(t.flags&256)t.flags&=-257,t=qh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Pe||Kn(e,t,a,!1),o=(a&e.childLanes)!==0,Pe||o){if(r=De,r!==null&&(g=Oc(r,a),g!==0&&g!==u.retryLane))throw u.retryLane=g,sn(e,g),xt(r,e,g),Lo;Ci(),t=qh(e,t,a)}else e=u.treeContext,Me=Ht(g.nextSibling),rt=t,xe=!0,Na=null,Lt=!1,e!==null&&Ed(t,e),t=xi(t,r),t.flags|=4096;return t}return e=la(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function wi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function qo(e,t,a,r,o){return cn(t),a=bo(e,t,a,r,void 0,o),r=xo(),e!==null&&!Pe?(wo(e,t,o),fa(e,t,o)):(xe&&r&&Wl(t),t.flags|=1,it(e,t,a,o),t.child)}function Hh(e,t,a,r,o,u){return cn(t),t.updateQueue=null,a=Vd(t,r,a,o),Gd(e),r=xo(),e!==null&&!Pe?(wo(e,t,u),fa(e,t,u)):(xe&&r&&Wl(t),t.flags|=1,it(e,t,a,u),t.child)}function $h(e,t,a,r,o){if(cn(t),t.stateNode===null){var u=$n,g=a.contextType;typeof g=="object"&&g!==null&&(u=st(g)),u=new a(r,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Mo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=r,u.state=t.memoizedState,u.refs={},co(t),g=a.contextType,u.context=typeof g=="object"&&g!==null?st(g):$n,u.state=t.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(zo(t,a,g,r),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(g=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),g!==u.state&&Mo.enqueueReplaceState(u,u.state,null),Zr(t,r,u,o),Jr(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){u=t.stateNode;var p=t.memoizedProps,_=yn(a,p);u.props=_;var A=u.context,z=a.contextType;g=$n,typeof z=="object"&&z!==null&&(g=st(z));var H=a.getDerivedStateFromProps;z=typeof H=="function"||typeof u.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,z||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p||A!==g)&&kh(t,u,r,g),Ca=!1;var C=t.memoizedState;u.state=C,Zr(t,r,u,o),Jr(),A=t.memoizedState,p||C!==A||Ca?(typeof H=="function"&&(zo(t,a,H,r),A=t.memoizedState),(_=Ca||Th(t,a,_,r,C,A,g))?(z||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=A),u.props=r,u.state=A,u.context=g,r=_):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,ho(e,t),g=t.memoizedProps,z=yn(a,g),u.props=z,H=t.pendingProps,C=u.context,A=a.contextType,_=$n,typeof A=="object"&&A!==null&&(_=st(A)),p=a.getDerivedStateFromProps,(A=typeof p=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(g!==H||C!==_)&&kh(t,u,r,_),Ca=!1,C=t.memoizedState,u.state=C,Zr(t,r,u,o),Jr();var D=t.memoizedState;g!==H||C!==D||Ca||e!==null&&e.dependencies!==null&&ai(e.dependencies)?(typeof p=="function"&&(zo(t,a,p,r),D=t.memoizedState),(z=Ca||Th(t,a,z,r,C,D,_)||e!==null&&e.dependencies!==null&&ai(e.dependencies))?(A||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,D,_),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,D,_)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=D),u.props=r,u.state=D,u.context=_,r=z):(typeof u.componentDidUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),r=!1)}return u=r,wi(e,t),r=(t.flags&128)!==0,u||r?(u=t.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&r?(t.child=gn(t,e.child,null,o),t.child=gn(t,null,a,o)):it(e,t,a,o),t.memoizedState=u.state,e=t.child):e=fa(e,t,o),e}function Gh(e,t,a,r){return on(),t.flags|=256,it(e,t,a,r),t.child}var Ho={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $o(e){return{baseLanes:e,cachePool:Cd()}}function Go(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Nt),e}function Vh(e,t,a){var r=t.pendingProps,o=!1,u=(t.flags&128)!==0,g;if((g=u)||(g=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),g&&(o=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(xe){if(o?Ua(t):za(),(e=Me)?(e=Ff(e,Lt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ka!==null?{id:Zt,overflow:It}:null,retryLane:536870912,hydrationErrors:null},a=_d(e),a.return=t,t.child=a,rt=t,Me=null)):e=null,e===null)throw Oa(t);return ju(e)?t.lanes=32:t.lanes=536870912,null}var p=r.children;return r=r.fallback,o?(za(),o=t.mode,p=_i({mode:"hidden",children:p},o),r=ln(r,o,a,null),p.return=t,r.return=t,p.sibling=r,t.child=p,r=t.child,r.memoizedState=$o(a),r.childLanes=Go(e,g,a),t.memoizedState=Ho,ts(null,r)):(Ua(t),Vo(t,p))}var _=e.memoizedState;if(_!==null&&(p=_.dehydrated,p!==null)){if(u)t.flags&256?(Ua(t),t.flags&=-257,t=Yo(e,t,a)):t.memoizedState!==null?(za(),t.child=e.child,t.flags|=128,t=null):(za(),p=r.fallback,o=t.mode,r=_i({mode:"visible",children:r.children},o),p=ln(p,o,a,null),p.flags|=2,r.return=t,p.return=t,r.sibling=p,t.child=r,gn(t,e.child,null,a),r=t.child,r.memoizedState=$o(a),r.childLanes=Go(e,g,a),t.memoizedState=Ho,t=ts(null,r));else if(Ua(t),ju(p)){if(g=p.nextSibling&&p.nextSibling.dataset,g)var A=g.dgst;g=A,r=Error(i(419)),r.stack="",r.digest=g,Vr({value:r,source:null,stack:null}),t=Yo(e,t,a)}else if(Pe||Kn(e,t,a,!1),g=(a&e.childLanes)!==0,Pe||g){if(g=De,g!==null&&(r=Oc(g,a),r!==0&&r!==_.retryLane))throw _.retryLane=r,sn(e,r),xt(g,e,r),Lo;Su(p)||Ci(),t=Yo(e,t,a)}else Su(p)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Me=Ht(p.nextSibling),rt=t,xe=!0,Na=null,Lt=!1,e!==null&&Ed(t,e),t=Vo(t,r.children),t.flags|=4096);return t}return o?(za(),p=r.fallback,o=t.mode,_=e.child,A=_.sibling,r=la(_,{mode:"hidden",children:r.children}),r.subtreeFlags=_.subtreeFlags&65011712,A!==null?p=la(A,p):(p=ln(p,o,a,null),p.flags|=2),p.return=t,r.return=t,r.sibling=p,t.child=r,ts(null,r),r=t.child,p=e.child.memoizedState,p===null?p=$o(a):(o=p.cachePool,o!==null?(_=Xe._currentValue,o=o.parent!==_?{parent:_,pool:_}:o):o=Cd(),p={baseLanes:p.baseLanes|a,cachePool:o}),r.memoizedState=p,r.childLanes=Go(e,g,a),t.memoizedState=Ho,ts(e.child,r)):(Ua(t),a=e.child,e=a.sibling,a=la(a,{mode:"visible",children:r.children}),a.return=t,a.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=a,t.memoizedState=null,a)}function Vo(e,t){return t=_i({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function _i(e,t){return e=jt(22,e,null,t),e.lanes=0,e}function Yo(e,t,a){return gn(t,e.child,null,a),e=Vo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yh(e,t,a){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ro(e.return,t,a)}function Ko(e,t,a,r,o,u){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:o,treeForkCount:u}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=r,g.tail=a,g.tailMode=o,g.treeForkCount=u)}function Kh(e,t,a){var r=t.pendingProps,o=r.revealOrder,u=r.tail;r=r.children;var g=Ye.current,p=(g&2)!==0;if(p?(g=g&1|2,t.flags|=128):g&=1,K(Ye,g),it(e,t,r,a),r=xe?Gr:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yh(e,a,t);else if(e.tag===19)Yh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&ci(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Ko(t,!1,o,a,u,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ci(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Ko(t,!0,a,null,u,r);break;case"together":Ko(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function fa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),La|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Kn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=la(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=la(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Xo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ai(e)))}function _y(e,t,a){switch(t.tag){case 3:Le(t,t.stateNode.containerInfo),Aa(t,Xe,e.memoizedState.cache),on();break;case 27:case 5:Sa(t);break;case 4:Le(t,t.stateNode.containerInfo);break;case 10:Aa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,vo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Ua(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Vh(e,t,a):(Ua(t),e=fa(e,t,a),e!==null?e.sibling:null);Ua(t);break;case 19:var o=(e.flags&128)!==0;if(r=(a&t.childLanes)!==0,r||(Kn(e,t,a,!1),r=(a&t.childLanes)!==0),o){if(r)return Kh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),K(Ye,Ye.current),r)break;return null;case 22:return t.lanes=0,Bh(e,t,a,t.pendingProps);case 24:Aa(t,Xe,e.memoizedState.cache)}return fa(e,t,a)}function Xh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pe=!0;else{if(!Xo(e,a)&&(t.flags&128)===0)return Pe=!1,_y(e,t,a);Pe=(e.flags&131072)!==0}else Pe=!1,xe&&(t.flags&1048576)!==0&&jd(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=hn(t.elementType),t.type=e,typeof e=="function")Zl(e)?(r=yn(e,r),t.tag=1,t=$h(null,t,e,r,a)):(t.tag=0,t=qo(null,t,e,r,a));else{if(e!=null){var o=e.$$typeof;if(o===J){t.tag=11,t=Uh(null,t,e,r,a);break e}else if(o===P){t.tag=14,t=zh(null,t,e,r,a);break e}}throw t=Oe(e)||e,Error(i(306,t,""))}}return t;case 0:return qo(e,t,t.type,t.pendingProps,a);case 1:return r=t.type,o=yn(r,t.pendingProps),$h(e,t,r,o,a);case 3:e:{if(Le(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var u=t.memoizedState;o=u.element,ho(e,t),Zr(t,r,null,a);var g=t.memoizedState;if(r=g.cache,Aa(t,Xe,r),r!==u.cache&&so(t,[Xe],a,!0),Jr(),r=g.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Gh(e,t,r,a);break e}else if(r!==o){o=zt(Error(i(424)),t),Vr(o),t=Gh(e,t,r,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Me=Ht(e.firstChild),rt=t,xe=!0,Na=null,Lt=!0,a=Bd(t,null,r,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(on(),r===o){t=fa(e,t,a);break e}it(e,t,r,a)}t=t.child}return t;case 26:return wi(e,t),e===null?(a=r0(t.type,null,t.pendingProps,null))?t.memoizedState=a:xe||(a=t.type,e=t.pendingProps,r=Li(le.current).createElement(a),r[nt]=t,r[gt]=e,lt(r,a,e),et(r),t.stateNode=r):t.memoizedState=r0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Sa(t),e===null&&xe&&(r=t.stateNode=t0(t.type,t.pendingProps,le.current),rt=t,Lt=!0,o=Me,Va(t.type)?(Eu=o,Me=Ht(r.firstChild)):Me=o),it(e,t,t.pendingProps.children,a),wi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&xe&&((o=r=Me)&&(r=Fy(r,t.type,t.pendingProps,Lt),r!==null?(t.stateNode=r,rt=t,Me=Ht(r.firstChild),Lt=!1,o=!0):o=!1),o||Oa(t)),Sa(t),o=t.type,u=t.pendingProps,g=e!==null?e.memoizedProps:null,r=u.children,xu(o,u)?r=null:g!==null&&xu(o,g)&&(t.flags|=32),t.memoizedState!==null&&(o=bo(e,t,fy,null,null,a),ys._currentValue=o),wi(e,t),it(e,t,r,a),t.child;case 6:return e===null&&xe&&((e=a=Me)&&(a=Wy(a,t.pendingProps,Lt),a!==null?(t.stateNode=a,rt=t,Me=null,e=!0):e=!1),e||Oa(t)),null;case 13:return Vh(e,t,a);case 4:return Le(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gn(t,null,r,a):it(e,t,r,a),t.child;case 11:return Uh(e,t,t.type,t.pendingProps,a);case 7:return it(e,t,t.pendingProps,a),t.child;case 8:return it(e,t,t.pendingProps.children,a),t.child;case 12:return it(e,t,t.pendingProps.children,a),t.child;case 10:return r=t.pendingProps,Aa(t,t.type,r.value),it(e,t,r.children,a),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,cn(t),o=st(o),r=r(o),t.flags|=1,it(e,t,r,a),t.child;case 14:return zh(e,t,t.type,t.pendingProps,a);case 15:return Mh(e,t,t.type,t.pendingProps,a);case 19:return Kh(e,t,a);case 31:return wy(e,t,a);case 22:return Bh(e,t,a,t.pendingProps);case 24:return cn(t),r=st(Xe),e===null?(o=oo(),o===null&&(o=De,u=io(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:r,cache:o},co(t),Aa(t,Xe,o)):((e.lanes&a)!==0&&(ho(e,t),Zr(t,null,null,a),Jr()),o=e.memoizedState,u=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Aa(t,Xe,r)):(r=u.cache,Aa(t,Xe,r),r!==o.cache&&so(t,[Xe],a,!0))),it(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ga(e){e.flags|=4}function Qo(e,t,a,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(xf())e.flags|=8192;else throw fn=ii,uo}else e.flags&=-16777217}function Qh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!u0(t))if(xf())e.flags|=8192;else throw fn=ii,uo}function Si(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Tc():536870912,e.lanes|=t,nr|=t)}function as(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=a,t}function Sy(e,t,a){var r=t.pendingProps;switch(eo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return a=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ca(Xe),ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Yn(t)?ga(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ao())),Be(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(ga(t),u!==null?(Be(t),Qh(t,u)):(Be(t),Qo(t,o,null,r,a))):u?u!==e.memoizedState?(ga(t),Be(t),Qh(t,u)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&ga(t),Be(t),Qo(t,o,e,r,a)),null;case 27:if(aa(t),a=le.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ga(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Be(t),null}e=V.current,Yn(t)?Td(t):(e=t0(o,r,a),t.stateNode=e,ga(t))}return Be(t),null;case 5:if(aa(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ga(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Be(t),null}if(u=V.current,Yn(t))Td(t);else{var g=Li(le.current);switch(u){case 1:u=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=g.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?g.createElement("select",{is:r.is}):g.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?g.createElement(o,{is:r.is}):g.createElement(o)}}u[nt]=t,u[gt]=r;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)u.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=u;e:switch(lt(u,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ga(t)}}return Be(t),Qo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&ga(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(i(166));if(e=le.current,Yn(t)){if(e=t.stateNode,a=t.memoizedProps,r=null,o=rt,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[nt]=t,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||Yf(e.nodeValue,a)),e||Oa(t,!0)}else e=Li(e).createTextNode(r),e[nt]=t,t.stateNode=e}return Be(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(r=Yn(t),a!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[nt]=t}else on(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else a=ao(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Tt(t),t):(Tt(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Be(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Yn(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[nt]=t}else on(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),o=!1}else o=ao(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Tt(t),t):(Tt(t),null)}return Tt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=r!==null,e=e!==null&&e.memoizedState!==null,a&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Si(t,t.updateQueue),Be(t),null);case 4:return ze(),e===null&&mu(t.stateNode.containerInfo),Be(t),null;case 10:return ca(t.type),Be(t),null;case 19:if(L(Ye),r=t.memoizedState,r===null)return Be(t),null;if(o=(t.flags&128)!==0,u=r.rendering,u===null)if(o)as(r,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=ci(e),u!==null){for(t.flags|=128,as(r,!1),e=u.updateQueue,t.updateQueue=e,Si(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)wd(a,e),a=a.sibling;return K(Ye,Ye.current&1|2),xe&&oa(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&dt()>Ni&&(t.flags|=128,o=!0,as(r,!1),t.lanes=4194304)}else{if(!o)if(e=ci(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Si(t,e),as(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!xe)return Be(t),null}else 2*dt()-r.renderingStartTime>Ni&&a!==536870912&&(t.flags|=128,o=!0,as(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=dt(),e.sibling=null,a=Ye.current,K(Ye,o?a&1|2:a&1),xe&&oa(t,r.treeForkCount),e):(Be(t),null);case 22:case 23:return Tt(t),yo(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(a&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),a=t.updateQueue,a!==null&&Si(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==a&&(t.flags|=2048),e!==null&&L(dn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ca(Xe),Be(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function jy(e,t){switch(eo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ca(Xe),ze(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return aa(t),null;case 31:if(t.memoizedState!==null){if(Tt(t),t.alternate===null)throw Error(i(340));on()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));on()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Ye),null;case 4:return ze(),null;case 10:return ca(t.type),null;case 22:case 23:return Tt(t),yo(),e!==null&&L(dn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ca(Xe),null;case 25:return null;default:return null}}function Ph(e,t){switch(eo(t),t.tag){case 3:ca(Xe),ze();break;case 26:case 27:case 5:aa(t);break;case 4:ze();break;case 31:t.memoizedState!==null&&Tt(t);break;case 13:Tt(t);break;case 19:L(Ye);break;case 10:ca(t.type);break;case 22:case 23:Tt(t),yo(),e!==null&&L(dn);break;case 24:ca(Xe)}}function ns(e,t){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var o=r.next;a=o;do{if((a.tag&e)===e){r=void 0;var u=a.create,g=a.inst;r=u(),g.destroy=r}a=a.next}while(a!==o)}}catch(p){Ne(t,t.return,p)}}function Ma(e,t,a){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&e)===e){var g=r.inst,p=g.destroy;if(p!==void 0){g.destroy=void 0,o=t;var _=a,A=p;try{A()}catch(z){Ne(o,_,z)}}}r=r.next}while(r!==u)}}catch(z){Ne(t,t.return,z)}}function Jh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{qd(t,a)}catch(r){Ne(e,e.return,r)}}}function Zh(e,t,a){a.props=yn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){Ne(e,t,r)}}function rs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(o){Ne(e,t,o)}}function Ft(e,t){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(o){Ne(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ne(e,t,o)}else a.current=null}function Ih(e){var t=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(o){Ne(e,e.return,o)}}function Po(e,t,a){try{var r=e.stateNode;Xy(r,e.type,a,t),r[gt]=t}catch(o){Ne(e,e.return,o)}}function Fh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Va(e.type)||e.tag===4}function Jo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Va(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zo(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=sa));else if(r!==4&&(r===27&&Va(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Zo(e,t,a),e=e.sibling;e!==null;)Zo(e,t,a),e=e.sibling}function ji(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(r!==4&&(r===27&&Va(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ji(e,t,a),e=e.sibling;e!==null;)ji(e,t,a),e=e.sibling}function Wh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);lt(t,r,a),t[nt]=e,t[gt]=a}catch(u){Ne(e,e.return,u)}}var ma=!1,Je=!1,Io=!1,ef=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Ey(e,t){if(e=e.containerInfo,pu=Ki,e=hd(e),Vl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var o=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var g=0,p=-1,_=-1,A=0,z=0,H=e,C=null;t:for(;;){for(var D;H!==a||o!==0&&H.nodeType!==3||(p=g+o),H!==u||r!==0&&H.nodeType!==3||(_=g+r),H.nodeType===3&&(g+=H.nodeValue.length),(D=H.firstChild)!==null;)C=H,H=D;for(;;){if(H===e)break t;if(C===a&&++A===o&&(p=g),C===u&&++z===r&&(_=g),(D=H.nextSibling)!==null)break;H=C,C=H.parentNode}H=D}a=p===-1||_===-1?null:{start:p,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(bu={focusedElem:e,selectionRange:a},Ki=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,r=a.stateNode;try{var Z=yn(a.type,o);e=r.getSnapshotBeforeUpdate(Z,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(se){Ne(a,a.return,se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)_u(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_u(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function tf(e,t,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:va(e,a),r&4&&ns(5,a);break;case 1:if(va(e,a),r&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(g){Ne(a,a.return,g)}else{var o=yn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Ne(a,a.return,g)}}r&64&&Jh(a),r&512&&rs(a,a.return);break;case 3:if(va(e,a),r&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{qd(e,t)}catch(g){Ne(a,a.return,g)}}break;case 27:t===null&&r&4&&Wh(a);case 26:case 5:va(e,a),t===null&&r&4&&Ih(a),r&512&&rs(a,a.return);break;case 12:va(e,a);break;case 31:va(e,a),r&4&&rf(e,a);break;case 13:va(e,a),r&4&&sf(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Uy.bind(null,a),ev(e,a))));break;case 22:if(r=a.memoizedState!==null||ma,!r){t=t!==null&&t.memoizedState!==null||Je,o=ma;var u=Je;ma=r,(Je=t)&&!u?pa(e,a,(a.subtreeFlags&8772)!==0):va(e,a),ma=o,Je=u}break;case 30:break;default:va(e,a)}}function af(e){var t=e.alternate;t!==null&&(e.alternate=null,af(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Tl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,yt=!1;function ya(e,t,a){for(a=a.child;a!==null;)nf(e,t,a),a=a.sibling}function nf(e,t,a){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Wa,a)}catch{}switch(a.tag){case 26:Je||Ft(a,t),ya(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Je||Ft(a,t);var r=qe,o=yt;Va(a.type)&&(qe=a.stateNode,yt=!1),ya(e,t,a),fs(a.stateNode),qe=r,yt=o;break;case 5:Je||Ft(a,t);case 6:if(r=qe,o=yt,qe=null,ya(e,t,a),qe=r,yt=o,qe!==null)if(yt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(a.stateNode)}catch(u){Ne(a,t,u)}else try{qe.removeChild(a.stateNode)}catch(u){Ne(a,t,u)}break;case 18:qe!==null&&(yt?(e=qe,Zf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),dr(e)):Zf(qe,a.stateNode));break;case 4:r=qe,o=yt,qe=a.stateNode.containerInfo,yt=!0,ya(e,t,a),qe=r,yt=o;break;case 0:case 11:case 14:case 15:Ma(2,a,t),Je||Ma(4,a,t),ya(e,t,a);break;case 1:Je||(Ft(a,t),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Zh(a,t,r)),ya(e,t,a);break;case 21:ya(e,t,a);break;case 22:Je=(r=Je)||a.memoizedState!==null,ya(e,t,a),Je=r;break;default:ya(e,t,a)}}function rf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{dr(e)}catch(a){Ne(t,t.return,a)}}}function sf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{dr(e)}catch(a){Ne(t,t.return,a)}}function Ty(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ef),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ef),t;default:throw Error(i(435,e.tag))}}function Ei(e,t){var a=Ty(e);t.forEach(function(r){if(!a.has(r)){a.add(r);var o=zy.bind(null,e,r);r.then(o,o)}})}function vt(e,t){var a=t.deletions;if(a!==null)for(var r=0;r<a.length;r++){var o=a[r],u=e,g=t,p=g;e:for(;p!==null;){switch(p.tag){case 27:if(Va(p.type)){qe=p.stateNode,yt=!1;break e}break;case 5:qe=p.stateNode,yt=!1;break e;case 3:case 4:qe=p.stateNode.containerInfo,yt=!0;break e}p=p.return}if(qe===null)throw Error(i(160));nf(u,g,o),qe=null,yt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)lf(t,e),t=t.sibling}var Vt=null;function lf(e,t){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vt(t,e),pt(e),r&4&&(Ma(3,e,e.return),ns(3,e),Ma(5,e,e.return));break;case 1:vt(t,e),pt(e),r&512&&(Je||a===null||Ft(a,a.return)),r&64&&ma&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var o=Vt;if(vt(t,e),pt(e),r&512&&(Je||a===null||Ft(a,a.return)),r&4){var u=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Cr]||u[nt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(r),o.head.insertBefore(u,o.querySelector("head > title"))),lt(u,r,a),u[nt]=e,et(u),r=u;break e;case"link":var g=l0("link","href",o).get(r+(a.href||""));if(g){for(var p=0;p<g.length;p++)if(u=g[p],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(p,1);break t}}u=o.createElement(r),lt(u,r,a),o.head.appendChild(u);break;case"meta":if(g=l0("meta","content",o).get(r+(a.content||""))){for(p=0;p<g.length;p++)if(u=g[p],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(p,1);break t}}u=o.createElement(r),lt(u,r,a),o.head.appendChild(u);break;default:throw Error(i(468,r))}u[nt]=e,et(u),r=u}e.stateNode=r}else o0(o,e.type,e.stateNode);else e.stateNode=i0(o,r,e.memoizedProps);else u!==r?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,r===null?o0(o,e.type,e.stateNode):i0(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Po(e,e.memoizedProps,a.memoizedProps)}break;case 27:vt(t,e),pt(e),r&512&&(Je||a===null||Ft(a,a.return)),a!==null&&r&4&&Po(e,e.memoizedProps,a.memoizedProps);break;case 5:if(vt(t,e),pt(e),r&512&&(Je||a===null||Ft(a,a.return)),e.flags&32){o=e.stateNode;try{Un(o,"")}catch(Z){Ne(e,e.return,Z)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,Po(e,o,a!==null?a.memoizedProps:o)),r&1024&&(Io=!0);break;case 6:if(vt(t,e),pt(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(Z){Ne(e,e.return,Z)}}break;case 3:if($i=null,o=Vt,Vt=qi(t.containerInfo),vt(t,e),Vt=o,pt(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{dr(t.containerInfo)}catch(Z){Ne(e,e.return,Z)}Io&&(Io=!1,of(e));break;case 4:r=Vt,Vt=qi(e.stateNode.containerInfo),vt(t,e),pt(e),Vt=r;break;case 12:vt(t,e),pt(e);break;case 31:vt(t,e),pt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ei(e,r)));break;case 13:vt(t,e),pt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ki=dt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ei(e,r)));break;case 22:o=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,A=ma,z=Je;if(ma=A||o,Je=z||_,vt(t,e),Je=z,ma=A,pt(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||_||ma||Je||vn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(u=_.stateNode,o)g=u.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{p=_.stateNode;var H=_.memoizedProps.style,C=H!=null&&H.hasOwnProperty("display")?H.display:null;p.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(Z){Ne(_,_.return,Z)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=o?"":_.memoizedProps}catch(Z){Ne(_,_.return,Z)}}}else if(t.tag===18){if(a===null){_=t;try{var D=_.stateNode;o?If(D,!0):If(_.stateNode,!1)}catch(Z){Ne(_,_.return,Z)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Ei(e,a))));break;case 19:vt(t,e),pt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ei(e,r)));break;case 30:break;case 21:break;default:vt(t,e),pt(e)}}function pt(e){var t=e.flags;if(t&2){try{for(var a,r=e.return;r!==null;){if(Fh(r)){a=r;break}r=r.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var o=a.stateNode,u=Jo(e);ji(e,u,o);break;case 5:var g=a.stateNode;a.flags&32&&(Un(g,""),a.flags&=-33);var p=Jo(e);ji(e,p,g);break;case 3:case 4:var _=a.stateNode.containerInfo,A=Jo(e);Zo(e,A,_);break;default:throw Error(i(161))}}catch(z){Ne(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function of(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;of(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function va(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)tf(e,t.alternate,t),t=t.sibling}function vn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ma(4,t,t.return),vn(t);break;case 1:Ft(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Zh(t,t.return,a),vn(t);break;case 27:fs(t.stateNode);case 26:case 5:Ft(t,t.return),vn(t);break;case 22:t.memoizedState===null&&vn(t);break;case 30:vn(t);break;default:vn(t)}e=e.sibling}}function pa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,u=t,g=u.flags;switch(u.tag){case 0:case 11:case 15:pa(o,u,a),ns(4,u);break;case 1:if(pa(o,u,a),r=u,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(A){Ne(r,r.return,A)}if(r=u,o=r.updateQueue,o!==null){var p=r.stateNode;try{var _=o.shared.hiddenCallbacks;if(_!==null)for(o.shared.hiddenCallbacks=null,o=0;o<_.length;o++)Ld(_[o],p)}catch(A){Ne(r,r.return,A)}}a&&g&64&&Jh(u),rs(u,u.return);break;case 27:Wh(u);case 26:case 5:pa(o,u,a),a&&r===null&&g&4&&Ih(u),rs(u,u.return);break;case 12:pa(o,u,a);break;case 31:pa(o,u,a),a&&g&4&&rf(o,u);break;case 13:pa(o,u,a),a&&g&4&&sf(o,u);break;case 22:u.memoizedState===null&&pa(o,u,a),rs(u,u.return);break;case 30:break;default:pa(o,u,a)}t=t.sibling}}function Fo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Yr(a))}function Wo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yr(e))}function Yt(e,t,a,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)uf(e,t,a,r),t=t.sibling}function uf(e,t,a,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Yt(e,t,a,r),o&2048&&ns(9,t);break;case 1:Yt(e,t,a,r);break;case 3:Yt(e,t,a,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yr(e)));break;case 12:if(o&2048){Yt(e,t,a,r),e=t.stateNode;try{var u=t.memoizedProps,g=u.id,p=u.onPostCommit;typeof p=="function"&&p(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Ne(t,t.return,_)}}else Yt(e,t,a,r);break;case 31:Yt(e,t,a,r);break;case 13:Yt(e,t,a,r);break;case 23:break;case 22:u=t.stateNode,g=t.alternate,t.memoizedState!==null?u._visibility&2?Yt(e,t,a,r):ss(e,t):u._visibility&2?Yt(e,t,a,r):(u._visibility|=2,er(e,t,a,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Fo(g,t);break;case 24:Yt(e,t,a,r),o&2048&&Wo(t.alternate,t);break;default:Yt(e,t,a,r)}}function er(e,t,a,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,g=t,p=a,_=r,A=g.flags;switch(g.tag){case 0:case 11:case 15:er(u,g,p,_,o),ns(8,g);break;case 23:break;case 22:var z=g.stateNode;g.memoizedState!==null?z._visibility&2?er(u,g,p,_,o):ss(u,g):(z._visibility|=2,er(u,g,p,_,o)),o&&A&2048&&Fo(g.alternate,g);break;case 24:er(u,g,p,_,o),o&&A&2048&&Wo(g.alternate,g);break;default:er(u,g,p,_,o)}t=t.sibling}}function ss(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,r=t,o=r.flags;switch(r.tag){case 22:ss(a,r),o&2048&&Fo(r.alternate,r);break;case 24:ss(a,r),o&2048&&Wo(r.alternate,r);break;default:ss(a,r)}t=t.sibling}}var is=8192;function tr(e,t,a){if(e.subtreeFlags&is)for(e=e.child;e!==null;)cf(e,t,a),e=e.sibling}function cf(e,t,a){switch(e.tag){case 26:tr(e,t,a),e.flags&is&&e.memoizedState!==null&&hv(a,Vt,e.memoizedState,e.memoizedProps);break;case 5:tr(e,t,a);break;case 3:case 4:var r=Vt;Vt=qi(e.stateNode.containerInfo),tr(e,t,a),Vt=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=is,is=16777216,tr(e,t,a),is=r):tr(e,t,a));break;default:tr(e,t,a)}}function df(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ls(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];tt=r,ff(r,e)}df(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hf(e),e=e.sibling}function hf(e){switch(e.tag){case 0:case 11:case 15:ls(e),e.flags&2048&&Ma(9,e,e.return);break;case 3:ls(e);break;case 12:ls(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ti(e)):ls(e);break;default:ls(e)}}function Ti(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];tt=r,ff(r,e)}df(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ma(8,t,t.return),Ti(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Ti(t));break;default:Ti(t)}e=e.sibling}}function ff(e,t){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:Ma(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Yr(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,tt=r;else e:for(a=e;tt!==null;){r=tt;var o=r.sibling,u=r.return;if(af(r),r===a){tt=null;break e}if(o!==null){o.return=u,tt=o;break e}tt=u}}}var ky={getCacheForType:function(e){var t=st(Xe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return st(Xe).controller.signal}},Ny=typeof WeakMap=="function"?WeakMap:Map,je=0,De=null,ye=null,pe=0,ke=0,kt=null,Ba=!1,ar=!1,eu=!1,ba=0,Ge=0,La=0,pn=0,tu=0,Nt=0,nr=0,os=null,bt=null,au=!1,ki=0,gf=0,Ni=1/0,Oi=null,qa=null,Ie=0,Ha=null,rr=null,xa=0,nu=0,ru=null,mf=null,us=0,su=null;function Ot(){return(je&2)!==0&&pe!==0?pe&-pe:T.T!==null?du():Ac()}function yf(){if(Nt===0)if((pe&536870912)===0||xe){var e=Bs;Bs<<=1,(Bs&3932160)===0&&(Bs=262144),Nt=e}else Nt=536870912;return e=Et.current,e!==null&&(e.flags|=32),Nt}function xt(e,t,a){(e===De&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(sr(e,0),$a(e,pe,Nt,!1)),Ar(e,a),((je&2)===0||e!==De)&&(e===De&&((je&2)===0&&(pn|=a),Ge===4&&$a(e,pe,Nt,!1)),Wt(e))}function vf(e,t,a){if((je&6)!==0)throw Error(i(327));var r=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Or(e,t),o=r?Cy(e,t):lu(e,t,!0),u=r;do{if(o===0){ar&&!r&&$a(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!Oy(a)){o=lu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var p=e;o=os;var _=p.current.memoizedState.isDehydrated;if(_&&(sr(p,g).flags|=256),g=lu(p,g,!1),g!==2){if(eu&&!_){p.errorRecoveryDisabledLanes|=u,pn|=u,o=4;break e}u=bt,bt=o,u!==null&&(bt===null?bt=u:bt.push.apply(bt,u))}o=g}if(u=!1,o!==2)continue}}if(o===1){sr(e,0),$a(e,t,0,!0);break}e:{switch(r=e,u=o,u){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:$a(r,t,Nt,!Ba);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(o=ki+300-dt(),10<o)){if($a(r,t,Nt,!Ba),qs(r,0,!0)!==0)break e;xa=t,r.timeoutHandle=Pf(pf.bind(null,r,a,bt,Oi,au,t,Nt,pn,nr,Ba,u,"Throttled",-0,0),o);break e}pf(r,a,bt,Oi,au,t,Nt,pn,nr,Ba,u,null,-0,0)}}break}while(!0);Wt(e)}function pf(e,t,a,r,o,u,g,p,_,A,z,H,C,D){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sa},cf(t,u,H);var Z=(u&62914560)===u?ki-dt():(u&4194048)===u?gf-dt():0;if(Z=fv(H,Z),Z!==null){xa=u,e.cancelPendingCommit=Z(Tf.bind(null,e,t,u,a,r,o,g,p,_,z,H,null,C,D)),$a(e,u,g,!A);return}}Tf(e,t,u,a,r,o,g,p,_)}function Oy(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var o=a[r],u=o.getSnapshot;o=o.value;try{if(!St(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $a(e,t,a,r){t&=~tu,t&=~pn,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var u=31-_t(o),g=1<<u;r[u]=-1,o&=~g}a!==0&&kc(e,a,t)}function Ai(){return(je&6)===0?(cs(0),!1):!0}function iu(){if(ye!==null){if(ke===0)var e=ye.return;else e=ye,ua=un=null,_o(e),Jn=null,Xr=0,e=ye;for(;e!==null;)Ph(e.alternate,e),e=e.return;ye=null}}function sr(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Jy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),xa=0,iu(),De=e,ye=a=la(e.current,null),pe=t,ke=0,kt=null,Ba=!1,ar=Or(e,t),eu=!1,nr=Nt=tu=pn=La=Ge=0,bt=os=null,au=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-_t(r),u=1<<o;t|=e[o],r&=~u}return ba=t,Is(),a}function bf(e,t){fe=null,T.H=es,t===Pn||t===si?(t=Ud(),ke=3):t===uo?(t=Ud(),ke=4):ke=t===Lo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,ye===null&&(Ge=1,bi(e,zt(t,e.current)))}function xf(){var e=Et.current;return e===null?!0:(pe&4194048)===pe?qt===null:(pe&62914560)===pe||(pe&536870912)!==0?e===qt:!1}function wf(){var e=T.H;return T.H=es,e===null?es:e}function _f(){var e=T.A;return T.A=ky,e}function Ci(){Ge=4,Ba||(pe&4194048)!==pe&&Et.current!==null||(ar=!0),(La&134217727)===0&&(pn&134217727)===0||De===null||$a(De,pe,Nt,!1)}function lu(e,t,a){var r=je;je|=2;var o=wf(),u=_f();(De!==e||pe!==t)&&(Oi=null,sr(e,t)),t=!1;var g=Ge;e:do try{if(ke!==0&&ye!==null){var p=ye,_=kt;switch(ke){case 8:iu(),g=6;break e;case 3:case 2:case 9:case 6:Et.current===null&&(t=!0);var A=ke;if(ke=0,kt=null,ir(e,p,_,A),a&&ar){g=0;break e}break;default:A=ke,ke=0,kt=null,ir(e,p,_,A)}}Ay(),g=Ge;break}catch(z){bf(e,z)}while(!0);return t&&e.shellSuspendCounter++,ua=un=null,je=r,T.H=o,T.A=u,ye===null&&(De=null,pe=0,Is()),g}function Ay(){for(;ye!==null;)Sf(ye)}function Cy(e,t){var a=je;je|=2;var r=wf(),o=_f();De!==e||pe!==t?(Oi=null,Ni=dt()+500,sr(e,t)):ar=Or(e,t);e:do try{if(ke!==0&&ye!==null){t=ye;var u=kt;t:switch(ke){case 1:ke=0,kt=null,ir(e,t,u,1);break;case 2:case 9:if(Rd(u)){ke=0,kt=null,jf(t);break}t=function(){ke!==2&&ke!==9||De!==e||(ke=7),Wt(e)},u.then(t,t);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:Rd(u)?(ke=0,kt=null,jf(t)):(ke=0,kt=null,ir(e,t,u,7));break;case 5:var g=null;switch(ye.tag){case 26:g=ye.memoizedState;case 5:case 27:var p=ye;if(g?u0(g):p.stateNode.complete){ke=0,kt=null;var _=p.sibling;if(_!==null)ye=_;else{var A=p.return;A!==null?(ye=A,Ri(A)):ye=null}break t}}ke=0,kt=null,ir(e,t,u,5);break;case 6:ke=0,kt=null,ir(e,t,u,6);break;case 8:iu(),Ge=6;break e;default:throw Error(i(462))}}Ry();break}catch(z){bf(e,z)}while(!0);return ua=un=null,T.H=r,T.A=o,je=a,ye!==null?0:(De=null,pe=0,Is(),Ge)}function Ry(){for(;ye!==null&&!pl();)Sf(ye)}function Sf(e){var t=Xh(e.alternate,e,ba);e.memoizedProps=e.pendingProps,t===null?Ri(e):ye=t}function jf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Hh(a,t,t.pendingProps,t.type,void 0,pe);break;case 11:t=Hh(a,t,t.pendingProps,t.type.render,t.ref,pe);break;case 5:_o(t);default:Ph(a,t),t=ye=wd(t,ba),t=Xh(a,t,ba)}e.memoizedProps=e.pendingProps,t===null?Ri(e):ye=t}function ir(e,t,a,r){ua=un=null,_o(t),Jn=null,Xr=0;var o=t.return;try{if(xy(e,o,t,a,pe)){Ge=1,bi(e,zt(a,e.current)),ye=null;return}}catch(u){if(o!==null)throw ye=o,u;Ge=1,bi(e,zt(a,e.current)),ye=null;return}t.flags&32768?(xe||r===1?e=!0:ar||(pe&536870912)!==0?e=!1:(Ba=e=!0,(r===2||r===9||r===3||r===6)&&(r=Et.current,r!==null&&r.tag===13&&(r.flags|=16384))),Ef(t,e)):Ri(t)}function Ri(e){var t=e;do{if((t.flags&32768)!==0){Ef(t,Ba);return}e=t.return;var a=Sy(t.alternate,t,ba);if(a!==null){ye=a;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Ge===0&&(Ge=5)}function Ef(e,t){do{var a=jy(e.alternate,e);if(a!==null){a.flags&=32767,ye=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=a}while(e!==null);Ge=6,ye=null}function Tf(e,t,a,r,o,u,g,p,_){e.cancelPendingCommit=null;do Di();while(Ie!==0);if((je&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(u=t.lanes|t.childLanes,u|=Pl,dm(e,a,u,g,p,_),e===De&&(ye=De=null,pe=0),rr=t,Ha=e,xa=a,nu=u,ru=o,mf=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,My(kn,function(){return Cf(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=T.T,T.T=null,o=q.p,q.p=2,g=je,je|=4;try{Ey(e,t,a)}finally{je=g,q.p=o,T.T=r}}Ie=1,kf(),Nf(),Of()}}function kf(){if(Ie===1){Ie=0;var e=Ha,t=rr,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=T.T,T.T=null;var r=q.p;q.p=2;var o=je;je|=4;try{lf(t,e);var u=bu,g=hd(e.containerInfo),p=u.focusedElem,_=u.selectionRange;if(g!==p&&p&&p.ownerDocument&&dd(p.ownerDocument.documentElement,p)){if(_!==null&&Vl(p)){var A=_.start,z=_.end;if(z===void 0&&(z=A),"selectionStart"in p)p.selectionStart=A,p.selectionEnd=Math.min(z,p.value.length);else{var H=p.ownerDocument||document,C=H&&H.defaultView||window;if(C.getSelection){var D=C.getSelection(),Z=p.textContent.length,se=Math.min(_.start,Z),Re=_.end===void 0?se:Math.min(_.end,Z);!D.extend&&se>Re&&(g=Re,Re=se,se=g);var k=cd(p,se),E=cd(p,Re);if(k&&E&&(D.rangeCount!==1||D.anchorNode!==k.node||D.anchorOffset!==k.offset||D.focusNode!==E.node||D.focusOffset!==E.offset)){var O=H.createRange();O.setStart(k.node,k.offset),D.removeAllRanges(),se>Re?(D.addRange(O),D.extend(E.node,E.offset)):(O.setEnd(E.node,E.offset),D.addRange(O))}}}}for(H=[],D=p;D=D.parentNode;)D.nodeType===1&&H.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<H.length;p++){var M=H[p];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}Ki=!!pu,bu=pu=null}finally{je=o,q.p=r,T.T=a}}e.current=t,Ie=2}}function Nf(){if(Ie===2){Ie=0;var e=Ha,t=rr,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=T.T,T.T=null;var r=q.p;q.p=2;var o=je;je|=4;try{tf(e,t.alternate,t)}finally{je=o,q.p=r,T.T=a}}Ie=3}}function Of(){if(Ie===4||Ie===3){Ie=0,bl();var e=Ha,t=rr,a=xa,r=mf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ie=5:(Ie=0,rr=Ha=null,Af(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(qa=null),jl(a),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Wa,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=T.T,o=q.p,q.p=2,T.T=null;try{for(var u=e.onRecoverableError,g=0;g<r.length;g++){var p=r[g];u(p.value,{componentStack:p.stack})}}finally{T.T=t,q.p=o}}(xa&3)!==0&&Di(),Wt(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===su?us++:(us=0,su=e):us=0,cs(0)}}function Af(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Yr(t)))}function Di(){return kf(),Nf(),Of(),Cf()}function Cf(){if(Ie!==5)return!1;var e=Ha,t=nu;nu=0;var a=jl(xa),r=T.T,o=q.p;try{q.p=32>a?32:a,T.T=null,a=ru,ru=null;var u=Ha,g=xa;if(Ie=0,rr=Ha=null,xa=0,(je&6)!==0)throw Error(i(331));var p=je;if(je|=4,hf(u.current),uf(u,u.current,g,a),je=p,cs(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Wa,u)}catch{}return!0}finally{q.p=o,T.T=r,Af(e,t)}}function Rf(e,t,a){t=zt(a,t),t=Bo(e.stateNode,t,2),e=Da(e,t,2),e!==null&&(Ar(e,2),Wt(e))}function Ne(e,t,a){if(e.tag===3)Rf(e,e,a);else for(;t!==null;){if(t.tag===3){Rf(t,e,a);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qa===null||!qa.has(r))){e=zt(a,e),a=Rh(2),r=Da(t,a,2),r!==null&&(Dh(a,r,t,e),Ar(r,2),Wt(r));break}}t=t.return}}function ou(e,t,a){var r=e.pingCache;if(r===null){r=e.pingCache=new Ny;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(a)||(eu=!0,o.add(a),e=Dy.bind(null,e,t,a),t.then(e,e))}function Dy(e,t,a){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,De===e&&(pe&a)===a&&(Ge===4||Ge===3&&(pe&62914560)===pe&&300>dt()-ki?(je&2)===0&&sr(e,0):tu|=a,nr===pe&&(nr=0)),Wt(e)}function Df(e,t){t===0&&(t=Tc()),e=sn(e,t),e!==null&&(Ar(e,t),Wt(e))}function Uy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Df(e,a)}function zy(e,t){var a=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Df(e,a)}function My(e,t){return kr(e,t)}var Ui=null,lr=null,uu=!1,zi=!1,cu=!1,Ga=0;function Wt(e){e!==lr&&e.next===null&&(lr===null?Ui=lr=e:lr=lr.next=e),zi=!0,uu||(uu=!0,Ly())}function cs(e,t){if(!cu&&zi){cu=!0;do for(var a=!1,r=Ui;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var u=0;else{var g=r.suspendedLanes,p=r.pingedLanes;u=(1<<31-_t(42|e)+1)-1,u&=o&~(g&~p),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Bf(r,u))}else u=pe,u=qs(r,r===De?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||Or(r,u)||(a=!0,Bf(r,u));r=r.next}while(a);cu=!1}}function By(){Uf()}function Uf(){zi=uu=!1;var e=0;Ga!==0&&Py()&&(e=Ga);for(var t=dt(),a=null,r=Ui;r!==null;){var o=r.next,u=zf(r,t);u===0?(r.next=null,a===null?Ui=o:a.next=o,o===null&&(lr=a)):(a=r,(e!==0||(u&3)!==0)&&(zi=!0)),r=o}Ie!==0&&Ie!==5||cs(e),Ga!==0&&(Ga=0)}function zf(e,t){for(var a=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var g=31-_t(u),p=1<<g,_=o[g];_===-1?((p&a)===0||(p&r)!==0)&&(o[g]=cm(p,t)):_<=t&&(e.expiredLanes|=p),u&=~p}if(t=De,a=pe,a=qs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===t&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Nr(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Or(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(r!==null&&Nr(r),jl(a)){case 2:case 8:a=Us;break;case 32:a=kn;break;case 268435456:a=zs;break;default:a=kn}return r=Mf.bind(null,e),a=kr(a,r),e.callbackPriority=t,e.callbackNode=a,t}return r!==null&&r!==null&&Nr(r),e.callbackPriority=2,e.callbackNode=null,2}function Mf(e,t){if(Ie!==0&&Ie!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Di()&&e.callbackNode!==a)return null;var r=pe;return r=qs(e,e===De?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(vf(e,r,t),zf(e,dt()),e.callbackNode!=null&&e.callbackNode===a?Mf.bind(null,e):null)}function Bf(e,t){if(Di())return null;vf(e,t,!0)}function Ly(){Zy(function(){(je&6)!==0?kr(Ds,By):Uf()})}function du(){if(Ga===0){var e=Xn;e===0&&(e=Ms,Ms<<=1,(Ms&261888)===0&&(Ms=256)),Ga=e}return Ga}function Lf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vs(""+e)}function qf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function qy(e,t,a,r,o){if(t==="submit"&&a&&a.stateNode===o){var u=Lf((o[gt]||null).action),g=r.submitter;g&&(t=(t=g[gt]||null)?Lf(t.formAction):g.getAttribute("formAction"),t!==null&&(u=t,g=null));var p=new Qs("action","action",null,r,o);e.push({event:p,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ga!==0){var _=g?qf(o,g):new FormData(o);Co(a,{pending:!0,data:_,method:o.method,action:u},null,_)}}else typeof u=="function"&&(p.preventDefault(),_=g?qf(o,g):new FormData(o),Co(a,{pending:!0,data:_,method:o.method,action:u},u,_))},currentTarget:o}]})}}for(var hu=0;hu<Ql.length;hu++){var fu=Ql[hu],Hy=fu.toLowerCase(),$y=fu[0].toUpperCase()+fu.slice(1);Gt(Hy,"on"+$y)}Gt(md,"onAnimationEnd"),Gt(yd,"onAnimationIteration"),Gt(vd,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(ny,"onTransitionRun"),Gt(ry,"onTransitionStart"),Gt(sy,"onTransitionCancel"),Gt(pd,"onTransitionEnd"),Rn("onMouseEnter",["mouseout","mouseover"]),Rn("onMouseLeave",["mouseout","mouseover"]),Rn("onPointerEnter",["pointerout","pointerover"]),Rn("onPointerLeave",["pointerout","pointerover"]),tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ds));function Hf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],o=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var g=r.length-1;0<=g;g--){var p=r[g],_=p.instance,A=p.currentTarget;if(p=p.listener,_!==u&&o.isPropagationStopped())break e;u=p,o.currentTarget=A;try{u(o)}catch(z){Zs(z)}o.currentTarget=null,u=_}else for(g=0;g<r.length;g++){if(p=r[g],_=p.instance,A=p.currentTarget,p=p.listener,_!==u&&o.isPropagationStopped())break e;u=p,o.currentTarget=A;try{u(o)}catch(z){Zs(z)}o.currentTarget=null,u=_}}}}function ve(e,t){var a=t[El];a===void 0&&(a=t[El]=new Set);var r=e+"__bubble";a.has(r)||($f(t,e,2,!1),a.add(r))}function gu(e,t,a){var r=0;t&&(r|=4),$f(a,e,r,t)}var Mi="_reactListening"+Math.random().toString(36).slice(2);function mu(e){if(!e[Mi]){e[Mi]=!0,Dc.forEach(function(a){a!=="selectionchange"&&(Gy.has(a)||gu(a,!1,e),gu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mi]||(t[Mi]=!0,gu("selectionchange",!1,t))}}function $f(e,t,a,r){switch(y0(t)){case 2:var o=yv;break;case 8:o=vv;break;default:o=Au}a=o.bind(null,t,a,e),o=void 0,!Ul||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function yu(e,t,a,r,o){var u=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var g=r.tag;if(g===3||g===4){var p=r.stateNode.containerInfo;if(p===o)break;if(g===4)for(g=r.return;g!==null;){var _=g.tag;if((_===3||_===4)&&g.stateNode.containerInfo===o)return;g=g.return}for(;p!==null;){if(g=On(p),g===null)return;if(_=g.tag,_===5||_===6||_===26||_===27){r=u=g;continue e}p=p.parentNode}}r=r.return}Kc(function(){var A=u,z=Rl(a),H=[];e:{var C=bd.get(e);if(C!==void 0){var D=Qs,Z=e;switch(e){case"keypress":if(Ks(a)===0)break e;case"keydown":case"keyup":D=zm;break;case"focusin":Z="focus",D=Ll;break;case"focusout":Z="blur",D=Ll;break;case"beforeblur":case"afterblur":D=Ll;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=Sm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=Lm;break;case md:case yd:case vd:D=Tm;break;case pd:D=Hm;break;case"scroll":case"scrollend":D=wm;break;case"wheel":D=Gm;break;case"copy":case"cut":case"paste":D=Nm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Zc;break;case"toggle":case"beforetoggle":D=Ym}var se=(t&4)!==0,Re=!se&&(e==="scroll"||e==="scrollend"),k=se?C!==null?C+"Capture":null:C;se=[];for(var E=A,O;E!==null;){var M=E;if(O=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||O===null||k===null||(M=Dr(E,k),M!=null&&se.push(hs(E,M,O))),Re)break;E=E.return}0<se.length&&(C=new D(C,Z,null,a,z),H.push({event:C,listeners:se}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",C&&a!==Cl&&(Z=a.relatedTarget||a.fromElement)&&(On(Z)||Z[Nn]))break e;if((D||C)&&(C=z.window===z?z:(C=z.ownerDocument)?C.defaultView||C.parentWindow:window,D?(Z=a.relatedTarget||a.toElement,D=A,Z=Z?On(Z):null,Z!==null&&(Re=d(Z),se=Z.tag,Z!==Re||se!==5&&se!==27&&se!==6)&&(Z=null)):(D=null,Z=A),D!==Z)){if(se=Pc,M="onMouseLeave",k="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(se=Zc,M="onPointerLeave",k="onPointerEnter",E="pointer"),Re=D==null?C:Rr(D),O=Z==null?C:Rr(Z),C=new se(M,E+"leave",D,a,z),C.target=Re,C.relatedTarget=O,M=null,On(z)===A&&(se=new se(k,E+"enter",Z,a,z),se.target=O,se.relatedTarget=Re,M=se),Re=M,D&&Z)t:{for(se=Vy,k=D,E=Z,O=0,M=k;M;M=se(M))O++;M=0;for(var re=E;re;re=se(re))M++;for(;0<O-M;)k=se(k),O--;for(;0<M-O;)E=se(E),M--;for(;O--;){if(k===E||E!==null&&k===E.alternate){se=k;break t}k=se(k),E=se(E)}se=null}else se=null;D!==null&&Gf(H,C,D,se,!1),Z!==null&&Re!==null&&Gf(H,Re,Z,se,!0)}}e:{if(C=A?Rr(A):window,D=C.nodeName&&C.nodeName.toLowerCase(),D==="select"||D==="input"&&C.type==="file")var we=rd;else if(ad(C))if(sd)we=ey;else{we=Fm;var W=Im}else D=C.nodeName,!D||D.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?A&&Al(A.elementType)&&(we=rd):we=Wm;if(we&&(we=we(e,A))){nd(H,we,a,z);break e}W&&W(e,C,A),e==="focusout"&&A&&C.type==="number"&&A.memoizedProps.value!=null&&Ol(C,"number",C.value)}switch(W=A?Rr(A):window,e){case"focusin":(ad(W)||W.contentEditable==="true")&&(Ln=W,Yl=A,$r=null);break;case"focusout":$r=Yl=Ln=null;break;case"mousedown":Kl=!0;break;case"contextmenu":case"mouseup":case"dragend":Kl=!1,fd(H,a,z);break;case"selectionchange":if(ay)break;case"keydown":case"keyup":fd(H,a,z)}var ge;if(Hl)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Bn?ed(e,a)&&(be="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(Ic&&a.locale!=="ko"&&(Bn||be!=="onCompositionStart"?be==="onCompositionEnd"&&Bn&&(ge=Xc()):(Ta=z,zl="value"in Ta?Ta.value:Ta.textContent,Bn=!0)),W=Bi(A,be),0<W.length&&(be=new Jc(be,e,null,a,z),H.push({event:be,listeners:W}),ge?be.data=ge:(ge=td(a),ge!==null&&(be.data=ge)))),(ge=Xm?Qm(e,a):Pm(e,a))&&(be=Bi(A,"onBeforeInput"),0<be.length&&(W=new Jc("onBeforeInput","beforeinput",null,a,z),H.push({event:W,listeners:be}),W.data=ge)),qy(H,e,A,a,z)}Hf(H,t)})}function hs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Bi(e,t){for(var a=t+"Capture",r=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Dr(e,a),o!=null&&r.unshift(hs(e,o,u)),o=Dr(e,t),o!=null&&r.push(hs(e,o,u))),e.tag===3)return r;e=e.return}return[]}function Vy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gf(e,t,a,r,o){for(var u=t._reactName,g=[];a!==null&&a!==r;){var p=a,_=p.alternate,A=p.stateNode;if(p=p.tag,_!==null&&_===r)break;p!==5&&p!==26&&p!==27||A===null||(_=A,o?(A=Dr(a,u),A!=null&&g.unshift(hs(a,A,_))):o||(A=Dr(a,u),A!=null&&g.push(hs(a,A,_)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var Yy=/\r\n?/g,Ky=/\u0000|\uFFFD/g;function Vf(e){return(typeof e=="string"?e:""+e).replace(Yy,`
`).replace(Ky,"")}function Yf(e,t){return t=Vf(t),Vf(e)===t}function Ce(e,t,a,r,o,u){switch(a){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Un(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Un(e,""+r);break;case"className":$s(e,"class",r);break;case"tabIndex":$s(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":$s(e,a,r);break;case"style":Vc(e,r,u);break;case"data":if(t!=="object"){$s(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Vs(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Ce(e,t,"name",o.name,o,null),Ce(e,t,"formEncType",o.formEncType,o,null),Ce(e,t,"formMethod",o.formMethod,o,null),Ce(e,t,"formTarget",o.formTarget,o,null)):(Ce(e,t,"encType",o.encType,o,null),Ce(e,t,"method",o.method,o,null),Ce(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Vs(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=sa);break;case"onScroll":r!=null&&ve("scroll",e);break;case"onScrollEnd":r!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(a=r.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=Vs(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":ve("beforetoggle",e),ve("toggle",e),Hs(e,"popover",r);break;case"xlinkActuate":ra(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ra(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ra(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ra(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ra(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ra(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ra(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ra(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ra(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Hs(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bm.get(a)||a,Hs(e,a,r))}}function vu(e,t,a,r,o,u){switch(a){case"style":Vc(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(a=r.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof r=="string"?Un(e,r):(typeof r=="number"||typeof r=="bigint")&&Un(e,""+r);break;case"onScroll":r!=null&&ve("scroll",e);break;case"onScrollEnd":r!=null&&ve("scrollend",e);break;case"onClick":r!=null&&(e.onclick=sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[gt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof r=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,r,o);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):Hs(e,a,r)}}}function lt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var r=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var g=a[u];if(g!=null)switch(u){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ce(e,t,u,g,a,null)}}o&&Ce(e,t,"srcSet",a.srcSet,a,null),r&&Ce(e,t,"src",a.src,a,null);return;case"input":ve("invalid",e);var p=u=g=o=null,_=null,A=null;for(r in a)if(a.hasOwnProperty(r)){var z=a[r];if(z!=null)switch(r){case"name":o=z;break;case"type":g=z;break;case"checked":_=z;break;case"defaultChecked":A=z;break;case"value":u=z;break;case"defaultValue":p=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,t));break;default:Ce(e,t,r,z,a,null)}}qc(e,u,p,_,A,g,o,!1);return;case"select":ve("invalid",e),r=g=u=null;for(o in a)if(a.hasOwnProperty(o)&&(p=a[o],p!=null))switch(o){case"value":u=p;break;case"defaultValue":g=p;break;case"multiple":r=p;default:Ce(e,t,o,p,a,null)}t=u,a=g,e.multiple=!!r,t!=null?Dn(e,!!r,t,!1):a!=null&&Dn(e,!!r,a,!0);return;case"textarea":ve("invalid",e),u=o=r=null;for(g in a)if(a.hasOwnProperty(g)&&(p=a[g],p!=null))switch(g){case"value":r=p;break;case"defaultValue":o=p;break;case"children":u=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:Ce(e,t,g,p,a,null)}$c(e,r,o,u);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(r=a[_],r!=null))switch(_){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ce(e,t,_,r,a,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(r=0;r<ds.length;r++)ve(ds[r],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(r=a[A],r!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Ce(e,t,A,r,a,null)}return;default:if(Al(t)){for(z in a)a.hasOwnProperty(z)&&(r=a[z],r!==void 0&&vu(e,t,z,r,a,void 0));return}}for(p in a)a.hasOwnProperty(p)&&(r=a[p],r!=null&&Ce(e,t,p,r,a,null))}function Xy(e,t,a,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,g=null,p=null,_=null,A=null,z=null;for(D in a){var H=a[D];if(a.hasOwnProperty(D)&&H!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":_=H;default:r.hasOwnProperty(D)||Ce(e,t,D,null,r,H)}}for(var C in r){var D=r[C];if(H=a[C],r.hasOwnProperty(C)&&(D!=null||H!=null))switch(C){case"type":u=D;break;case"name":o=D;break;case"checked":A=D;break;case"defaultChecked":z=D;break;case"value":g=D;break;case"defaultValue":p=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(137,t));break;default:D!==H&&Ce(e,t,C,D,r,H)}}Nl(e,g,p,_,A,z,u,o);return;case"select":D=g=p=C=null;for(u in a)if(_=a[u],a.hasOwnProperty(u)&&_!=null)switch(u){case"value":break;case"multiple":D=_;default:r.hasOwnProperty(u)||Ce(e,t,u,null,r,_)}for(o in r)if(u=r[o],_=a[o],r.hasOwnProperty(o)&&(u!=null||_!=null))switch(o){case"value":C=u;break;case"defaultValue":p=u;break;case"multiple":g=u;default:u!==_&&Ce(e,t,o,u,r,_)}t=p,a=g,r=D,C!=null?Dn(e,!!a,C,!1):!!r!=!!a&&(t!=null?Dn(e,!!a,t,!0):Dn(e,!!a,a?[]:"",!1));return;case"textarea":D=C=null;for(p in a)if(o=a[p],a.hasOwnProperty(p)&&o!=null&&!r.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Ce(e,t,p,null,r,o)}for(g in r)if(o=r[g],u=a[g],r.hasOwnProperty(g)&&(o!=null||u!=null))switch(g){case"value":C=o;break;case"defaultValue":D=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(i(91));break;default:o!==u&&Ce(e,t,g,o,r,u)}Hc(e,C,D);return;case"option":for(var Z in a)if(C=a[Z],a.hasOwnProperty(Z)&&C!=null&&!r.hasOwnProperty(Z))switch(Z){case"selected":e.selected=!1;break;default:Ce(e,t,Z,null,r,C)}for(_ in r)if(C=r[_],D=a[_],r.hasOwnProperty(_)&&C!==D&&(C!=null||D!=null))switch(_){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:Ce(e,t,_,C,r,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in a)C=a[se],a.hasOwnProperty(se)&&C!=null&&!r.hasOwnProperty(se)&&Ce(e,t,se,null,r,C);for(A in r)if(C=r[A],D=a[A],r.hasOwnProperty(A)&&C!==D&&(C!=null||D!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(137,t));break;default:Ce(e,t,A,C,r,D)}return;default:if(Al(t)){for(var Re in a)C=a[Re],a.hasOwnProperty(Re)&&C!==void 0&&!r.hasOwnProperty(Re)&&vu(e,t,Re,void 0,r,C);for(z in r)C=r[z],D=a[z],!r.hasOwnProperty(z)||C===D||C===void 0&&D===void 0||vu(e,t,z,C,r,D);return}}for(var k in a)C=a[k],a.hasOwnProperty(k)&&C!=null&&!r.hasOwnProperty(k)&&Ce(e,t,k,null,r,C);for(H in r)C=r[H],D=a[H],!r.hasOwnProperty(H)||C===D||C==null&&D==null||Ce(e,t,H,C,r,D)}function Kf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Qy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var o=a[r],u=o.transferSize,g=o.initiatorType,p=o.duration;if(u&&p&&Kf(g)){for(g=0,p=o.responseEnd,r+=1;r<a.length;r++){var _=a[r],A=_.startTime;if(A>p)break;var z=_.transferSize,H=_.initiatorType;z&&Kf(H)&&(_=_.responseEnd,g+=z*(_<p?1:(p-A)/(_-A)))}if(--r,t+=8*(u+g)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pu=null,bu=null;function Li(e){return e.nodeType===9?e:e.ownerDocument}function Xf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function xu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wu=null;function Py(){var e=window.event;return e&&e.type==="popstate"?e===wu?!1:(wu=e,!0):(wu=null,!1)}var Pf=typeof setTimeout=="function"?setTimeout:void 0,Jy=typeof clearTimeout=="function"?clearTimeout:void 0,Jf=typeof Promise=="function"?Promise:void 0,Zy=typeof queueMicrotask=="function"?queueMicrotask:typeof Jf<"u"?function(e){return Jf.resolve(null).then(e).catch(Iy)}:Pf;function Iy(e){setTimeout(function(){throw e})}function Va(e){return e==="head"}function Zf(e,t){var a=t,r=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(r===0){e.removeChild(o),dr(t);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")fs(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,fs(a);for(var u=a.firstChild;u;){var g=u.nextSibling,p=u.nodeName;u[Cr]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=g}}else a==="body"&&fs(e.ownerDocument.body);a=o}while(a);dr(t)}function If(e,t){var a=e;e=0;do{var r=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=r}while(a)}function _u(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_u(a),Tl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Fy(e,t,a,r){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Cr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Ht(e.nextSibling),e===null)break}return null}function Wy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ht(e.nextSibling),e===null))return null;return e}function Ff(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ht(e.nextSibling),e===null))return null;return e}function Su(e){return e.data==="$?"||e.data==="$~"}function ju(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ev(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var r=function(){t(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Eu=null;function Wf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Ht(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function e0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function t0(e,t,a){switch(t=Li(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function fs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Tl(e)}var $t=new Map,a0=new Set;function qi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wa=q.d;q.d={f:tv,r:av,D:nv,C:rv,L:sv,m:iv,X:ov,S:lv,M:uv};function tv(){var e=wa.f(),t=Ai();return e||t}function av(e){var t=An(e);t!==null&&t.tag===5&&t.type==="form"?ph(t):wa.r(e)}var or=typeof document>"u"?null:document;function n0(e,t,a){var r=or;if(r&&typeof t=="string"&&t){var o=Dt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),a0.has(o)||(a0.add(o),e={rel:e,crossOrigin:a,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),lt(t,"link",e),et(t),r.head.appendChild(t)))}}function nv(e){wa.D(e),n0("dns-prefetch",e,null)}function rv(e,t){wa.C(e,t),n0("preconnect",e,t)}function sv(e,t,a){wa.L(e,t,a);var r=or;if(r&&e&&t){var o='link[rel="preload"][as="'+Dt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Dt(a.imageSizes)+'"]')):o+='[href="'+Dt(e)+'"]';var u=o;switch(t){case"style":u=ur(e);break;case"script":u=cr(e)}$t.has(u)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),$t.set(u,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(gs(u))||t==="script"&&r.querySelector(ms(u))||(t=r.createElement("link"),lt(t,"link",e),et(t),r.head.appendChild(t)))}}function iv(e,t){wa.m(e,t);var a=or;if(a&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Dt(r)+'"][href="'+Dt(e)+'"]',u=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=cr(e)}if(!$t.has(u)&&(e=x({rel:"modulepreload",href:e},t),$t.set(u,e),a.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ms(u)))return}r=a.createElement("link"),lt(r,"link",e),et(r),a.head.appendChild(r)}}}function lv(e,t,a){wa.S(e,t,a);var r=or;if(r&&e){var o=Cn(r).hoistableStyles,u=ur(e);t=t||"default";var g=o.get(u);if(!g){var p={loading:0,preload:null};if(g=r.querySelector(gs(u)))p.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=$t.get(u))&&Tu(e,a);var _=g=r.createElement("link");et(_),lt(_,"link",e),_._p=new Promise(function(A,z){_.onload=A,_.onerror=z}),_.addEventListener("load",function(){p.loading|=1}),_.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Hi(g,t,r)}g={type:"stylesheet",instance:g,count:1,state:p},o.set(u,g)}}}function ov(e,t){wa.X(e,t);var a=or;if(a&&e){var r=Cn(a).hoistableScripts,o=cr(e),u=r.get(o);u||(u=a.querySelector(ms(o)),u||(e=x({src:e,async:!0},t),(t=$t.get(o))&&ku(e,t),u=a.createElement("script"),et(u),lt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function uv(e,t){wa.M(e,t);var a=or;if(a&&e){var r=Cn(a).hoistableScripts,o=cr(e),u=r.get(o);u||(u=a.querySelector(ms(o)),u||(e=x({src:e,async:!0,type:"module"},t),(t=$t.get(o))&&ku(e,t),u=a.createElement("script"),et(u),lt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(o,u))}}function r0(e,t,a,r){var o=(o=le.current)?qi(o):null;if(!o)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ur(a.href),a=Cn(o).hoistableStyles,r=a.get(t),r||(r={type:"style",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ur(a.href);var u=Cn(o).hoistableStyles,g=u.get(e);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,g),(u=o.querySelector(gs(e)))&&!u._p&&(g.instance=u,g.state.loading=5),$t.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$t.set(e,a),u||cv(o,e,a,g.state))),t&&r===null)throw Error(i(528,""));return g}if(t&&r!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=cr(a),a=Cn(o).hoistableScripts,r=a.get(t),r||(r={type:"script",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ur(e){return'href="'+Dt(e)+'"'}function gs(e){return'link[rel="stylesheet"]['+e+"]"}function s0(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function cv(e,t,a,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),lt(t,"link",a),et(t),e.head.appendChild(t))}function cr(e){return'[src="'+Dt(e)+'"]'}function ms(e){return"script[async]"+e}function i0(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Dt(a.href)+'"]');if(r)return t.instance=r,et(r),r;var o=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),et(r),lt(r,"style",o),Hi(r,a.precedence,e),t.instance=r;case"stylesheet":o=ur(a.href);var u=e.querySelector(gs(o));if(u)return t.state.loading|=4,t.instance=u,et(u),u;r=s0(a),(o=$t.get(o))&&Tu(r,o),u=(e.ownerDocument||e).createElement("link"),et(u);var g=u;return g._p=new Promise(function(p,_){g.onload=p,g.onerror=_}),lt(u,"link",r),t.state.loading|=4,Hi(u,a.precedence,e),t.instance=u;case"script":return u=cr(a.src),(o=e.querySelector(ms(u)))?(t.instance=o,et(o),o):(r=a,(o=$t.get(u))&&(r=x({},a),ku(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),et(o),lt(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Hi(r,a.precedence,e));return t.instance}function Hi(e,t,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,u=o,g=0;g<r.length;g++){var p=r[g];if(p.dataset.precedence===t)u=p;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Tu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ku(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var $i=null;function l0(e,t,a){if($i===null){var r=new Map,o=$i=new Map;o.set(a,r)}else o=$i,r=o.get(a),r||(r=new Map,o.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[Cr]||u[nt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var g=u.getAttribute(t)||"";g=e+g;var p=r.get(g);p?p.push(u):r.set(g,[u])}}return r}function o0(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function dv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function u0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function hv(e,t,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=ur(r.href),u=t.querySelector(gs(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Gi.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,et(u);return}u=t.ownerDocument||t,r=s0(r),(o=$t.get(o))&&Tu(r,o),u=u.createElement("link"),et(u);var g=u;g._p=new Promise(function(p,_){g.onload=p,g.onerror=_}),lt(u,"link",r),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Gi.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Nu=0;function fv(e,t){return e.stylesheets&&e.count===0&&Yi(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var r=setTimeout(function(){if(e.stylesheets&&Yi(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Nu===0&&(Nu=62500*Qy());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Yi(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Nu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function Gi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vi=null;function Yi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vi=new Map,t.forEach(gv,e),Vi=null,Gi.call(e))}function gv(e,t){if(!(t.state.loading&4)){var a=Vi.get(e);if(a)var r=a.get(null);else{a=new Map,Vi.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var g=o[u];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),r=g)}r&&a.set(null,r)}o=t.instance,g=o.getAttribute("data-precedence"),u=a.get(g)||r,u===r&&a.set(null,o),a.set(g,o),this.count++,r=Gi.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ys={$$typeof:B,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function mv(e,t,a,r,o,u,g,p,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_l(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_l(0),this.hiddenUpdates=_l(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function c0(e,t,a,r,o,u,g,p,_,A,z,H){return e=new mv(e,t,a,g,_,A,z,H,p),t=1,u===!0&&(t|=24),u=jt(3,null,null,t),e.current=u,u.stateNode=e,t=io(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:r,isDehydrated:a,cache:t},co(u),e}function d0(e){return e?(e=$n,e):$n}function h0(e,t,a,r,o,u){o=d0(o),r.context===null?r.context=o:r.pendingContext=o,r=Ra(t),r.payload={element:a},u=u===void 0?null:u,u!==null&&(r.callback=u),a=Da(e,r,t),a!==null&&(xt(a,e,t),Pr(a,e,t))}function f0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ou(e,t){f0(e,t),(e=e.alternate)&&f0(e,t)}function g0(e){if(e.tag===13||e.tag===31){var t=sn(e,67108864);t!==null&&xt(t,e,67108864),Ou(e,67108864)}}function m0(e){if(e.tag===13||e.tag===31){var t=Ot();t=Sl(t);var a=sn(e,t);a!==null&&xt(a,e,t),Ou(e,t)}}var Ki=!0;function yv(e,t,a,r){var o=T.T;T.T=null;var u=q.p;try{q.p=2,Au(e,t,a,r)}finally{q.p=u,T.T=o}}function vv(e,t,a,r){var o=T.T;T.T=null;var u=q.p;try{q.p=8,Au(e,t,a,r)}finally{q.p=u,T.T=o}}function Au(e,t,a,r){if(Ki){var o=Cu(r);if(o===null)yu(e,t,r,Xi,a),v0(e,r);else if(bv(o,e,t,a,r))r.stopPropagation();else if(v0(e,r),t&4&&-1<pv.indexOf(e)){for(;o!==null;){var u=An(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var g=en(u.pendingLanes);if(g!==0){var p=u;for(p.pendingLanes|=2,p.entangledLanes|=2;g;){var _=1<<31-_t(g);p.entanglements[1]|=_,g&=~_}Wt(u),(je&6)===0&&(Ni=dt()+500,cs(0))}}break;case 31:case 13:p=sn(u,2),p!==null&&xt(p,u,2),Ai(),Ou(u,2)}if(u=Cu(r),u===null&&yu(e,t,r,Xi,a),u===o)break;o=u}o!==null&&r.stopPropagation()}else yu(e,t,r,null,a)}}function Cu(e){return e=Rl(e),Ru(e)}var Xi=null;function Ru(e){if(Xi=null,e=On(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Xi=e,null}function y0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xl()){case Ds:return 2;case Us:return 8;case kn:case wl:return 32;case zs:return 268435456;default:return 32}default:return 32}}var Du=!1,Ya=null,Ka=null,Xa=null,vs=new Map,ps=new Map,Qa=[],pv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v0(e,t){switch(e){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(t.pointerId)}}function bs(e,t,a,r,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:r,nativeEvent:u,targetContainers:[o]},t!==null&&(t=An(t),t!==null&&g0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function bv(e,t,a,r,o){switch(t){case"focusin":return Ya=bs(Ya,e,t,a,r,o),!0;case"dragenter":return Ka=bs(Ka,e,t,a,r,o),!0;case"mouseover":return Xa=bs(Xa,e,t,a,r,o),!0;case"pointerover":var u=o.pointerId;return vs.set(u,bs(vs.get(u)||null,e,t,a,r,o)),!0;case"gotpointercapture":return u=o.pointerId,ps.set(u,bs(ps.get(u)||null,e,t,a,r,o)),!0}return!1}function p0(e){var t=On(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,Cc(e.priority,function(){m0(a)});return}}else if(t===31){if(t=m(a),t!==null){e.blockedOn=t,Cc(e.priority,function(){m0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Cu(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);Cl=r,a.target.dispatchEvent(r),Cl=null}else return t=An(a),t!==null&&g0(t),e.blockedOn=a,!1;t.shift()}return!0}function b0(e,t,a){Qi(e)&&a.delete(t)}function xv(){Du=!1,Ya!==null&&Qi(Ya)&&(Ya=null),Ka!==null&&Qi(Ka)&&(Ka=null),Xa!==null&&Qi(Xa)&&(Xa=null),vs.forEach(b0),ps.forEach(b0)}function Pi(e,t){e.blockedOn===t&&(e.blockedOn=null,Du||(Du=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,xv)))}var Ji=null;function x0(e){Ji!==e&&(Ji=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ji===e&&(Ji=null);for(var t=0;t<e.length;t+=3){var a=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(Ru(r||a)===null)continue;break}var u=An(a);u!==null&&(e.splice(t,3),t-=3,Co(u,{pending:!0,data:o,method:a.method,action:r},r,o))}}))}function dr(e){function t(_){return Pi(_,e)}Ya!==null&&Pi(Ya,e),Ka!==null&&Pi(Ka,e),Xa!==null&&Pi(Xa,e),vs.forEach(t),ps.forEach(t);for(var a=0;a<Qa.length;a++){var r=Qa[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Qa.length&&(a=Qa[0],a.blockedOn===null);)p0(a),a.blockedOn===null&&Qa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var o=a[r],u=a[r+1],g=o[gt]||null;if(typeof u=="function")g||x0(a);else if(g){var p=null;if(u&&u.hasAttribute("formAction")){if(o=u,g=u[gt]||null)p=g.formAction;else if(Ru(o)!==null)continue}else p=g.action;typeof p=="function"?a[r+1]=p:(a.splice(r,3),r-=3),x0(a)}}}function w0(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(g){return o=g})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Uu(e){this._internalRoot=e}Zi.prototype.render=Uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,r=Ot();h0(a,r,e,t,null,null)},Zi.prototype.unmount=Uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;h0(e.current,2,null,e,null,null),Ai(),t[Nn]=null}};function Zi(e){this._internalRoot=e}Zi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ac();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Qa.length&&t!==0&&t<Qa[a].priority;a++);Qa.splice(a,0,e),a===0&&p0(e)}};var _0=n.version;if(_0!=="19.2.0")throw Error(i(527,_0,"19.2.0"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=y(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var wv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ii=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ii.isDisabled&&Ii.supportsFiber)try{Wa=Ii.inject(wv),wt=Ii}catch{}}return ws.createRoot=function(e,t){if(!c(e))throw Error(i(299));var a=!1,r="",o=Nh,u=Oh,g=Ah;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=c0(e,1,!1,null,null,a,r,null,o,u,g,w0),e[Nn]=t.current,mu(e),new Uu(t)},ws.hydrateRoot=function(e,t,a){if(!c(e))throw Error(i(299));var r=!1,o="",u=Nh,g=Oh,p=Ah,_=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError),a.formState!==void 0&&(_=a.formState)),t=c0(e,1,!0,t,a??null,r,o,_,u,g,p,w0),t.context=d0(null),a=t.current,r=Ot(),r=Sl(r),o=Ra(r),o.callback=null,Da(a,o,r),a=r,t.current.lanes=a,Ar(t,a),Wt(t),e[Nn]=t.current,mu(e),new Zi(t)},ws.version="19.2.0",ws}var R0;function Dv(){if(R0)return Bu.exports;R0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Bu.exports=Rv(),Bu.exports}var Uv=Dv();const zv=mc(Uv);var Wu=function(l,n){return Wu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(s[c]=i[c])},Wu(l,n)};function dg(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Wu(l,n);function s(){this.constructor=l}l.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}var cl=function(){return cl=Object.assign||function(n){for(var s,i=1,c=arguments.length;i<c;i++){s=arguments[i];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(n[d]=s[d])}return n},cl.apply(this,arguments)};function _r(l,n){var s={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&n.indexOf(i)<0&&(s[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(l);c<i.length;c++)n.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(l,i[c])&&(s[i[c]]=l[i[c]]);return s}function hg(l,n,s,i){var c=arguments.length,d=c<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,s):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(l,n,s,i);else for(var m=l.length-1;m>=0;m--)(h=l[m])&&(d=(c<3?h(d):c>3?h(n,s,d):h(n,s))||d);return c>3&&d&&Object.defineProperty(n,s,d),d}function fg(l,n){return function(s,i){n(s,i,l)}}function gg(l,n,s,i,c,d){function h(G){if(G!==void 0&&typeof G!="function")throw new TypeError("Function expected");return G}for(var m=i.kind,v=m==="getter"?"get":m==="setter"?"set":"value",y=!n&&l?i.static?l:l.prototype:null,b=n||(y?Object.getOwnPropertyDescriptor(y,i.name):{}),x,w=!1,S=s.length-1;S>=0;S--){var N={};for(var R in i)N[R]=R==="access"?{}:i[R];for(var R in i.access)N.access[R]=i.access[R];N.addInitializer=function(G){if(w)throw new TypeError("Cannot add initializers after decoration has completed");d.push(h(G||null))};var U=(0,s[S])(m==="accessor"?{get:b.get,set:b.set}:b[v],N);if(m==="accessor"){if(U===void 0)continue;if(U===null||typeof U!="object")throw new TypeError("Object expected");(x=h(U.get))&&(b.get=x),(x=h(U.set))&&(b.set=x),(x=h(U.init))&&c.unshift(x)}else(x=h(U))&&(m==="field"?c.unshift(x):b[v]=x)}y&&Object.defineProperty(y,i.name,b),w=!0}function mg(l,n,s){for(var i=arguments.length>2,c=0;c<n.length;c++)s=i?n[c].call(l,s):n[c].call(l);return i?s:void 0}function yg(l){return typeof l=="symbol"?l:"".concat(l)}function vg(l,n,s){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:s?"".concat(s," ",n):n})}function pg(l,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,n)}function ee(l,n,s,i){function c(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function m(b){try{y(i.next(b))}catch(x){h(x)}}function v(b){try{y(i.throw(b))}catch(x){h(x)}}function y(b){b.done?d(b.value):c(b.value).then(m,v)}y((i=i.apply(l,n||[])).next())})}function bg(l,n){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},i,c,d,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=m(0),h.throw=m(1),h.return=m(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(y){return function(b){return v([y,b])}}function v(y){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(s=0)),s;)try{if(i=1,c&&(d=y[0]&2?c.return:y[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,y[1])).done)return d;switch(c=0,d&&(y=[y[0]&2,d.value]),y[0]){case 0:case 1:d=y;break;case 4:return s.label++,{value:y[1],done:!1};case 5:s.label++,c=y[1],y=[0];continue;case 7:y=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(y[0]===6||y[0]===2)){s=0;continue}if(y[0]===3&&(!d||y[1]>d[0]&&y[1]<d[3])){s.label=y[1];break}if(y[0]===6&&s.label<d[1]){s.label=d[1],d=y;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(y);break}d[2]&&s.ops.pop(),s.trys.pop();continue}y=n.call(l,s)}catch(b){y=[6,b],c=0}finally{i=d=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}var ml=Object.create?(function(l,n,s,i){i===void 0&&(i=s);var c=Object.getOwnPropertyDescriptor(n,s);(!c||("get"in c?!n.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return n[s]}}),Object.defineProperty(l,i,c)}):(function(l,n,s,i){i===void 0&&(i=s),l[i]=n[s]});function xg(l,n){for(var s in l)s!=="default"&&!Object.prototype.hasOwnProperty.call(n,s)&&ml(n,l,s)}function dl(l){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&l[n],i=0;if(s)return s.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function vc(l,n){var s=typeof Symbol=="function"&&l[Symbol.iterator];if(!s)return l;var i=s.call(l),c,d=[],h;try{for(;(n===void 0||n-- >0)&&!(c=i.next()).done;)d.push(c.value)}catch(m){h={error:m}}finally{try{c&&!c.done&&(s=i.return)&&s.call(i)}finally{if(h)throw h.error}}return d}function wg(){for(var l=[],n=0;n<arguments.length;n++)l=l.concat(vc(arguments[n]));return l}function _g(){for(var l=0,n=0,s=arguments.length;n<s;n++)l+=arguments[n].length;for(var i=Array(l),c=0,n=0;n<s;n++)for(var d=arguments[n],h=0,m=d.length;h<m;h++,c++)i[c]=d[h];return i}function Sg(l,n,s){if(s||arguments.length===2)for(var i=0,c=n.length,d;i<c;i++)(d||!(i in n))&&(d||(d=Array.prototype.slice.call(n,0,i)),d[i]=n[i]);return l.concat(d||Array.prototype.slice.call(n))}function xr(l){return this instanceof xr?(this.v=l,this):new xr(l)}function jg(l,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=s.apply(l,n||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),c[Symbol.asyncIterator]=function(){return this},c;function h(S){return function(N){return Promise.resolve(N).then(S,x)}}function m(S,N){i[S]&&(c[S]=function(R){return new Promise(function(U,G){d.push([S,R,U,G])>1||v(S,R)})},N&&(c[S]=N(c[S])))}function v(S,N){try{y(i[S](N))}catch(R){w(d[0][3],R)}}function y(S){S.value instanceof xr?Promise.resolve(S.value.v).then(b,x):w(d[0][2],S)}function b(S){v("next",S)}function x(S){v("throw",S)}function w(S,N){S(N),d.shift(),d.length&&v(d[0][0],d[0][1])}}function Eg(l){var n,s;return n={},i("next"),i("throw",function(c){throw c}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(c,d){n[c]=l[c]?function(h){return(s=!s)?{value:xr(l[c](h)),done:!1}:d?d(h):h}:d}}function Tg(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=l[Symbol.asyncIterator],s;return n?n.call(l):(l=typeof dl=="function"?dl(l):l[Symbol.iterator](),s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s);function i(d){s[d]=l[d]&&function(h){return new Promise(function(m,v){h=l[d](h),c(m,v,h.done,h.value)})}}function c(d,h,m,v){Promise.resolve(v).then(function(y){d({value:y,done:m})},h)}}function kg(l,n){return Object.defineProperty?Object.defineProperty(l,"raw",{value:n}):l.raw=n,l}var Mv=Object.create?(function(l,n){Object.defineProperty(l,"default",{enumerable:!0,value:n})}):function(l,n){l.default=n},ec=function(l){return ec=Object.getOwnPropertyNames||function(n){var s=[];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[s.length]=i);return s},ec(l)};function Ng(l){if(l&&l.__esModule)return l;var n={};if(l!=null)for(var s=ec(l),i=0;i<s.length;i++)s[i]!=="default"&&ml(n,l,s[i]);return Mv(n,l),n}function Og(l){return l&&l.__esModule?l:{default:l}}function Ag(l,n,s,i){if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?l!==n||!i:!n.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?i:s==="a"?i.call(l):i?i.value:n.get(l)}function Cg(l,n,s,i,c){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?l!==n||!c:!n.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?c.call(l,s):c?c.value=s:n.set(l,s),s}function Rg(l,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?n===l:l.has(n)}function Dg(l,n,s){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var i,c;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=n[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=n[Symbol.dispose],s&&(c=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");c&&(i=function(){try{c.call(this)}catch(d){return Promise.reject(d)}}),l.stack.push({value:n,dispose:i,async:s})}else s&&l.stack.push({async:!0});return n}var Bv=typeof SuppressedError=="function"?SuppressedError:function(l,n,s){var i=new Error(s);return i.name="SuppressedError",i.error=l,i.suppressed=n,i};function Ug(l){function n(d){l.error=l.hasError?new Bv(d,l.error,"An error was suppressed during disposal."):d,l.hasError=!0}var s,i=0;function c(){for(;s=l.stack.pop();)try{if(!s.async&&i===1)return i=0,l.stack.push(s),Promise.resolve().then(c);if(s.dispose){var d=s.dispose.call(s.value);if(s.async)return i|=2,Promise.resolve(d).then(c,function(h){return n(h),c()})}else i|=1}catch(h){n(h)}if(i===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return c()}function zg(l,n){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,i,c,d,h){return i?n?".jsx":".js":c&&(!d||!h)?s:c+d+"."+h.toLowerCase()+"js"}):l}const Lv={__extends:dg,__assign:cl,__rest:_r,__decorate:hg,__param:fg,__esDecorate:gg,__runInitializers:mg,__propKey:yg,__setFunctionName:vg,__metadata:pg,__awaiter:ee,__generator:bg,__createBinding:ml,__exportStar:xg,__values:dl,__read:vc,__spread:wg,__spreadArrays:_g,__spreadArray:Sg,__await:xr,__asyncGenerator:jg,__asyncDelegator:Eg,__asyncValues:Tg,__makeTemplateObject:kg,__importStar:Ng,__importDefault:Og,__classPrivateFieldGet:Ag,__classPrivateFieldSet:Cg,__classPrivateFieldIn:Rg,__addDisposableResource:Dg,__disposeResources:Ug,__rewriteRelativeImportExtension:zg},qv=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Dg,get __assign(){return cl},__asyncDelegator:Eg,__asyncGenerator:jg,__asyncValues:Tg,__await:xr,__awaiter:ee,__classPrivateFieldGet:Ag,__classPrivateFieldIn:Rg,__classPrivateFieldSet:Cg,__createBinding:ml,__decorate:hg,__disposeResources:Ug,__esDecorate:gg,__exportStar:xg,__extends:dg,__generator:bg,__importDefault:Og,__importStar:Ng,__makeTemplateObject:kg,__metadata:pg,__param:fg,__propKey:yg,__read:vc,__rest:_r,__rewriteRelativeImportExtension:zg,__runInitializers:mg,__setFunctionName:vg,__spread:wg,__spreadArray:Sg,__spreadArrays:_g,__values:dl,default:Lv},Symbol.toStringTag,{value:"Module"})),Hv="modulepreload",$v=function(l){return"/"+l},D0={},Sr=function(n,s,i){let c=Promise.resolve();if(s&&s.length>0){let h=function(y){return Promise.all(y.map(b=>Promise.resolve(b).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),v=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));c=h(s.map(y=>{if(y=$v(y),y in D0)return;D0[y]=!0;const b=y.endsWith(".css"),x=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${x}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":Hv,b||(w.as="script"),w.crossOrigin="",w.href=y,v&&w.setAttribute("nonce",v),document.head.appendChild(w),b)return new Promise((S,N)=>{w.addEventListener("load",S),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${y}`)))})}))}function d(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return c.then(h=>{for(const m of h||[])m.status==="rejected"&&d(m.reason);return n().catch(d)})},Gv=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...s)=>Sr(async()=>{const{default:i}=await Promise.resolve().then(()=>En);return{default:i}},void 0).then(({default:i})=>i(...s)):n=fetch,(...s)=>n(...s)};class pc extends Error{constructor(n,s="FunctionsError",i){super(n),this.name=s,this.context=i}}class U0 extends pc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class z0 extends pc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class M0 extends pc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var tc;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(tc||(tc={}));class Vv{constructor(n,{headers:s={},customFetch:i,region:c=tc.Any}={}){this.url=n,this.headers=s,this.region=c,this.fetch=Gv(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return ee(this,arguments,void 0,function*(s,i={}){var c;try{const{headers:d,method:h,body:m,signal:v}=i;let y={},{region:b}=i;b||(b=this.region);const x=new URL(`${this.url}/${s}`);b&&b!=="any"&&(y["x-region"]=b,x.searchParams.set("forceFunctionRegion",b));let w;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",w=m):typeof m=="string"?(y["Content-Type"]="text/plain",w=m):typeof FormData<"u"&&m instanceof FormData?w=m:(y["Content-Type"]="application/json",w=JSON.stringify(m)):w=m;const S=yield this.fetch(x.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),d),body:w,signal:v}).catch(G=>{throw G.name==="AbortError"?G:new U0(G)}),N=S.headers.get("x-relay-error");if(N&&N==="true")throw new z0(S);if(!S.ok)throw new M0(S);let R=((c=S.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),U;return R==="application/json"?U=yield S.json():R==="application/octet-stream"||R==="application/pdf"?U=yield S.blob():R==="text/event-stream"?U=S:R==="multipart/form-data"?U=yield S.formData():U=yield S.text(),{data:U,error:null,response:S}}catch(d){return d instanceof Error&&d.name==="AbortError"?{data:null,error:new U0(d)}:{data:null,error:d,response:d instanceof M0||d instanceof z0?d.context:void 0}}})}}var ct={};const jr=cg(qv);var Fi={},Wi={},el={},tl={},al={},Yv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wr=Yv();const Kv=wr.fetch,Mg=wr.fetch.bind(wr),Bg=wr.Headers,Xv=wr.Request,Qv=wr.Response,En=Object.freeze(Object.defineProperty({__proto__:null,Headers:Bg,Request:Xv,Response:Qv,default:Mg,fetch:Kv},Symbol.toStringTag,{value:"Module"})),Pv=cg(En);var nl={},B0;function Lg(){if(B0)return nl;B0=1,Object.defineProperty(nl,"__esModule",{value:!0});class l extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return nl.default=l,nl}var L0;function qg(){if(L0)return al;L0=1,Object.defineProperty(al,"__esModule",{value:!0});const l=jr,n=l.__importDefault(Pv),s=l.__importDefault(Lg());class i{constructor(d){var h,m;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(h=d.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=d.signal,this.isMaybeSingle=(m=d.isMaybeSingle)!==null&&m!==void 0?m:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,h){return this.headers=new Headers(this.headers),this.headers.set(d,h),this}then(d,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let v=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var b,x,w,S;let N=null,R=null,U=null,G=y.status,$=y.statusText;if(y.ok){if(this.method!=="HEAD"){const I=await y.text();I===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((b=this.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?R=I:R=JSON.parse(I))}const J=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),Q=(w=y.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");J&&Q&&Q.length>1&&(U=parseInt(Q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(N={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,U=null,G=406,$="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const J=await y.text();try{N=JSON.parse(J),Array.isArray(N)&&y.status===404&&(R=[],N=null,G=200,$="OK")}catch{y.status===404&&J===""?(G=204,$="No Content"):N={message:J}}if(N&&this.isMaybeSingle&&(!((S=N==null?void 0:N.details)===null||S===void 0)&&S.includes("0 rows"))&&(N=null,G=200,$="OK"),N&&this.shouldThrowOnError)throw new s.default(N)}return{error:N,data:R,count:U,status:G,statusText:$}});return this.shouldThrowOnError||(v=v.catch(y=>{var b,x,w;return{error:{message:`${(b=y==null?void 0:y.name)!==null&&b!==void 0?b:"FetchError"}: ${y==null?void 0:y.message}`,details:`${(x=y==null?void 0:y.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(w=y==null?void 0:y.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),v.then(d,h)}returns(){return this}overrideTypes(){return this}}return al.default=i,al}var q0;function Hg(){if(q0)return tl;q0=1,Object.defineProperty(tl,"__esModule",{value:!0});const n=jr.__importDefault(qg());class s extends n.default{select(c){let d=!1;const h=(c??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:d=!0,nullsFirst:h,foreignTable:m,referencedTable:v=m}={}){const y=v?`${v}.order`:"order",b=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${b?`${b},`:""}${c}.${d?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:h=d}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,d,{foreignTable:h,referencedTable:m=h}={}){const v=typeof m>"u"?"offset":`${m}.offset`,y=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(v,`${c}`),this.url.searchParams.set(y,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:d=!1,settings:h=!1,buffers:m=!1,wal:v=!1,format:y="text"}={}){var b;const x=[c?"analyze":null,d?"verbose":null,h?"settings":null,m?"buffers":null,v?"wal":null].filter(Boolean).join("|"),w=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${w}"; options=${x};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}}return tl.default=s,tl}var H0;function bc(){if(H0)return el;H0=1,Object.defineProperty(el,"__esModule",{value:!0});const n=jr.__importDefault(Hg()),s=new RegExp("[,()]");class i extends n.default{eq(d,h){return this.url.searchParams.append(d,`eq.${h}`),this}neq(d,h){return this.url.searchParams.append(d,`neq.${h}`),this}gt(d,h){return this.url.searchParams.append(d,`gt.${h}`),this}gte(d,h){return this.url.searchParams.append(d,`gte.${h}`),this}lt(d,h){return this.url.searchParams.append(d,`lt.${h}`),this}lte(d,h){return this.url.searchParams.append(d,`lte.${h}`),this}like(d,h){return this.url.searchParams.append(d,`like.${h}`),this}likeAllOf(d,h){return this.url.searchParams.append(d,`like(all).{${h.join(",")}}`),this}likeAnyOf(d,h){return this.url.searchParams.append(d,`like(any).{${h.join(",")}}`),this}ilike(d,h){return this.url.searchParams.append(d,`ilike.${h}`),this}ilikeAllOf(d,h){return this.url.searchParams.append(d,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(d,h){return this.url.searchParams.append(d,`ilike(any).{${h.join(",")}}`),this}is(d,h){return this.url.searchParams.append(d,`is.${h}`),this}in(d,h){const m=Array.from(new Set(h)).map(v=>typeof v=="string"&&s.test(v)?`"${v}"`:`${v}`).join(",");return this.url.searchParams.append(d,`in.(${m})`),this}contains(d,h){return typeof h=="string"?this.url.searchParams.append(d,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(d,`cs.{${h.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(h)}`),this}containedBy(d,h){return typeof h=="string"?this.url.searchParams.append(d,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(d,`cd.{${h.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(h)}`),this}rangeGt(d,h){return this.url.searchParams.append(d,`sr.${h}`),this}rangeGte(d,h){return this.url.searchParams.append(d,`nxl.${h}`),this}rangeLt(d,h){return this.url.searchParams.append(d,`sl.${h}`),this}rangeLte(d,h){return this.url.searchParams.append(d,`nxr.${h}`),this}rangeAdjacent(d,h){return this.url.searchParams.append(d,`adj.${h}`),this}overlaps(d,h){return typeof h=="string"?this.url.searchParams.append(d,`ov.${h}`):this.url.searchParams.append(d,`ov.{${h.join(",")}}`),this}textSearch(d,h,{config:m,type:v}={}){let y="";v==="plain"?y="pl":v==="phrase"?y="ph":v==="websearch"&&(y="w");const b=m===void 0?"":`(${m})`;return this.url.searchParams.append(d,`${y}fts${b}.${h}`),this}match(d){return Object.entries(d).forEach(([h,m])=>{this.url.searchParams.append(h,`eq.${m}`)}),this}not(d,h,m){return this.url.searchParams.append(d,`not.${h}.${m}`),this}or(d,{foreignTable:h,referencedTable:m=h}={}){const v=m?`${m}.or`:"or";return this.url.searchParams.append(v,`(${d})`),this}filter(d,h,m){return this.url.searchParams.append(d,`${h}.${m}`),this}}return el.default=i,el}var $0;function $g(){if($0)return Wi;$0=1,Object.defineProperty(Wi,"__esModule",{value:!0});const n=jr.__importDefault(bc());class s{constructor(c,{headers:d={},schema:h,fetch:m}){this.url=c,this.headers=new Headers(d),this.schema=h,this.fetch=m}select(c,d){const{head:h=!1,count:m}=d??{},v=h?"HEAD":"GET";let y=!1;const b=(c??"*").split("").map(x=>/\s/.test(x)&&!y?"":(x==='"'&&(y=!y),x)).join("");return this.url.searchParams.set("select",b),m&&this.headers.append("Prefer",`count=${m}`),new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:d,defaultToNull:h=!0}={}){var m;const v="POST";if(d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const y=c.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(y.length>0){const b=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:d,ignoreDuplicates:h=!1,count:m,defaultToNull:v=!0}={}){var y;const b="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),m&&this.headers.append("Prefer",`count=${m}`),v||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const x=c.reduce((w,S)=>w.concat(Object.keys(S)),[]);if(x.length>0){const w=[...new Set(x)].map(S=>`"${S}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(c,{count:d}={}){var h;const m="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:c}={}){var d;const h="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Wi.default=s,Wi}var G0;function Jv(){if(G0)return Fi;G0=1,Object.defineProperty(Fi,"__esModule",{value:!0});const l=jr,n=l.__importDefault($g()),s=l.__importDefault(bc());class i{constructor(d,{headers:h={},schema:m,fetch:v}={}){this.url=d,this.headers=new Headers(h),this.schemaName=m,this.fetch=v}from(d){const h=new URL(`${this.url}/${d}`);return new n.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new i(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:m=!1,get:v=!1,count:y}={}){var b;let x;const w=new URL(`${this.url}/rpc/${d}`);let S;m||v?(x=m?"HEAD":"GET",Object.entries(h).filter(([R,U])=>U!==void 0).map(([R,U])=>[R,Array.isArray(U)?`{${U.join(",")}}`:`${U}`]).forEach(([R,U])=>{w.searchParams.append(R,U)})):(x="POST",S=h);const N=new Headers(this.headers);return y&&N.set("Prefer",`count=${y}`),new s.default({method:x,url:w,headers:N,schema:this.schemaName,body:S,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}}return Fi.default=i,Fi}var V0;function Zv(){if(V0)return ct;V0=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.PostgrestError=ct.PostgrestBuilder=ct.PostgrestTransformBuilder=ct.PostgrestFilterBuilder=ct.PostgrestQueryBuilder=ct.PostgrestClient=void 0;const l=jr,n=l.__importDefault(Jv());ct.PostgrestClient=n.default;const s=l.__importDefault($g());ct.PostgrestQueryBuilder=s.default;const i=l.__importDefault(bc());ct.PostgrestFilterBuilder=i.default;const c=l.__importDefault(Hg());ct.PostgrestTransformBuilder=c.default;const d=l.__importDefault(qg());ct.PostgrestBuilder=d.default;const h=l.__importDefault(Lg());return ct.PostgrestError=h.default,ct.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:h.default},ct}var Gg=Zv();const Vg=mc(Gg),Iv=Sv({__proto__:null,default:Vg},[Gg]),{PostgrestClient:Fv,PostgrestQueryBuilder:Jx,PostgrestFilterBuilder:Zx,PostgrestTransformBuilder:Ix,PostgrestBuilder:Fx,PostgrestError:Wx}=Vg||Iv;class Wv{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,c=parseInt(i.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const i=this.getWebSocketConstructor();return new i(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const ep="2.78.0",tp=`realtime-js/${ep}`,ap="1.0.0",ac=1e4,np=1e3,rp=100;var js;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(js||(js={}));var Fe;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Fe||(Fe={}));var Pt;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Pt||(Pt={}));var nc;(function(l){l.websocket="websocket"})(nc||(nc={}));var _n;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(_n||(_n={}));class sp{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,s,i)}_decodeBroadcast(n,s,i){const c=s.getUint8(1),d=s.getUint8(2);let h=this.HEADER_LENGTH+2;const m=i.decode(n.slice(h,h+c));h=h+c;const v=i.decode(n.slice(h,h+d));h=h+d;const y=JSON.parse(i.decode(n.slice(h,n.byteLength)));return{ref:null,topic:m,event:v,payload:y}}}class Yg{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Ue||(Ue={}));const Y0=(l,n,s={})=>{var i;const c=(i=s.skipTypes)!==null&&i!==void 0?i:[];return n?Object.keys(n).reduce((d,h)=>(d[h]=ip(h,l,n,c),d),{}):{}},ip=(l,n,s,i)=>{const c=n.find(m=>m.name===l),d=c==null?void 0:c.type,h=s[l];return d&&!i.includes(d)?Kg(d,h):rc(h)},Kg=(l,n)=>{if(l.charAt(0)==="_"){const s=l.slice(1,l.length);return cp(n,s)}switch(l){case Ue.bool:return lp(n);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return op(n);case Ue.json:case Ue.jsonb:return up(n);case Ue.timestamp:return dp(n);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return rc(n);default:return rc(n)}},rc=l=>l,lp=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},op=l=>{if(typeof l=="string"){const n=parseFloat(l);if(!Number.isNaN(n))return n}return l},up=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(n){return console.log(`JSON parse error: ${n}`),l}return l},cp=(l,n)=>{if(typeof l!="string")return l;const s=l.length-1,i=l[s];if(l[0]==="{"&&i==="}"){let d;const h=l.slice(1,s);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(m=>Kg(n,m))}return l},dp=l=>typeof l=="string"?l.replace(" ","T"):l,Xg=l=>{const n=new URL(l);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class $u{constructor(n,s,i={},c=ac){this.channel=n,this.event=s,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var i;return this._hasReceived(n)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var K0;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(K0||(K0={}));class Es{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Es.syncState(this.state,c,d,h),this.pendingDiffs.forEach(v=>{this.state=Es.syncDiff(this.state,v,d,h)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},c=>{const{onJoin:d,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Es.syncDiff(this.state,c,d,h),m())}),this.onJoin((c,d,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:h})}),this.onLeave((c,d,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,i,c){const d=this.cloneDeep(n),h=this.transformState(s),m={},v={};return this.map(d,(y,b)=>{h[y]||(v[y]=b)}),this.map(h,(y,b)=>{const x=d[y];if(x){const w=b.map(U=>U.presence_ref),S=x.map(U=>U.presence_ref),N=b.filter(U=>S.indexOf(U.presence_ref)<0),R=x.filter(U=>w.indexOf(U.presence_ref)<0);N.length>0&&(m[y]=N),R.length>0&&(v[y]=R)}else m[y]=b}),this.syncDiff(d,{joins:m,leaves:v},i,c)}static syncDiff(n,s,i,c){const{joins:d,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(d,(m,v)=>{var y;const b=(y=n[m])!==null&&y!==void 0?y:[];if(n[m]=this.cloneDeep(v),b.length>0){const x=n[m].map(S=>S.presence_ref),w=b.filter(S=>x.indexOf(S.presence_ref)<0);n[m].unshift(...w)}i(m,b,v)}),this.map(h,(m,v)=>{let y=n[m];if(!y)return;const b=v.map(x=>x.presence_ref);y=y.filter(x=>b.indexOf(x.presence_ref)<0),n[m]=y,c(m,y,v),y.length===0&&delete n[m]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(i=>s(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,i)=>{const c=n[i];return"metas"in c?s[i]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[i]=c,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var X0;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(X0||(X0={}));var Ts;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Ts||(Ts={}));var _a;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(_a||(_a={}));class xc{constructor(n,s={config:{}},i){var c,d;if(this.topic=n,this.params=s,this.socket=i,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new $u(this,Pt.join,this.params,this.timeout),this.rejoinTimer=new Yg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pt.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new Es(this),this.broadcastEndpointURL=Xg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var i,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){const{config:{broadcast:h,presence:m,private:v}}=this.params,y=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[Ts.PRESENCE]&&this.bindings[Ts.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,x={},w={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:y,private:v};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(S=>n==null?void 0:n(_a.CHANNEL_ERROR,S)),this._onClose(()=>n==null?void 0:n(_a.CLOSED)),this.updateJoinPayload(Object.assign({config:w},x)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:S})=>{var N;if(this.socket.setAuth(),S===void 0){n==null||n(_a.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,U=(N=R==null?void 0:R.length)!==null&&N!==void 0?N:0,G=[];for(let $=0;$<U;$++){const B=R[$],{filter:{event:J,schema:Q,table:I,filter:P}}=B,he=S&&S[$];if(he&&he.event===J&&he.schema===Q&&he.table===I&&he.filter===P)G.push(Object.assign(Object.assign({},B),{id:he.id}));else{this.unsubscribe(),this.state=Fe.errored,n==null||n(_a.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=G,n&&n(_a.SUBSCRIBED);return}}).receive("error",S=>{this.state=Fe.errored,n==null||n(_a.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(_a.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,i){return this.state===Fe.joined&&n===Ts.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,s,i)}async httpSend(n,s,i={}){var c;const d=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:d,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=i.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let v=m.statusText;try{const y=await m.json();v=y.error||y.message||v}catch{}return Promise.reject(new Error(v))}async send(n,s={}){var i,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:h}=n,v={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,m,v;const y=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((v=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||v===void 0)&&v.ack)&&d("ok"),y.receive("ok",()=>d("ok")),y.receive("error",()=>d("error")),y.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Fe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new $u(this,Pt.leave,{},n),i.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}async _fetchWithTimeout(n,s,i){const c=new AbortController,d=setTimeout(()=>c.abort(),i),h=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(d),h}_push(n,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new $u(this,n,s,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>rp){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,i){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,i){var c,d;const h=n.toLocaleLowerCase(),{close:m,error:v,leave:y,join:b}=Pt;if(i&&[m,v,y,b].indexOf(h)>=0&&i!==this._joinRef())return;let w=this._onMessage(h,s,i);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(S=>{var N,R,U;return((N=S.filter)===null||N===void 0?void 0:N.event)==="*"||((U=(R=S.filter)===null||R===void 0?void 0:R.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===h}).map(S=>S.callback(w,i)):(d=this.bindings[h])===null||d===void 0||d.filter(S=>{var N,R,U,G,$,B;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in S){const J=S.id,Q=(N=S.filter)===null||N===void 0?void 0:N.event;return J&&((R=s.ids)===null||R===void 0?void 0:R.includes(J))&&(Q==="*"||(Q==null?void 0:Q.toLocaleLowerCase())===((U=s.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))}else{const J=($=(G=S==null?void 0:S.filter)===null||G===void 0?void 0:G.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return J==="*"||J===((B=s==null?void 0:s.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===h}).map(S=>{if(typeof w=="object"&&"ids"in w){const N=w.data,{schema:R,table:U,commit_timestamp:G,type:$,errors:B}=N;w=Object.assign(Object.assign({},{schema:R,table:U,commit_timestamp:G,eventType:$,new:{},old:{},errors:B}),this._getPayloadRecords(N))}S.callback(w,i)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,i){const c=n.toLocaleLowerCase(),d={type:c,filter:s,callback:i};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(n,s){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===i&&xc.isEqual(c.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const i in n)if(n[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Pt.close,{},n)}_onError(n){this._on(Pt.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=Y0(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=Y0(n.columns,n.old_record)),s}}const Gu=()=>{},rl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hp=[1e3,2e3,5e3,1e4],fp=1e4,gp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mp{constructor(n,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ac,this.transport=null,this.heartbeatIntervalMs=rl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gu,this.ref=0,this.reconnectTimer=null,this.logger=Gu,this.conn=null,this.sendBuffer=[],this.serializer=new sp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let d;return c?d=c:typeof fetch>"u"?d=(...h)=>Sr(async()=>{const{default:m}=await Promise.resolve().then(()=>En);return{default:m}},void 0).then(({default:m})=>m(...h)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...h)=>d(...h)},!(!((i=s==null?void 0:s.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${nc.websocket}`,this.httpEndpoint=Xg(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Wv.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ap}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},n?this.conn.close(n,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,i){this.logger(n,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case js.connecting:return _n.Connecting;case js.open:return _n.Open;case js.closing:return _n.Closing;default:return _n.Closed}}isConnected(){return this.connectionState()===_n.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const i=`realtime:${n}`,c=this.getChannels().find(d=>d.topic===i);if(c)return c;{const d=new xc(`realtime:${n}`,s,this);return this.channels.push(d),d}}push(n){const{topic:s,event:i,payload:c,ref:d}=n,h=()=>{this.encode(n,m=>{var v;(v=this.conn)===null||v===void 0||v.send(m)})};this.log("push",`${s} ${i} (${d})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(np,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},rl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:c,payload:d,ref:h}=s,m=h?`(${h})`:"",v=d.status||"";this.log("receive",`${v} ${i} ${c} ${m}`.trim(),d),this.channels.filter(y=>y._isMember(i)).forEach(y=>y._trigger(c,d,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Pt.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const i=n.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${n}${i}${c}`}_workerObjectUrl(n){let s;if(n)s=n;else{const i=new Blob([gp],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s;n?s=n:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const c={access_token:s,version:tp};s&&i.updateJoinPayload(c),i.joinedOnce&&i._isJoined()&&i._push(Pt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(s)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Yg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},rl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,i,c,d,h,m,v,y,b;if(this.transport=(s=n==null?void 0:n.transport)!==null&&s!==void 0?s:null,this.timeout=(i=n==null?void 0:n.timeout)!==null&&i!==void 0?i:ac,this.heartbeatIntervalMs=(c=n==null?void 0:n.heartbeatIntervalMs)!==null&&c!==void 0?c:rl.HEARTBEAT_INTERVAL,this.worker=(d=n==null?void 0:n.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=n==null?void 0:n.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=n==null?void 0:n.heartbeatCallback)!==null&&m!==void 0?m:Gu,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=n==null?void 0:n.reconnectAfterMs)!==null&&v!==void 0?v:(x=>hp[x-1]||fp),this.encode=(y=n==null?void 0:n.encode)!==null&&y!==void 0?y:((x,w)=>w(JSON.stringify(x))),this.decode=(b=n==null?void 0:n.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}class wc extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function He(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class yp extends wc{constructor(n,s,i){super(n),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sc extends wc{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}const _c=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...s)=>Sr(async()=>{const{default:i}=await Promise.resolve().then(()=>En);return{default:i}},void 0).then(({default:i})=>i(...s)):n=fetch,(...s)=>n(...s)},vp=()=>ee(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sr(()=>Promise.resolve().then(()=>En),void 0)).Response:Response}),ic=l=>{if(Array.isArray(l))return l.map(s=>ic(s));if(typeof l=="function"||l!==Object(l))return l;const n={};return Object.entries(l).forEach(([s,i])=>{const c=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[c]=ic(i)}),n},pp=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Vu=l=>{var n;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(n=l.error)===null||n===void 0?void 0:n.message)||JSON.stringify(l)},bp=(l,n,s)=>ee(void 0,void 0,void 0,function*(){const i=yield vp();l instanceof i&&!(s!=null&&s.noResolveJson)?l.json().then(c=>{const d=l.status||500,h=(c==null?void 0:c.statusCode)||d+"";n(new yp(Vu(c),d,h))}).catch(c=>{n(new sc(Vu(c),c))}):n(new sc(Vu(l),l))}),xp=(l,n,s,i)=>{const c={method:l,headers:(n==null?void 0:n.headers)||{}};return l==="GET"||!i?c:(pp(i)?(c.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(i)):c.body=i,n!=null&&n.duplex&&(c.duplex=n.duplex),Object.assign(Object.assign({},c),s))};function Cs(l,n,s,i,c,d){return ee(this,void 0,void 0,function*(){return new Promise((h,m)=>{l(s,xp(n,i,c,d)).then(v=>{if(!v.ok)throw v;return i!=null&&i.noResolveJson?v:v.json()}).then(v=>h(v)).catch(v=>bp(v,m,i))})})}function ks(l,n,s,i){return ee(this,void 0,void 0,function*(){return Cs(l,"GET",n,s,i)})}function Qt(l,n,s,i,c){return ee(this,void 0,void 0,function*(){return Cs(l,"POST",n,i,c,s)})}function lc(l,n,s,i,c){return ee(this,void 0,void 0,function*(){return Cs(l,"PUT",n,i,c,s)})}function wp(l,n,s,i){return ee(this,void 0,void 0,function*(){return Cs(l,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function Sc(l,n,s,i,c){return ee(this,void 0,void 0,function*(){return Cs(l,"DELETE",n,i,c,s)})}class _p{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s}then(n,s){return this.execute().then(n,s)}execute(){return ee(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}}var Qg;class Sp{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s,this[Qg]="BlobDownloadBuilder",this.promise=null}asStream(){return new _p(this.downloadFn,this.shouldThrowOnError)}then(n,s){return this.getPromise().then(n,s)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ee(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}}Qg=Symbol.toStringTag;const jp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Q0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ep{constructor(n,s={},i,c){this.shouldThrowOnError=!1,this.url=n,this.headers=s,this.bucketId=i,this.fetch=_c(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,s,i,c){return ee(this,void 0,void 0,function*(){try{let d;const h=Object.assign(Object.assign({},Q0),c);let m=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const v=h.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),v&&d.append("metadata",this.encodeMetadata(v)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.append("cacheControl",h.cacheControl),v&&d.append("metadata",this.encodeMetadata(v))):(d=i,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,v&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(v)))),c!=null&&c.headers&&(m=Object.assign(Object.assign({},m),c.headers));const y=this._removeEmptyFolders(s),b=this._getFinalPath(y),x=yield(n=="PUT"?lc:Qt)(this.fetch,`${this.url}/object/${b}`,d,Object.assign({headers:m},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:x.Id,fullPath:x.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(He(d))return{data:null,error:d};throw d}})}upload(n,s,i){return ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,i)})}uploadToSignedUrl(n,s,i,c){return ee(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",s);try{let v;const y=Object.assign({upsert:Q0.upsert},c),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&i instanceof Blob?(v=new FormData,v.append("cacheControl",y.cacheControl),v.append("",i)):typeof FormData<"u"&&i instanceof FormData?(v=i,v.append("cacheControl",y.cacheControl)):(v=i,b["cache-control"]=`max-age=${y.cacheControl}`,b["content-type"]=y.contentType);const x=yield lc(this.fetch,m.toString(),v,{headers:b});return{data:{path:d,fullPath:x.Key},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(He(v))return{data:null,error:v};throw v}})}createSignedUploadUrl(n,s){return ee(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const c=Object.assign({},this.headers);s!=null&&s.upsert&&(c["x-upsert"]="true");const d=yield Qt(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:c}),h=new URL(this.url+d.url),m=h.searchParams.get("token");if(!m)throw new wc("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:m},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(He(i))return{data:null,error:i};throw i}})}update(n,s,i){return ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,i)})}move(n,s,i){return ee(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(He(c))return{data:null,error:c};throw c}})}copy(n,s,i){return ee(this,void 0,void 0,function*(){try{return{data:{path:(yield Qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(He(c))return{data:null,error:c};throw c}})}createSignedUrl(n,s,i){return ee(this,void 0,void 0,function*(){try{let c=this._getFinalPath(n),d=yield Qt(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:s},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const h=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${h}`)},{data:d,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(He(c))return{data:null,error:c};throw c}})}createSignedUrls(n,s,i){return ee(this,void 0,void 0,function*(){try{const c=yield Qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),d=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${d}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(He(c))return{data:null,error:c};throw c}})}download(n,s){const c=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),h=d?`?${d}`:"",m=this._getFinalPath(n),v=()=>ks(this.fetch,`${this.url}/${c}/${m}${h}`,{headers:this.headers,noResolveJson:!0});return new Sp(v,this.shouldThrowOnError)}info(n){return ee(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const i=yield ks(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:ic(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(He(i))return{data:null,error:i};throw i}})}exists(n){return ee(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield wp(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(He(i)&&i instanceof sc){const c=i.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,s){const i=this._getFinalPath(n),c=[],d=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";d!==""&&c.push(d);const m=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",v=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});v!==""&&c.push(v);let y=c.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${y}`)}}}remove(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Sc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}list(n,s,i){return ee(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},jp),s),{prefix:n||""});return{data:yield Qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},i),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(He(c))return{data:null,error:c};throw c}})}listV2(n,s){return ee(this,void 0,void 0,function*(){try{const i=Object.assign({},n);return{data:yield Qt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(He(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const Pg="2.78.0",Jg={"X-Client-Info":`storage-js/${Pg}`};class Tp{constructor(n,s={},i,c){this.shouldThrowOnError=!1;const d=new URL(n);c!=null&&c.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jg),s),this.fetch=_c(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return ee(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(n);return{data:yield ks(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}getBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}createBucket(n){return ee(this,arguments,void 0,function*(s,i={public:!1}){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(He(c))return{data:null,error:c};throw c}})}updateBucket(n,s){return ee(this,void 0,void 0,function*(){try{return{data:yield lc(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(He(i))return{data:null,error:i};throw i}})}emptyBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}deleteBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Sc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(n){const s={};return n&&("limit"in n&&(s.limit=String(n.limit)),"offset"in n&&(s.offset=String(n.offset)),n.search&&(s.search=n.search),n.sortColumn&&(s.sortColumn=n.sortColumn),n.sortOrder&&(s.sortOrder=n.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}class kp{constructor(n,s={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jg),s),this.fetch=_c(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}listBuckets(n){return ee(this,void 0,void 0,function*(){try{const s=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&s.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&s.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&s.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&s.set("sortOrder",n.sortOrder),n!=null&&n.search&&s.set("search",n.search);const i=s.toString(),c=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield ks(this.fetch,c,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}deleteBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Sc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}}const jc={"X-Client-Info":`storage-js/${Pg}`,"Content-Type":"application/json"};class Zg extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function At(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class Yu extends Zg{constructor(n,s,i){super(n),this.name="StorageVectorsApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Np extends Zg{constructor(n,s){super(n),this.name="StorageVectorsUnknownError",this.originalError=s}}var P0;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(P0||(P0={}));const Ec=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...s)=>Sr(async()=>{const{default:i}=await Promise.resolve().then(()=>En);return{default:i}},void 0).then(({default:i})=>i(...s)):n=fetch,(...s)=>n(...s)},Op=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},J0=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Ap=(l,n,s)=>ee(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!(s!=null&&s.noResolveJson)){const c=l.status||500,d=l;if(typeof d.json=="function")d.json().then(h=>{const m=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||c+"";n(new Yu(J0(h),c,m))}).catch(()=>{const h=c+"",m=d.statusText||`HTTP ${c} error`;n(new Yu(m,c,h))});else{const h=c+"",m=d.statusText||`HTTP ${c} error`;n(new Yu(m,c,h))}}else n(new Np(J0(l),l))}),Cp=(l,n,s,i)=>{const c={method:l,headers:(n==null?void 0:n.headers)||{}};return i?(Op(i)?(c.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(i)):c.body=i,Object.assign(Object.assign({},c),s)):c};function Rp(l,n,s,i,c,d){return ee(this,void 0,void 0,function*(){return new Promise((h,m)=>{l(s,Cp(n,i,c,d)).then(v=>{if(!v.ok)throw v;if(i!=null&&i.noResolveJson)return v;const y=v.headers.get("content-type");return!y||!y.includes("application/json")?{}:v.json()}).then(v=>h(v)).catch(v=>Ap(v,m,i))})})}function Ct(l,n,s,i,c){return ee(this,void 0,void 0,function*(){return Rp(l,"POST",n,i,c,s)})}class Dp{constructor(n,s={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jc),s),this.fetch=Ec(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return ee(this,void 0,void 0,function*(){try{return{data:(yield Ct(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}})}getIndex(n,s){return ee(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}listIndexes(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}})}deleteIndex(n,s){return ee(this,void 0,void 0,function*(){try{return{data:(yield Ct(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}}class Up{constructor(n,s={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jc),s),this.fetch=Ec(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return ee(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ct(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}})}getVectors(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}})}listVectors(n){return ee(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield Ct(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}})}queryVectors(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}})}deleteVectors(n){return ee(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ct(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}})}}class zp{constructor(n,s={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},jc),s),this.fetch=Ec(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:(yield Ct(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}})}getBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}})}listBuckets(){return ee(this,arguments,void 0,function*(n={}){try{return{data:yield Ct(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}})}deleteBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:(yield Ct(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}})}}class Mp extends zp{constructor(n,s={}){super(n,s.headers||{},s.fetch)}from(n){return new Bp(this.url,this.headers,n,this.fetch)}}class Bp extends Dp{constructor(n,s,i,c){super(n,s,c),this.vectorBucketName=i}createIndex(n){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ee(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ee(this,arguments,void 0,function*(s={}){return n.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ee(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ee(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new Lp(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class Lp extends Up{constructor(n,s,i,c,d){super(n,s,d),this.vectorBucketName=i,this.indexName=c}putVectors(n){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ee(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ee(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ee(this,arguments,void 0,function*(s={}){return n.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ee(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ee(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class qp extends Tp{constructor(n,s={},i,c){super(n,s,i,c)}from(n){return new Ep(this.url,this.headers,n,this.fetch)}get vectors(){return new Mp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new kp(this.url+"/iceberg",this.headers,this.fetch)}}const Hp="2.78.0";let Ss="";typeof Deno<"u"?Ss="deno":typeof document<"u"?Ss="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ss="react-native":Ss="node";const $p={"X-Client-Info":`supabase-js-${Ss}/${Hp}`},Gp={headers:$p},Vp={schema:"public"},Yp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Kp={},Xp=l=>{let n;return l?n=l:typeof fetch>"u"?n=Mg:n=fetch,(...s)=>n(...s)},Qp=()=>typeof Headers>"u"?Bg:Headers,Pp=(l,n,s)=>{const i=Xp(s),c=Qp();return async(d,h)=>{var m;const v=(m=await n())!==null&&m!==void 0?m:l;let y=new c(h==null?void 0:h.headers);return y.has("apikey")||y.set("apikey",l),y.has("Authorization")||y.set("Authorization",`Bearer ${v}`),i(d,Object.assign(Object.assign({},h),{headers:y}))}};function Jp(l){return l.endsWith("/")?l:l+"/"}function Zp(l,n){var s,i;const{db:c,auth:d,realtime:h,global:m}=l,{db:v,auth:y,realtime:b,global:x}=n,w={db:Object.assign(Object.assign({},v),c),auth:Object.assign(Object.assign({},y),d),realtime:Object.assign(Object.assign({},b),h),storage:{},global:Object.assign(Object.assign(Object.assign({},x),m),{headers:Object.assign(Object.assign({},(s=x==null?void 0:x.headers)!==null&&s!==void 0?s:{}),(i=m==null?void 0:m.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return l.accessToken?w.accessToken=l.accessToken:delete w.accessToken,w}function Ip(l){const n=l==null?void 0:l.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Jp(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ig="2.78.0",vr=30*1e3,oc=3,Ku=oc*vr,Fp="http://localhost:9999",Wp="supabase.auth.token",eb={"X-Client-Info":`gotrue-js/${Ig}`},uc="X-Supabase-Api-Version",Fg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ab=600*1e3;class Ns extends Error{constructor(n,s,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function ne(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class nb extends Ns{constructor(n,s,i){super(n,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function rb(l){return ne(l)&&l.name==="AuthApiError"}class Sn extends Ns{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class Ia extends Ns{constructor(n,s,i,c){super(n,i,c),this.name=s,this.status=i}}class Kt extends Ia{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sb(l){return ne(l)&&l.name==="AuthSessionMissingError"}class hr extends Ia{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sl extends Ia{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class il extends Ia{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ib(l){return ne(l)&&l.name==="AuthImplicitGrantRedirectError"}class Z0 extends Ia{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cc extends Ia{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Xu(l){return ne(l)&&l.name==="AuthRetryableFetchError"}class I0 extends Ia{constructor(n,s,i){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class dc extends Ia{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const hl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),F0=` 	
\r=`.split(""),lb=(()=>{const l=new Array(128);for(let n=0;n<l.length;n+=1)l[n]=-1;for(let n=0;n<F0.length;n+=1)l[F0[n].charCodeAt(0)]=-2;for(let n=0;n<hl.length;n+=1)l[hl[n].charCodeAt(0)]=n;return l})();function W0(l,n,s){if(l!==null)for(n.queue=n.queue<<8|l,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;s(hl[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;s(hl[i]),n.queuedBits-=6}}function Wg(l,n,s){const i=lb[l];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function eg(l){const n=[],s=h=>{n.push(String.fromCodePoint(h))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=h=>{cb(h,i,s)};for(let h=0;h<l.length;h+=1)Wg(l.charCodeAt(h),c,d);return n.join("")}function ob(l,n){if(l<=127){n(l);return}else if(l<=2047){n(192|l>>6),n(128|l&63);return}else if(l<=65535){n(224|l>>12),n(128|l>>6&63),n(128|l&63);return}else if(l<=1114111){n(240|l>>18),n(128|l>>12&63),n(128|l>>6&63),n(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function ub(l,n){for(let s=0;s<l.length;s+=1){let i=l.charCodeAt(s);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(l.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}ob(i,n)}}function cb(l,n,s){if(n.utf8seq===0){if(l<=127){s(l);return}for(let i=1;i<6;i+=1)if((l>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=l&31;else if(n.utf8seq===3)n.codepoint=l&15;else if(n.utf8seq===4)n.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|l&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function br(l){const n=[],s={queue:0,queuedBits:0},i=c=>{n.push(c)};for(let c=0;c<l.length;c+=1)Wg(l.charCodeAt(c),s,i);return new Uint8Array(n)}function db(l){const n=[];return ub(l,s=>n.push(s)),new Uint8Array(n)}function jn(l){const n=[],s={queue:0,queuedBits:0},i=c=>{n.push(c)};return l.forEach(c=>W0(c,s,i)),W0(null,s,i),n.join("")}function hb(l){return Math.round(Date.now()/1e3)+l}function fb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const n=Math.random()*16|0;return(l=="x"?n:n&3|8).toString(16)})}const ft=()=>typeof window<"u"&&typeof document<"u",bn={tested:!1,writable:!1},em=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bn.tested)return bn.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),bn.tested=!0,bn.writable=!0}catch{bn.tested=!0,bn.writable=!1}return bn.writable};function gb(l){const n={},s=new URL(l);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,d)=>{n[d]=c})}catch{}return s.searchParams.forEach((i,c)=>{n[c]=i}),n}const tm=l=>{let n;return l?n=l:typeof fetch>"u"?n=(...s)=>Sr(async()=>{const{default:i}=await Promise.resolve().then(()=>En);return{default:i}},void 0).then(({default:i})=>i(...s)):n=fetch,(...s)=>n(...s)},mb=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",pr=async(l,n,s)=>{await l.setItem(n,JSON.stringify(s))},xn=async(l,n)=>{const s=await l.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ja=async(l,n)=>{await l.removeItem(n)};class yl{constructor(){this.promise=new yl.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}yl.promiseConstructor=Promise;function Qu(l){const n=l.split(".");if(n.length!==3)throw new dc("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!tb.test(n[i]))throw new dc("JWT not in base64url format");return{header:JSON.parse(eg(n[0])),payload:JSON.parse(eg(n[1])),signature:br(n[2]),raw:{header:n[0],payload:n[1]}}}async function yb(l){return await new Promise(n=>{setTimeout(()=>n(null),l)})}function vb(l,n){return new Promise((i,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await l(d);if(!n(d,null,h)){i(h);return}}catch(h){if(!n(d,h)){c(h);return}}})()})}function pb(l){return("0"+l.toString(16)).substr(-2)}function bb(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let c="";for(let d=0;d<56;d++)c+=s.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(n),Array.from(n,pb).join("")}async function xb(l){const s=new TextEncoder().encode(l),i=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(i);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function wb(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const s=await xb(l);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fr(l,n,s=!1){const i=bb();let c=i;s&&(c+="/PASSWORD_RECOVERY"),await pr(l,`${n}-code-verifier`,c);const d=await wb(i);return[d,i===d?"plain":"s256"]}const _b=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Sb(l){const n=l.headers.get(uc);if(!n||!n.match(_b))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function jb(l){if(!l)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(l<=n)throw new Error("JWT has expired")}function Eb(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Tb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gr(l){if(!Tb.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pu(){const l={};return new Proxy(l,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kb(l,n){return new Proxy(l,{get:(s,i,c)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const d=i.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,c)}return!n.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,i,c)}})}function tg(l){return JSON.parse(JSON.stringify(l))}const wn=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Nb=[502,503,504];async function ag(l){var n;if(!mb(l))throw new cc(wn(l),0);if(Nb.includes(l.status))throw new cc(wn(l),l.status);let s;try{s=await l.json()}catch(d){throw new Sn(wn(d),d)}let i;const c=Sb(l);if(c&&c.getTime()>=Fg["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new I0(wn(s),l.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new Kt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new I0(wn(s),l.status,s.weak_password.reasons);throw new nb(wn(s),l.status||500,i)}const Ob=(l,n,s,i)=>{const c={method:l,headers:(n==null?void 0:n.headers)||{}};return l==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),s))};async function oe(l,n,s,i){var c;const d=Object.assign({},i==null?void 0:i.headers);d[uc]||(d[uc]=Fg["2024-01-01"].name),i!=null&&i.jwt&&(d.Authorization=`Bearer ${i.jwt}`);const h=(c=i==null?void 0:i.query)!==null&&c!==void 0?c:{};i!=null&&i.redirectTo&&(h.redirect_to=i.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",v=await Ab(l,n,s+m,{headers:d,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(v):{data:Object.assign({},v),error:null}}async function Ab(l,n,s,i,c,d){const h=Ob(n,i,c,d);let m;try{m=await l(s,Object.assign({},h))}catch(v){throw console.error(v),new cc(wn(v),0)}if(m.ok||await ag(m),i!=null&&i.noResolveJson)return m;try{return await m.json()}catch(v){await ag(v)}}function Xt(l){var n;let s=null;Db(l)&&(s=Object.assign({},l),l.expires_at||(s.expires_at=hb(l.expires_in)));const i=(n=l.user)!==null&&n!==void 0?n:l;return{data:{session:s,user:i},error:null}}function ng(l){const n=Xt(l);return!n.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(n.data.weak_password=l.weak_password),n}function Za(l){var n;return{data:{user:(n=l.user)!==null&&n!==void 0?n:l},error:null}}function Cb(l){return{data:l,error:null}}function Rb(l){const{action_link:n,email_otp:s,hashed_token:i,redirect_to:c,verification_type:d}=l,h=_r(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:s,hashed_token:i,redirect_to:c,verification_type:d},v=Object.assign({},h);return{data:{properties:m,user:v},error:null}}function rg(l){return l}function Db(l){return l.access_token&&l.refresh_token&&l.expires_in}const Ju=["global","local","others"];class Ub{constructor({url:n="",headers:s={},fetch:i}){this.url=n,this.headers=s,this.fetch=tm(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=Ju[0]){if(Ju.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ju.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,s={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Za})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:s}=n,i=_r(n,["options"]),c=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(c.new_email=i==null?void 0:i.newEmail,delete c.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Rb,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ne(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Za})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,i,c,d,h,m,v;try{const y={nextPage:null,lastPage:0,total:0},b=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:rg});if(b.error)throw b.error;const x=await b.json(),w=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(v=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&v!==void 0?v:[];return S.length>0&&(S.forEach(N=>{const R=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(N.split(";")[1].split("=")[1]);y[`${U}Page`]=R}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(ne(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){gr(n);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Za})}catch(s){if(ne(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){gr(n);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:Za})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,s=!1){gr(n);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:Za})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){gr(n.userId);try{const{data:s,error:i}=await oe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:i}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _deleteFactor(n){gr(n.userId),gr(n.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,i,c,d,h,m,v;try{const y={nextPage:null,lastPage:0,total:0},b=await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(d=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:rg});if(b.error)throw b.error;const x=await b.json(),w=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(v=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&v!==void 0?v:[];return S.length>0&&(S.forEach(N=>{const R=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(N.split(";")[1].split("=")[1]);y[`${U}Page`]=R}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(ne(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(n){try{return await oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}}function sg(l={}){return{getItem:n=>l[n]||null,setItem:(n,s)=>{l[n]=s},removeItem:n=>{delete l[n]}}}const mr={debug:!!(globalThis&&em()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class am extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class zb extends am{}async function Mb(l,n,s){mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,c.name);try{return await s()}finally{mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,c.name)}}else{if(n===0)throw mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new zb(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(mr.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Bb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function nm(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function Lb(l){return parseInt(l,16)}function qb(l){const n=new TextEncoder().encode(l);return"0x"+Array.from(n,i=>i.toString(16).padStart(2,"0")).join("")}function Hb(l){var n;const{chainId:s,domain:i,expirationTime:c,issuedAt:d=new Date,nonce:h,notBefore:m,requestId:v,resources:y,scheme:b,uri:x,version:w}=l;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=l.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const S=nm(l.address),N=b?`${b}://${i}`:i,R=l.statement?`${l.statement}
`:"",U=`${N} wants you to sign in with your Ethereum account:
${S}

${R}`;let G=`URI: ${x}
Version: ${w}
Chain ID: ${s}${h?`
Nonce: ${h}`:""}
Issued At: ${d.toISOString()}`;if(c&&(G+=`
Expiration Time: ${c.toISOString()}`),m&&(G+=`
Not Before: ${m.toISOString()}`),v&&(G+=`
Request ID: ${v}`),y){let $=`
Resources:`;for(const B of y){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);$+=`
- ${B}`}G+=$}return`${U}
${G}`}class Ze extends Error{constructor({message:n,code:s,cause:i,name:c}){var d;super(n,{cause:i}),this.__isWebAuthnError=!0,this.name=(d=c??(i instanceof Error?i.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=s}}class fl extends Ze{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function $b({error:l,options:n}){var s,i,c;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((s=d.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(n.mediation==="conditional"&&((i=d.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new Ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new Ze({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new Ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const h=window.location.hostname;if(rm(h)){if(d.rp.id!==h)return new Ze({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function Gb({error:l,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new Ze({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const i=window.location.hostname;if(rm(i)){if(s.rpId!==i)return new Ze({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class Vb{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Yb=new Vb;function Kb(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:n,user:s,excludeCredentials:i}=l,c=_r(l,["challenge","user","excludeCredentials"]),d=br(n).buffer,h=Object.assign(Object.assign({},s),{id:br(s.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:d,user:h});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let v=0;v<i.length;v++){const y=i[v];m.excludeCredentials[v]=Object.assign(Object.assign({},y),{id:br(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function Xb(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:n,allowCredentials:s}=l,i=_r(l,["challenge","allowCredentials"]),c=br(n).buffer,d=Object.assign(Object.assign({},i),{challenge:c});if(s&&s.length>0){d.allowCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const m=s[h];d.allowCredentials[h]=Object.assign(Object.assign({},m),{id:br(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function Qb(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l;return{id:l.id,rawId:l.id,response:{attestationObject:jn(new Uint8Array(l.response.attestationObject)),clientDataJSON:jn(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Pb(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l,i=l.getClientExtensionResults(),c=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:jn(new Uint8Array(c.authenticatorData)),clientDataJSON:jn(new Uint8Array(c.clientDataJSON)),signature:jn(new Uint8Array(c.signature)),userHandle:c.userHandle?jn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function rm(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function ig(){var l,n;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator==null?void 0:navigator.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Jb(l){try{const n=await navigator.credentials.create(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new fl("Browser returned unexpected credential type",n)}:{data:null,error:new fl("Empty credential response",n)}}catch(n){return{data:null,error:$b({error:n,options:l})}}}async function Zb(l){try{const n=await navigator.credentials.get(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new fl("Browser returned unexpected credential type",n)}:{data:null,error:new fl("Empty credential response",n)}}catch(n){return{data:null,error:Gb({error:n,options:l})}}}const Ib={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Fb={userVerification:"preferred",hints:["security-key"]};function gl(...l){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),i={};for(const c of l)if(c)for(const d in c){const h=c[d];if(h!==void 0)if(Array.isArray(h))i[d]=h;else if(s(h))i[d]=h;else if(n(h)){const m=i[d];n(m)?i[d]=gl(m,h):i[d]=gl(h)}else i[d]=h}return i}function Wb(l,n){return gl(Ib,l,n||{})}function ex(l,n){return gl(Fb,l,n||{})}class tx{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:i,signal:c},d){try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!h)return{data:null,error:m};const v=c??Yb.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${i}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=Wb(h.webauthn.credential_options.publicKey,d==null?void 0:d.create),{data:b,error:x}=await Jb({publicKey:y,signal:v});return b?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:x}}case"request":{const y=ex(h.webauthn.credential_options.publicKey,d==null?void 0:d.request),{data:b,error:x}=await Zb(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:v}));return b?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:x}}}}catch(h){return ne(h)?{data:null,error:h}:{data:null,error:new Sn("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:i})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c}},d){if(!s)return{data:null,error:new Ns("rpId is required for WebAuthn authentication")};try{if(!ig())return{data:null,error:new Sn("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:i},signal:c},{request:d});if(!h)return{data:null,error:m};const{webauthn:v}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:v.type,rpId:s,rpOrigins:i,credential_response:v.credential_response}})}catch(h){return ne(h)?{data:null,error:h}:{data:null,error:new Sn("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:c},d){if(!s)return{data:null,error:new Ns("rpId is required for WebAuthn registration")};try{if(!ig())return{data:null,error:new Sn("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(b=>{var x;return(x=b.data)===null||x===void 0?void 0:x.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:m};const{data:v,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:c},{create:d});return v?this._verify({factorId:h.id,challengeId:v.challengeId,webauthn:{rpId:s,rpOrigins:i,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:y}}catch(h){return ne(h)?{data:null,error:h}:{data:null,error:new Sn("Unexpected error in register",h)}}}}Bb();const ax={url:Fp,storageKey:Wp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lg(l,n,s){return await s()}const yr={};class Os{get jwks(){var n,s;return(s=(n=yr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){yr[this.storageKey]=Object.assign(Object.assign({},yr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=yr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){yr[this.storageKey]=Object.assign(Object.assign({},yr[this.storageKey]),{cachedAt:n})}constructor(n){var s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Os.nextInstanceID,Os.nextInstanceID+=1,this.instanceID>0&&ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},ax),n);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Ub({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=tm(c.fetch),this.lock=c.lock||lg,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:ft()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Mb:this.lock=lg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new tx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:em()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sg(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=sg(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ig}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=gb(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),ft()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:d}=await this._getSessionFromURL(s,i);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),ib(d)){const v=(n=d.details)===null||n===void 0?void 0:n.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:h,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ne(s)?{error:s}:{error:new Sn("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,i,c;try{const d=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=n==null?void 0:n.options)===null||c===void 0?void 0:c.captchaToken}},xform:Xt}),{data:h,error:m}=d;if(m||!h)return{data:{user:null,session:null},error:m};const v=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:y,session:v},error:null}}catch(d){if(ne(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(n){var s,i,c;try{let d;if("email"in n){const{email:b,password:x,options:w}=n;let S=null,N=null;this.flowType==="pkce"&&([S,N]=await fr(this.storage,this.storageKey)),d=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:b,password:x,data:(s=w==null?void 0:w.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:S,code_challenge_method:N},xform:Xt})}else if("phone"in n){const{phone:b,password:x,options:w}=n;d=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:x,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},channel:(c=w==null?void 0:w.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Xt})}else throw new sl("You must provide either an email or phone number and a password");const{data:h,error:m}=d;if(m||!h)return{data:{user:null,session:null},error:m};const v=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:y,session:v},error:null}}catch(d){if(ne(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(n){try{let s;if("email"in n){const{email:d,password:h,options:m}=n;s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ng})}else if("phone"in n){const{phone:d,password:h,options:m}=n;s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ng})}else throw new sl("You must provide either an email or phone number and a password");const{data:i,error:c}=s;return c?{data:{user:null,session:null},error:c}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new hr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,i,c,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,i,c,d,h,m,v,y,b,x,w;let S,N;if("message"in n)S=n.message,N=n.signature;else{const{chain:R,wallet:U,statement:G,options:$}=n;let B;if(ft())if(typeof U=="object")B=U;else{const Ee=window;if("ethereum"in Ee&&typeof Ee.ethereum=="object"&&"request"in Ee.ethereum&&typeof Ee.ethereum.request=="function")B=Ee.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!($!=null&&$.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=U}const J=new URL((s=$==null?void 0:$.url)!==null&&s!==void 0?s:window.location.href),Q=await B.request({method:"eth_requestAccounts"}).then(Ee=>Ee).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Q||Q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=nm(Q[0]);let P=(i=$==null?void 0:$.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!P){const Ee=await B.request({method:"eth_chainId"});P=Lb(Ee)}const he={domain:J.host,address:I,statement:G,uri:J.href,version:"1",chainId:P,nonce:(c=$==null?void 0:$.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(d=$==null?void 0:$.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=$==null?void 0:$.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(v=$==null?void 0:$.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(y=$==null?void 0:$.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(b=$==null?void 0:$.signInWithEthereum)===null||b===void 0?void 0:b.resources};S=Hb(he),N=await B.request({method:"personal_sign",params:[qb(S),I]})}try{const{data:R,error:U}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:N},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Xt});if(U)throw U;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new hr}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:U})}catch(R){if(ne(R))return{data:{user:null,session:null},error:R};throw R}}async signInWithSolana(n){var s,i,c,d,h,m,v,y,b,x,w,S;let N,R;if("message"in n)N=n.message,R=n.signature;else{const{chain:U,wallet:G,statement:$,options:B}=n;let J;if(ft())if(typeof G=="object")J=G;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))J=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof G!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=G}const Q=new URL((s=B==null?void 0:B.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in J&&J.signIn){const I=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B==null?void 0:B.signInWithSolana),{version:"1",domain:Q.host,uri:Q.href}),$?{statement:$}:null));let P;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")P=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)P=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)N=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),R=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${Q.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${Q.href}`,`Issued At: ${(c=(i=B==null?void 0:B.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=B==null?void 0:B.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((h=B==null?void 0:B.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((m=B==null?void 0:B.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((v=B==null?void 0:B.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((y=B==null?void 0:B.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((x=(b=B==null?void 0:B.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||x===void 0)&&x.length?["Resources",...B.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const I=await J.signMessage(new TextEncoder().encode(N),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=I}}try{const{data:U,error:G}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:jn(R)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Xt});if(G)throw G;return!U||!U.session||!U.user?{data:{user:null,session:null},error:new hr}:(U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),{data:Object.assign({},U),error:G})}catch(U){if(ne(U))return{data:{user:null,session:null},error:U};throw U}}async _exchangeCodeForSession(n){const s=await xn(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(s??"").split("/");try{const{data:d,error:h}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Xt});if(await Ja(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new hr}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:h})}catch(d){if(ne(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(n){try{const{options:s,provider:i,token:c,access_token:d,nonce:h}=n,m=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Xt}),{data:v,error:y}=m;return y?{data:{user:null,session:null},error:y}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new hr}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:v,error:y})}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,i,c,d,h;try{if("email"in n){const{email:m,options:v}=n;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await fr(this.storage,this.storageKey));const{error:x}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=v==null?void 0:v.data)!==null&&s!==void 0?s:{},create_user:(i=v==null?void 0:v.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:y,code_challenge_method:b},redirectTo:v==null?void 0:v.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in n){const{phone:m,options:v}=n,{data:y,error:b}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=v==null?void 0:v.data)!==null&&c!==void 0?c:{},create_user:(d=v==null?void 0:v.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},channel:(h=v==null?void 0:v.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:b}}throw new sl("You must provide either an email or phone number.")}catch(m){if(ne(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(n){var s,i;try{let c,d;"options"in n&&(c=(s=n.options)===null||s===void 0?void 0:s.redirectTo,d=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:h,error:m}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:Xt});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const v=h.session,y=h.user;return v!=null&&v.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),{data:{user:y,session:v},error:null}}catch(c){if(ne(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(n){var s,i,c;try{let d=null,h=null;return this.flowType==="pkce"&&([d,h]=await fr(this.storage,this.storageKey)),await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=n==null?void 0:n.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:Cb})}catch(d){if(ne(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)throw i;if(!s)throw new Kt;const{error:c}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:c}})}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:i,type:c,options:d}=n,{error:h}=await oe(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in n){const{phone:i,type:c,options:d}=n,{data:h,error:m}=await oe(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m}}throw new sl("You must provide either an email or phone number and a type")}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await xn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<Ku:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const h=await xn(this.userStorage,this.storageKey+"-user");h!=null&&h.user?n.user=h.user:n.user=Pu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};n.user=kb(n.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?{data:{session:null},error:d}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Za}):await this._useSession(async s=>{var i,c,d;const{data:h,error:m}=s;if(m)throw m;return!(!((i=h.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Kt}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:Za})})}catch(s){if(ne(s))return sb(s)&&(await this._removeSession(),await Ja(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async i=>{const{data:c,error:d}=i;if(d)throw d;if(!c.session)throw new Kt;const h=c.session;let m=null,v=null;this.flowType==="pkce"&&n.email!=null&&([m,v]=await fr(this.storage,this.storageKey));const{data:y,error:b}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:v}),jwt:h.access_token,xform:Za});if(b)throw b;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(i){if(ne(i))return{data:{user:null},error:i};throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Kt;const s=Date.now()/1e3;let i=s,c=!0,d=null;const{payload:h}=Qu(n.access_token);if(h.exp&&(i=h.exp,c=i<=s),c){const{data:m,error:v}=await this._callRefreshToken(n.refresh_token);if(v)return{data:{user:null,session:null},error:v};if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:v}=await this._getUser(n.access_token);if(v)throw v;d={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(s){if(ne(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var i;if(!n){const{data:h,error:m}=s;if(m)throw m;n=(i=h.session)!==null&&i!==void 0?i:void 0}if(!(n!=null&&n.refresh_token))throw new Kt;const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?{data:{user:null,session:null},error:d}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!ft())throw new il("No browser detected.");if(n.error||n.error_description||n.error_code)throw new il(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Z0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new il("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Z0("No code detected.");const{data:$,error:B}=await this._exchangeCodeForSession(n.code);if(B)throw B;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:d,refresh_token:h,expires_in:m,expires_at:v,token_type:y}=n;if(!d||!m||!h||!y)throw new il("No session defined in URL");const b=Math.round(Date.now()/1e3),x=parseInt(m);let w=b+x;v&&(w=parseInt(v));const S=w-b;S*1e3<=vr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${x}s`);const N=w-x;b-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,w,b):b-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,w,b);const{data:R,error:U}=await this._getUser(d);if(U)throw U;const G={provider_token:i,provider_refresh_token:c,access_token:d,expires_in:x,expires_at:w,refresh_token:h,token_type:y,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:G,redirectType:n.type},error:null}}catch(i){if(ne(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await xn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:c,error:d}=s;if(d)return{error:d};const h=(i=c.session)===null||i===void 0?void 0:i.access_token;if(h){const{error:m}=await this.admin.signOut(h,n);if(m&&!(rb(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return n!=="others"&&(await this._removeSession(),await Ja(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=fb(),i={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async s=>{var i,c;try{const{data:{session:d},error:h}=s;if(h)throw h;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,s={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await fr(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if(ne(d))return{data:null,error:d};throw d}}async getUserIdentities(){var n;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:i,error:c}=await this._useSession(async d=>{var h,m,v,y,b;const{data:x,error:w}=d;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(v=n.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",S,{headers:this.headers,jwt:(b=(y=x.session)===null||y===void 0?void 0:y.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return ft()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:n.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(ne(i))return{data:{provider:n.provider,url:null},error:i};throw i}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var i;try{const{error:c,data:{session:d}}=s;if(c)throw c;const{options:h,provider:m,token:v,access_token:y,nonce:b}=n,x=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=d==null?void 0:d.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:v,access_token:y,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Xt}),{data:w,error:S}=x;return S?{data:{user:null,session:null},error:S}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new hr}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:S})}catch(c){if(ne(c))return{data:{user:null,session:null},error:c};throw c}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var i,c;const{data:d,error:h}=s;if(h)throw h;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(i=d.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await vb(async c=>(c>0&&await yb(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Xt})),(c,d)=>{const h=200*Math.pow(2,c);return d&&Xu(d)&&Date.now()+h-i<vr})}catch(i){if(this._debug(s,"error",i),ne(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",i),ft()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await xn(this.storage,this.storageKey);if(c&&this.userStorage){let h=await xn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await pr(this.userStorage,this.storageKey+"-user",h)),c.user=(n=h==null?void 0:h.user)!==null&&n!==void 0?n:Pu()}else if(c&&!c.user&&!c.user){const h=await xn(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(c.user=h.user,await Ja(this.storage,this.storageKey+"-user"),await pr(this.storage,this.storageKey,c)):c.user=Pu()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const d=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ku;if(this._debug(i,`session has${d?"":" not"} expired with margin of ${Ku}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),Xu(h)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(c.access_token);!m&&(h!=null&&h.user)?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(i,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var s,i;if(!n)throw new Kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new yl;const{data:d,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!d.session)throw new Kt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(c,"error",d),ne(d)){const h={data:null,error:d};return Xu(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,s,i=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:s});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,s)}catch(v){d.push(v)}});if(await Promise.all(h),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const s=Object.assign({},n),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await pr(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const d=tg(c);await pr(this.storage,this.storageKey,d)}else{const c=tg(s);await pr(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await Ja(this.storage,this.storageKey),await Ja(this.storage,this.storageKey+"-code-verifier"),await Ja(this.storage,this.storageKey+"-user"),this.userStorage&&await Ja(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),vr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-n)/vr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${vr}ms, refresh threshold is ${oc} ticks`),c<=oc&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof am)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,i){const c=[`provider=${encodeURIComponent(s)}`];if(i!=null&&i.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[d,h]=await fr(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(m.toString())}if(i!=null&&i.queryParams){const d=new URLSearchParams(i.queryParams);c.push(d.toString())}return i!=null&&i.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var i;const{data:c,error:d}=s;return d?{data:null,error:d}:await oe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var i,c;const{data:d,error:h}=s;if(h)return{data:null,error:h};const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:v,error:y}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=d==null?void 0:d.session)===null||i===void 0?void 0:i.access_token});return y?{data:null,error:y}:(n.factorType==="totp"&&v.type==="totp"&&(!((c=v==null?void 0:v.totp)===null||c===void 0)&&c.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),{data:v,error:null})})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:d}=s;if(d)return{data:null,error:d};const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Qb(n.webauthn.credential_response):Pb(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:v}=await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});return v?{data:null,error:v}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),{data:m,error:v})})}catch(s){if(ne(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:c,error:d}=s;if(d)return{data:null,error:d};const h=await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Kb(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Xb(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ne(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:i}=await this._challenge({factorId:n.factorId});return i?{data:null,error:i}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=s==null?void 0:s.factors)!==null&&n!==void 0?n:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,s;const{data:{session:i},error:c}=await this.getSession();if(c)return{data:null,error:c};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Qu(i.access_token);let h=null;d.aal&&(h=d.aal);let m=h;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const y=d.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:i},error:c}=s;return c?{data:null,error:c}:i?await oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:d=>({data:d,error:null})}):{data:null,error:new Kt}})}catch(s){if(ne(s))return{data:null,error:s};throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async i=>{const{data:{session:c},error:d}=i;if(d)return{data:null,error:d};if(!c)return{data:null,error:new Kt};const h=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&ft()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async _denyAuthorization(n,s){try{return await this._useSession(async i=>{const{data:{session:c},error:d}=i;if(d)return{data:null,error:d};if(!c)return{data:null,error:new Kt};const h=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&ft()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async fetchJwk(n,s={keys:[]}){let i=s.keys.find(m=>m.kid===n);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(m=>m.kid===n),i&&this.jwks_cached_at+ab>c)return i;const{data:d,error:h}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,i=d.keys.find(m=>m.kid===n),!i)?null:i}async getClaims(n,s={}){try{let i=n;if(!i){const{data:S,error:N}=await this.getSession();if(N||!S.session)return{data:null,error:N};i=S.session.access_token}const{header:c,payload:d,signature:h,raw:{header:m,payload:v}}=Qu(i);s!=null&&s.allowExpired||jb(d.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!y){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:d,header:c,signature:h},error:null}}const b=Eb(c.alg),x=await crypto.subtle.importKey("jwk",y,b,!0,["verify"]);if(!await crypto.subtle.verify(b,x,h,db(`${m}.${v}`)))throw new dc("Invalid JWT signature");return{data:{claims:d,header:c,signature:h},error:null}}catch(i){if(ne(i))return{data:null,error:i};throw i}}}Os.nextInstanceID=0;const nx=Os;class rx extends nx{constructor(n){super(n)}}class sx{constructor(n,s,i){var c,d,h;this.supabaseUrl=n,this.supabaseKey=s;const m=Ip(n);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const v=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:Vp,realtime:Kp,auth:Object.assign(Object.assign({},Yp),{storageKey:v}),global:Gp},b=Zp(i??{},y);this.storageKey=(c=b.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=b.global.headers)!==null&&d!==void 0?d:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(x,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=b.auth)!==null&&h!==void 0?h:{},this.headers,b.global.fetch),this.fetch=Pp(s,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new Fv(new URL("rest/v1",m).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new qp(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new Vv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,s,i)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,s;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:i,storage:c,userStorage:d,storageKey:h,flowType:m,lock:v,debug:y},b,x){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rx({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),b),storageKey:h,autoRefreshToken:n,persistSession:s,detectSessionInUrl:i,storage:c,userStorage:d,flowType:m,lock:v,debug:y,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new mp(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(n,s,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ix=(l,n,s)=>new sx(l,n,s);function lx(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const n=l.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}lx()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ox="https://kxfsxqoyhoklqgwvzhpd.supabase.co",ux="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt4ZnN4cW95aG9rbHFnd3Z6aHBkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE4ODcxNjcsImV4cCI6MjA3NzQ2MzE2N30.mW3MNPAlWXFvAgu1RL4BW_1OWVjCzJat5OddK4GgW64",Ve=ix(ox,ux),ta=Ve.auth,cx=async l=>{const{data:{user:n}}=await ta.getUser();if(!n)throw new Error("User not authenticated for adding student.");const s={...l,user_id:n.id},{error:i}=await Ve.from("students").insert([s]);if(i)throw i},hc=async(l,n)=>{const{error:s}=await Ve.from("students").update(n).eq("id",l);if(s)throw s},dx=async l=>{const{error:n}=await Ve.from("students").delete().eq("id",l);if(n)throw n},hx=async l=>{const{error:n}=await Ve.from("students").delete().in("id",l);if(n)throw n},fx=async l=>{const{data:{user:n}}=await ta.getUser();if(!n)throw new Error("User not authenticated for adding batch.");const s={...l,user_id:n.id},{error:i}=await Ve.from("batches").insert([s]);if(i)throw i},ol=async(l,n)=>{const{error:s}=await Ve.from("batches").update(n).eq("id",l);if(s)throw s},gx=async l=>{if(l.studentIds&&l.studentIds.length>0){const{error:s}=await Ve.from("students").delete().in("id",l.studentIds);if(s)throw s}const{error:n}=await Ve.from("batches").delete().eq("id",l.id);if(n)throw n},mx=async l=>{const{data:{user:n}}=await ta.getUser();if(!n)throw new Error("User not authenticated for adding transaction.");const s={...l,user_id:n.id},{error:i}=await Ve.from("transactions").insert([s]);if(i)throw i},yx=async()=>{const{data:{user:l}}=await ta.getUser();if(!l)throw new Error("User not authenticated for deleting transactions.");const{error:n}=await Ve.from("transactions").delete().eq("user_id",l.id);if(n)throw n},vx=async l=>{const{error:n}=await Ve.rpc("delete_transaction_and_update_student",{t_id:l});if(n)throw console.error("RPC delete_transaction_and_update_student failed:",n),new Error(n.message)},px=async l=>{const{error:n}=await Ve.from("transactions").delete().eq("studentId",l);if(n)throw n},bx=async l=>{if(l.length===0)return;const{error:n}=await Ve.from("transactions").delete().in("studentId",l);if(n)throw n},xx=async l=>{if(l.length===0)return[];const{data:{user:n}}=await ta.getUser();if(!n)throw new Error("User not authenticated for adding students.");const s=l.map(d=>({...d,user_id:n.id})),{data:i,error:c}=await Ve.from("students").insert(s).select();if(c)throw c;return i||[]},wx=async l=>{if(l.length===0)return;const{data:{user:n}}=await ta.getUser();if(!n)throw new Error("User not authenticated for adding batches.");const s=l.map(c=>({...c,user_id:n.id})),{error:i}=await Ve.from("batches").insert(s);if(i)throw i},_x=()=>{const[l,n]=Y.useState(!0),[s,i]=Y.useState(""),[c,d]=Y.useState(""),[h,m]=Y.useState(""),[v,y]=Y.useState(!1),b=async x=>{x.preventDefault(),m(""),y(!0);try{let w;if(l?w=await ta.signInWithPassword({email:s,password:c}):w=await ta.signUp({email:s,password:c}),w.error)throw w.error}catch(w){m(w.message)}finally{y(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:f.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-indigo-600 dark:text-indigo-400",children:"Vidya-Gram"}),f.jsx("h2",{className:"mt-2 text-xl font-semibold text-gray-800 dark:text-white",children:l?"Login to your account":"Create a new account"})]}),f.jsxs("form",{className:"mt-6 space-y-6",onSubmit:b,children:[f.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[f.jsx("div",{children:f.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"Email address",value:s,onChange:x=>i(x.target.value)})}),f.jsx("div",{children:f.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",placeholder:"Password",value:c,onChange:x=>d(x.target.value)})})]}),h&&f.jsx("p",{className:"text-sm text-red-500",children:h}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:v,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400",children:v?"Processing...":l?"Sign in":"Sign up"})})]}),f.jsxs("p",{className:"text-sm text-center text-gray-600 dark:text-gray-400",children:[l?"Don't have an account?":"Already have an account?",f.jsx("button",{onClick:()=>n(!l),className:"ml-1 font-medium text-indigo-600 hover:text-indigo-500",children:l?"Sign up":"Sign in"})]})]})})};var ot=(l=>(l.Dashboard="DASHBOARD",l.Students="STUDENTS",l.Batches="BATCHES",l.Wardens="WARDENS",l.Payments="PAYMENTS",l))(ot||{});const _s=({icon:l,text:n,active:s,onClick:i})=>f.jsxs("button",{onClick:i,className:`flex items-center w-full px-4 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${s?"bg-indigo-600 text-white":"text-gray-500 hover:bg-gray-200 dark:text-gray-400 dark:hover:bg-gray-700"}`,children:[l,f.jsx("span",{className:"ml-3",children:n})]}),Sx=({currentView:l,setView:n})=>f.jsxs("div",{className:"hidden md:flex flex-col w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex items-center justify-center h-16 border-b border-gray-200 dark:border-gray-700 px-4",children:[f.jsx("svg",{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),f.jsx("h1",{className:"ml-2 text-xl font-bold text-indigo-600 dark:text-indigo-400",children:"Vidya-Gram"})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:f.jsxs("nav",{className:"flex flex-col space-y-2",children:[f.jsx(_s,{href:"#",text:"Dashboard",active:l===ot.Dashboard,onClick:()=>n(ot.Dashboard),icon:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),f.jsx(_s,{href:"#",text:"Students",active:l===ot.Students,onClick:()=>n(ot.Students),icon:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A5.975 5.975 0 0112 13a5.975 5.975 0 013 5.197M15 21a6 6 0 00-9-5.197"})})}),f.jsx(_s,{href:"#",text:"Batches",active:l===ot.Batches,onClick:()=>n(ot.Batches),icon:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),f.jsx(_s,{href:"#",text:"Wardens",active:l===ot.Wardens,onClick:()=>n(ot.Wardens),icon:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 20.944L12 22l9-1.056v-5.556c0-1.076-.232-2.11-.658-3.084z"})})}),f.jsx(_s,{href:"#",text:"Payments",active:l===ot.Payments,onClick:()=>n(ot.Payments),icon:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 8h6m-5 4h.01M4 16V6a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2z"})})})]})})]}),jx=({user:l,onAddStudent:n,onBulkUpload:s,theme:i,toggleTheme:c})=>{const[d,h]=Y.useState(!1),m=()=>{ta.signOut()},v=()=>f.jsxs("button",{onClick:c,className:"p-2 rounded-full text-gray-500 hover:bg-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 dark:focus:ring-offset-gray-800 focus:ring-indigo-500",children:[f.jsx("span",{className:"sr-only",children:"Toggle theme"}),i==="dark"?f.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):f.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})]});return f.jsx("header",{className:"flex items-center justify-end h-16 px-6 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx(v,{}),f.jsxs("button",{onClick:s,className:"hidden sm:inline-flex items-center px-3 py-2 text-sm font-medium text-center text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 dark:focus:ring-gray-600",children:[f.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Bulk Upload"]}),f.jsxs("button",{onClick:n,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 focus:ring-4 focus:outline-none focus:ring-indigo-300 dark:bg-indigo-500 dark:hover:bg-indigo-600 dark:focus:ring-indigo-800",children:[f.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Student"]}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>h(!d),className:"flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 dark:focus:ring-offset-gray-800 focus:ring-indigo-500",children:[f.jsx("span",{className:"sr-only",children:"Open user menu"}),f.jsx("img",{className:"h-8 w-8 rounded-full",src:`https://ui-avatars.com/api/?name=${l.email}&background=random`,alt:"User avatar"})]}),d&&f.jsxs("div",{className:"absolute right-0 w-48 mt-2 origin-top-right bg-white rounded-md shadow-lg py-1 ring-1 ring-black ring-opacity-5 dark:bg-gray-700",children:[f.jsxs("div",{className:"px-4 py-3",children:[f.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:"Signed in as"}),f.jsx("p",{className:"text-sm font-medium text-gray-900 truncate dark:text-gray-300",children:l.email})]}),f.jsx("div",{className:"border-t border-gray-100 dark:border-gray-600"}),f.jsx("button",{onClick:m,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600",children:"Sign out"})]})]})]})})},As=({isOpen:l,onClose:n,onConfirm:s,title:i,message:c,confirmButtonText:d="Confirm",confirmButtonVariant:h="danger",children:m})=>{if(!l)return null;const v={danger:"bg-red-600 hover:bg-red-700 focus:ring-red-500",primary:"bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500"};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",children:f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i}),f.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:c}),m,f.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[f.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none dark:bg-gray-600 dark:text-gray-200 dark:border-gray-500 dark:hover:bg-gray-500",children:"Cancel"}),f.jsx("button",{onClick:s,className:`px-4 py-2 text-sm font-medium text-white border border-transparent rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 ${v[h]}`,children:d})]})]})})})},ul=l=>(l.payments||[]).reduce((n,s)=>n+s.amount,0),Zu=l=>l["Full Paid"]?0:l["Total Fees"]-ul(l),Iu=({label:l,sortKey:n,sortConfig:s,requestSort:i,className:c})=>{const h=(s==null?void 0:s.key)===n?s.direction==="asc"?"▲":"▼":"";return f.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer ${c}`,onClick:()=>i(n),children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{children:l}),f.jsx("span",{className:"ml-1 w-4",children:h})]})})},Ex=({students:l,onClose:n})=>{const s=["Roll No","Name","Father","Mother","Phone","Emergency Number","Gender","Batch","Address","Total Fees","Paid","Dues","Full Paid","Mode","Remarks","imageUrl"],[i,c]=Y.useState(new Set(s)),d=m=>{c(v=>{const y=new Set(v);return y.has(m)?y.delete(m):y.add(m),y})},h=()=>{const m=l.map(b=>{const x=(b.payments||[]).reduce((N,R)=>N+R.amount,0),w=b["Full Paid"]?0:b["Total Fees"]-x,S={};return i.forEach(N=>{N==="Paid"?S[N]=x:N==="Dues"?S[N]=w:S[N]=b[N]}),S}),v=XLSX.utils.json_to_sheet(m),y=XLSX.utils.book_new();XLSX.utils.book_append_sheet(y,v,"Students"),XLSX.writeFile(y,"student_data.xlsx"),n()};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg",children:f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Export Student Data"}),f.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Select the columns you want to include in the export."}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 my-4 max-h-64 overflow-y-auto p-2 border rounded-md dark:border-gray-700",children:s.map(m=>f.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[f.jsx("input",{type:"checkbox",checked:i.has(m),onChange:()=>d(m),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),f.jsx("span",{children:m})]},m))}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t dark:border-gray-700",children:[f.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 dark:bg-gray-600 dark:text-gray-200 dark:border-gray-500 dark:hover:bg-gray-500",children:"Cancel"}),f.jsx("button",{onClick:h,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700",children:"Export as XLSX"})]})]})})})},Tx=({students:l,onEditStudent:n,onDeleteStudent:s,onDeleteSelected:i,onCreateBatch:c,onRecordPayment:d,onViewStudent:h})=>{const[m,v]=Y.useState(""),[y,b]=Y.useState(new Set),[x,w]=Y.useState(!1),[S,N]=Y.useState(!1),[R,U]=Y.useState(""),[G,$]=Y.useState(1),[B,J]=Y.useState(10),[Q,I]=Y.useState({key:"createdAt",direction:"desc"});Y.useEffect(()=>{$(1)},[l.length,m,B,Q]);const P=T=>{let q="asc";Q&&Q.key===T&&Q.direction==="asc"&&(q="desc"),I({key:T,direction:q})},he=Y.useMemo(()=>{let T=[...l];const q=m.toLowerCase();return q&&(T=T.filter(X=>X.Name.toLowerCase().includes(q)||String(X["Roll No"]).toLowerCase().includes(q)||X.Phone.toLowerCase().includes(q)||X.Batch.toLowerCase().includes(q))),Q&&T.sort((X,de)=>{let ie,j;switch(Q.key){case"Paid":ie=ul(X),j=ul(de);break;case"Dues":ie=Zu(X),j=Zu(de);break;default:ie=X[Q.key],j=de[Q.key]}return ie<j?Q.direction==="asc"?-1:1:ie>j?Q.direction==="asc"?1:-1:String(X["Roll No"])<String(de["Roll No"])?-1:String(X["Roll No"])>String(de["Roll No"])?1:0}),T},[l,m,Q]),Ee=Y.useMemo(()=>{if(B===0)return he;const T=(G-1)*B;return he.slice(T,T+B)},[he,G,B]),We=T=>{b(q=>{const X=new Set(q);return X.has(T)?X.delete(T):X.add(T),X})},te=T=>{T.target.checked?b(new Set(he.map(q=>q.id))):b(new Set)},ae=()=>{i(Array.from(y)),b(new Set),w(!1)},Te=()=>{R.trim()&&y.size>0?(c(R,Array.from(y)),U(""),b(new Set)):alert("Please enter a batch name and select at least one student.")},Oe=T=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(T),ue=B===0?1:Math.ceil(he.length/B);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-4",children:[f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:"Student List"}),f.jsx("input",{type:"text",placeholder:"Search by name, roll no, batch...",value:m,onChange:T=>v(T.target.value),className:"w-full sm:w-64 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700"})]}),y.size>0&&f.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 p-4 rounded-md mb-4 flex flex-col sm:flex-row items-center gap-4",children:[f.jsxs("span",{className:"text-sm font-medium",children:[y.size," student(s) selected"]}),f.jsxs("div",{className:"flex-grow flex flex-col sm:flex-row items-center gap-2",children:[f.jsx("input",{type:"text",placeholder:"New Batch Name",value:R,onChange:T=>U(T.target.value),className:"px-3 py-1.5 border border-gray-300 dark:border-gray-600 rounded-md text-sm w-full sm:w-auto dark:bg-gray-700"}),f.jsx("button",{onClick:Te,className:"w-full sm:w-auto px-3 py-1.5 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:"Create Batch"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>w(!0),className:"px-3 py-1.5 text-sm font-medium text-red-600 bg-red-100 dark:bg-red-900/50 dark:text-red-400 rounded-md hover:bg-red-200",children:"Delete Selected"}),f.jsx("button",{onClick:()=>N(!0),className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-gray-200 dark:bg-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-300",children:"Export"})]})]}),f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[f.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"p-4",children:f.jsx("input",{type:"checkbox",className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500",onChange:te,checked:y.size>0&&y.size===he.length&&he.length>0})}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Student"}),f.jsx(Iu,{label:"Roll No",sortKey:"Roll No",sortConfig:Q,requestSort:P}),f.jsx(Iu,{label:"Paid Amount",sortKey:"Paid",sortConfig:Q,requestSort:P}),f.jsx(Iu,{label:"Remaining",sortKey:"Dues",sortConfig:Q,requestSort:P}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Phone"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:Ee.map(T=>{const q=ul(T),X=Zu(T),de=T["Full Paid"]||X<=0;return f.jsxs("tr",{onClick:()=>h(T),className:`cursor-pointer ${y.has(T.id)?"bg-indigo-50 dark:bg-indigo-900/20":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[f.jsx("td",{className:"p-4",onClick:ie=>ie.stopPropagation(),children:f.jsx("input",{type:"checkbox",className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500",checked:y.has(T.id),onChange:()=>We(T.id)})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:f.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:T.imageUrl||`https://ui-avatars.com/api/?name=${T.Name}&background=random`,alt:T.Name})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:T.Name}),f.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:T.Father||"N/A"})]})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:T["Roll No"]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Oe(q)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:`font-semibold ${de?"text-green-600":"text-red-600"}`,children:de?"FULL PAID":Oe(X)}),!de&&f.jsx("button",{onClick:ie=>{ie.stopPropagation(),d(T)},className:"ml-4 px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full hover:bg-green-200 dark:bg-green-900/50 dark:text-green-300 dark:hover:bg-green-900",children:"Pay"})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{children:T.Phone}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("a",{href:`https://wa.me/${T.Phone}`,target:"_blank",rel:"noopener noreferrer",onClick:ie=>ie.stopPropagation(),className:"text-green-500 hover:text-green-600",title:"Chat on WhatsApp",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.894 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.886-.001 2.267.655 4.512 1.924 6.344l-1.667 6.125 6.25-1.635zM12.012 5.99c2.164 0 4.14.862 5.616 2.336 1.474 1.475 2.333 3.451 2.333 5.617 0 4.537-3.692 8.229-8.231 8.229-1.925 0-3.795-.668-5.26-1.846l-.358-.215-3.832 1.001 1.018-3.73-2.228-3.682c-.323-.532-.519-1.121-.52-1.728.002-4.536 3.69-8.228 8.225-8.228zm-2.261 2.871l-.112.06c-.233.125-.504.22-.793.308-.288.087-.604.14-.94.139-.537-.005-1.018-.158-1.39-.396-.373-.239-.636-.562-.767-.926-.13-.365-.114-.77.039-1.161.152-.39.42-.728.775-1.012.353-.282.78-.493 1.257-.615.478-.124.99-.124 1.488-.01.523.119.96.353 1.298.662.338.308.577.687.701 1.103.123.415.132.86.031 1.293-.102.433-.312.81-.623 1.099-.313.29-.7.49-1.125.599-.425.108-.875.123-1.32.05zm3.576 4.751c-.224-.112-.47-.225-.52-.25-.05-.025-.098-.039-.148-.039-.074 0-.13.015-.165.044-.035.029-.074.06-.112.099-.037.038-.074.077-.111.115-.038.038-.076.077-.113.115l-.225.225c-.15.15-.315.225-.495.225-.18 0-.356-.075-.525-.225-.17-.15-.285-.315-.345-.525-.06-.21-.015-.375.135-.585.15-.21.345-.48.585-.81.24-.33.405-.6.495-.795.09-.195.135-.36.135-.495s-.045-.24-.135-.315c-.09-.075-.21-.113-.36-.113-.15 0-.285.045-.405.135-.12.09-.225.225-.315.405-.09.18-.195.345-.315.525-.12.18-.24.315-.375.405s-.27.135-.42.135c-.15 0-.285-.045-.405-.135s-.225-.21-.315-.36c-.09-.15-.15-.315-.18-.495-.03-.18-.015-.33.045-.45.06-.12.135-.225.225-.315.09-.09.195-.165.315-.225.12-.06.24-.09.375-.09.135 0 .255.03.36.09.105.06.195.135.27.225.075.09.135.18.18.27.045.09.09.165.135.225.045.06.09.105.135.135.045.03.09.045.135.045s.09-.015.135-.045c.045-.03.09-.075.135-.135l.113-.135c.09-.12.15-.24.18-.36.03-.12.015-.24-.03-.36-.045-.12-.12-.225-.225-.315-.105-.09-.225-.165-.36-.225-.135-.06-.285-.09-.45-.09-.165 0-.33.045-.495.135s-.315.195-.45.315c-.135.12-.255.27-.36.45-.105.18-.195.375-.27.585s-.135.42-.18.63c-.045.21-.045.405.015.585s.135.345.225.495c.09.15.195.285.315.405.12.12.255.225.405.315.15.09.315.135.495.135.24 0 .465-.09.675-.27.21-.18.39-.39.54-.63.15-.24.27-.45.36-.63.09-.18.18-.345.27-.495.09-.15.135-.255.135-.315s-.015-.12-.045-.18z"})})}),f.jsx("a",{href:`tel:${T.Phone}`,onClick:ie=>ie.stopPropagation(),className:"text-blue-500 hover:text-blue-600",title:"Call",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})})})]})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",onClick:ie=>ie.stopPropagation(),children:f.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.jsx("button",{onClick:()=>n(T),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-200",children:"Edit"}),f.jsx("button",{onClick:()=>s(T),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-200",children:"Delete"})]})})]},T.id)})})]}),he.length===0&&f.jsx("p",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No students found."})]}),f.jsxs("div",{className:"flex items-center justify-between pt-4",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx("label",{htmlFor:"rowsPerPage",className:"text-gray-600 dark:text-gray-400",children:"Rows:"}),f.jsxs("select",{id:"rowsPerPage",value:B,onChange:T=>J(Number(T.target.value)),className:"bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md p-1.5 focus:ring-indigo-500",children:[f.jsx("option",{value:10,children:"10"}),f.jsx("option",{value:20,children:"20"}),f.jsx("option",{value:0,children:"All"})]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[f.jsxs("span",{children:["Page ",G," of ",ue]}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{onClick:()=>$(T=>Math.max(1,T-1)),disabled:G===1,className:"p-1 rounded-md disabled:opacity-50 hover:bg-gray-100 dark:hover:bg-gray-700",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),f.jsx("button",{onClick:()=>$(T=>Math.min(ue,T+1)),disabled:G===ue,className:"p-1 rounded-md disabled:opacity-50 hover:bg-gray-100 dark:hover:bg-gray-700",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]})]})]}),x&&f.jsx(As,{isOpen:x,onClose:()=>w(!1),onConfirm:ae,title:"Delete Selected Students",message:`Are you sure you want to delete ${y.size} selected students? This action cannot be undone.`,confirmButtonText:"Confirm",confirmButtonVariant:"danger"}),S&&y.size>0&&f.jsx(Ex,{students:l.filter(T=>y.has(T.id)),onClose:()=>N(!1)})]})},og={"Roll No":"",Name:"",Father:"",Mother:"",Phone:"","Emergency Number":"",Gender:"Male",Batch:"",Address:"","Total Fees":0,payments:[],Remarks:"","Full Paid":!1,Mode:"One Time",imageUrl:"",imagePath:""},kx=({isOpen:l,onClose:n,onSubmit:s,student:i})=>{const[c,d]=Y.useState(og),[h,m]=Y.useState(null),[v,y]=Y.useState(null),[b,x]=Y.useState(!1);Y.useEffect(()=>{i?(d(i),y(i.imageUrl||null)):(d(og),y(null)),m(null),x(!1)},[i,l]);const w=R=>{const{name:U,value:G,type:$}=R.target;if($==="checkbox"){d(B=>({...B,[U]:R.target.checked}));return}d(U==="Total Fees"?B=>({...B,[U]:Number(G)||0}):B=>({...B,[U]:G}))},S=async R=>{var G;const U=(G=R.target.files)==null?void 0:G[0];if(U)try{const $={maxSizeMB:1,maxWidthOrHeight:800,useWebWorker:!0},B=await imageCompression(U,$);m(B),y(URL.createObjectURL(B))}catch($){console.error("Image compression failed:",$),m(U),y(URL.createObjectURL(U))}},N=async R=>{R.preventDefault(),x(!0),await s(c,h)};return l?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-full overflow-y-auto",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:i?"Edit Student":"Add New Student"}),f.jsx("button",{onClick:n,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",children:f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),f.jsxs("form",{onSubmit:N,className:"mt-4 space-y-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[v?f.jsx("img",{src:v,alt:"Profile Preview",className:"w-24 h-24 rounded-full object-cover shadow-md"}):f.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center shadow-md",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"photo-upload",className:"cursor-pointer px-4 py-2 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-500",children:[f.jsx("span",{children:"Upload Photo"}),f.jsx("input",{id:"photo-upload",name:"photo-upload",type:"file",className:"sr-only",accept:"image/*",onChange:S})]}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"PNG or JPG. Recommended size: 800x800px."})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx("input",{type:"text",name:"Name",value:c.Name,onChange:w,placeholder:"Full Name",required:!0,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),f.jsx("input",{type:"text",name:"Roll No",value:c["Roll No"],onChange:w,placeholder:"Roll No.",required:!0,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),f.jsx("input",{type:"text",name:"Father",value:c.Father,onChange:w,placeholder:"Father's Name",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),f.jsx("input",{type:"text",name:"Mother",value:c.Mother,onChange:w,placeholder:"Mother's Name",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),f.jsx("input",{type:"tel",name:"Phone",value:c.Phone,onChange:w,placeholder:"Phone Number",required:!0,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),f.jsx("input",{type:"tel",name:"Emergency Number",value:c["Emergency Number"],onChange:w,placeholder:"Emergency Number",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),f.jsxs("select",{name:"Gender",value:c.Gender,onChange:w,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600",children:[f.jsx("option",{children:"Male"}),f.jsx("option",{children:"Female"}),f.jsx("option",{children:"Other"})]}),f.jsx("input",{type:"text",name:"Batch",value:c.Batch,onChange:w,placeholder:"Batch",required:!0,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),f.jsx("input",{type:"number",name:"Total Fees",value:c["Total Fees"],onChange:w,placeholder:"Total Fees",required:!0,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),f.jsxs("select",{name:"Mode",value:c.Mode,onChange:w,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600",children:[f.jsx("option",{children:"One Time"}),f.jsx("option",{children:"Monthly"})]})]}),f.jsx("textarea",{name:"Address",value:c.Address,onChange:w,placeholder:"Address",rows:2,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),f.jsx("textarea",{name:"Remarks",value:c.Remarks,onChange:w,placeholder:"Remarks",rows:2,className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600"}),f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("input",{id:"full-paid",type:"checkbox",name:"Full Paid",checked:!!c["Full Paid"],onChange:w,className:"mt-1 h-4 w-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"full-paid",className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Mark as Full Paid"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Overrides calculated status. Use for discounts or scholarships."})]})]}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none dark:bg-gray-600 dark:text-gray-200 dark:border-gray-500 dark:hover:bg-gray-500",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:b,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:b?"Saving...":i?"Update Student":"Add Student"})]})]})]})})}):null},Nx=({student:l,onClose:n,onSave:s})=>{const[i,c]=Y.useState(l),[d,h]=Y.useState(null),[m,v]=Y.useState(l.imageUrl||null),[y,b]=Y.useState(!1);Y.useEffect(()=>{c(l),v(l.imageUrl||null),h(null),b(!1)},[l]);const x=G=>{const{name:$,value:B,type:J}=G.target;if(J==="checkbox"){c(Q=>({...Q,[$]:G.target.checked}));return}c($==="Total Fees"?Q=>({...Q,[$]:Number(B)||0}):Q=>({...Q,[$]:B}))},w=async G=>{var B;const $=(B=G.target.files)==null?void 0:B[0];if($)try{const J={maxSizeMB:1,maxWidthOrHeight:800,useWebWorker:!0},Q=await imageCompression($,J);h(Q);const I=new FileReader;I.onloadend=()=>{v(I.result)},I.readAsDataURL(Q)}catch(J){console.error("Error compressing image:",J),h($);const Q=new FileReader;Q.onloadend=()=>{v(Q.result)},Q.readAsDataURL($)}},S=async G=>{G.preventDefault(),b(!0),await s(i,d||void 0)},N=Y.useMemo(()=>(i.payments||[]).reduce((G,$)=>G+$.amount,0),[i.payments]),R=Y.useMemo(()=>i["Full Paid"]?0:(i["Total Fees"]||0)-N,[i,N]),U=G=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(G);return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-2xl w-full max-w-4xl max-h-full overflow-y-auto",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Edit Student Profile"}),f.jsxs("form",{onSubmit:S,className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[f.jsxs("div",{className:"md:w-1/3 space-y-4",children:[f.jsxs("fieldset",{children:[f.jsx("legend",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-700 pb-2 mb-4",children:"Profile Photo"}),f.jsxs("div",{className:"flex flex-col items-center",children:[m?f.jsx("img",{src:m,alt:"Student",className:"h-32 w-32 rounded-full object-cover shadow-lg mb-4"}):f.jsx("div",{className:"h-32 w-32 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center shadow-lg mb-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),f.jsxs("label",{htmlFor:"photo-upload",className:"cursor-pointer px-4 py-2 bg-white dark:bg-gray-600 border border-gray-300 dark:border-gray-500 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-500",children:[f.jsx("span",{children:"Change Photo"}),f.jsx("input",{id:"photo-upload",name:"photo-upload",type:"file",className:"sr-only",accept:"image/*",onChange:w})]})]})]}),f.jsxs("div",{className:"text-center md:text-left",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Roll No"}),f.jsx("input",{type:"text",name:"Roll No",value:i["Roll No"],onChange:x,className:"mt-1 block w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none sm:text-sm",readOnly:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Name"}),f.jsx("input",{type:"text",name:"Name",value:i.Name,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700"})]})]}),f.jsx("div",{className:"md:w-2/3",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Gender"}),f.jsxs("select",{name:"Gender",value:i.Gender,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[f.jsx("option",{children:"Male"}),f.jsx("option",{children:"Female"}),f.jsx("option",{children:"Other"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Batch"}),f.jsx("input",{type:"text",name:"Batch",value:i.Batch,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Father"}),f.jsx("input",{type:"text",name:"Father",value:i.Father||"",onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mother"}),f.jsx("input",{type:"text",name:"Mother",value:i.Mother||"",onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone"}),f.jsx("input",{type:"tel",name:"Phone",value:i.Phone,onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Emergency Number"}),f.jsx("input",{type:"tel",name:"Emergency Number",value:i["Emergency Number"]||"",onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Address"}),f.jsx("input",{type:"text",name:"Address",value:i.Address||"",onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700"})]})]})})]}),f.jsxs("fieldset",{children:[f.jsx("legend",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-700 pb-2 mb-4",children:"Payment Details"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total Fees"}),f.jsx("input",{type:"number",name:"Total Fees",value:i["Total Fees"],onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700",placeholder:"e.g., 50000"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Payment Mode"}),f.jsxs("select",{name:"Mode",value:i.Mode||"",onChange:x,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[f.jsx("option",{value:"",children:"Not Specified"}),f.jsx("option",{children:"Monthly"}),f.jsx("option",{children:"One Time"})]})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total Paid"}),f.jsx("div",{className:"mt-1 block w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm sm:text-sm",children:U(N)})]}),f.jsx("div",{className:"md:col-span-2",children:f.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-md text-center",children:[f.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Remaining Fees: "}),f.jsx("span",{className:`font-bold ${R>0?"text-red-600":"text-green-600"}`,children:U(R)})]})}),f.jsxs("div",{className:"flex items-center gap-2 mt-2 md:col-span-2",children:[f.jsx("input",{id:"full-paid",name:"Full Paid",type:"checkbox",checked:i["Full Paid"]??!1,onChange:x,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"full-paid",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mark as Full Paid"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Overrides calculated status. Use for discounts or scholarships."})]})]})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Student Remarks"}),f.jsx("textarea",{name:"Remarks",value:i.Remarks||"",onChange:x,rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700",placeholder:"Add any general remarks for the student here."})]})]}),f.jsxs("fieldset",{className:"mt-6",children:[f.jsx("legend",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-700 pb-2 mb-4",children:"Transaction History"}),f.jsx("div",{className:"max-h-48 overflow-y-auto border dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-900",children:(i.payments||[]).length>0?f.jsxs("table",{className:"min-w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 sticky top-0",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300",children:"Date"}),f.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300",children:"Amount"}),f.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300",children:"Method"}),f.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300",children:"Remarks"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-800",children:[...i.payments].sort((G,$)=>new Date($.date).getTime()-new Date(G.date).getTime()).map(G=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:G.date}),f.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:U(G.amount)}),f.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:G.method}),f.jsx("td",{className:"px-4 py-2",children:G.remarks})]},G.id))})]}):f.jsx("p",{className:"text-center text-gray-500 py-6",children:"No payment history found."})})]}),f.jsxs("div",{className:"flex justify-end gap-4 pt-8 border-t dark:border-gray-700 mt-8",children:[f.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:y,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:y?"Saving...a":"Save Changes"})]})]})]})})},Ox=({isOpen:l,onClose:n,onUploadComplete:s,existingStudents:i,existingBatches:c})=>{const[d,h]=Y.useState(null),[m,v]=Y.useState(!1),[y,b]=Y.useState(""),[x,w]=Y.useState(null),[S,N]=Y.useState(null),R=()=>{h(null),v(!1),b(""),w(null),N(null)},U=()=>{R(),n()},G=Q=>{Q.target.files&&(h(Q.target.files[0]),b(""),w(null),N(null))},$=()=>{const Q=[{Name:"Aarav Sharma","Roll No":"101",Batch:"Physics-A",Phone:"9876543210","Total Fees":5e4,Father:"Rohan Sharma",Mother:"Priya Sharma","Emergency Number":"9876543211",Gender:"Male",Address:"123, ABC Colony, New Delhi",Remarks:"Joined in April session","Full Paid":!1,Mode:"Monthly"}],I=XLSX.utils.json_to_sheet(Q),P=XLSX.utils.book_new();XLSX.utils.book_append_sheet(P,I,"Students"),XLSX.writeFile(P,"student_upload_template.xlsx")},B=()=>{if(!S)return;const Q=XLSX.utils.json_to_sheet(S),I=XLSX.utils.book_new();XLSX.utils.book_append_sheet(I,Q,"Skipped Records"),XLSX.writeFile(I,"skipped_student_records.xlsx")},J=async()=>{if(!d){b("Please select a file.");return}v(!0),b(""),w(null),N(null);const Q=new FileReader;Q.onload=async I=>{var P;try{const he=new Uint8Array((P=I.target)==null?void 0:P.result),Ee=XLSX.read(he,{type:"array"}),We=Ee.SheetNames[0],te=Ee.Sheets[We],ae=XLSX.utils.sheet_to_json(te);if(ae.length===0){b("The file is empty or doesn't contain valid data."),v(!1);return}const Te=new Set(i.map(V=>String(V["Roll No"]))),Oe=[],ue=[];for(const V of ae){const F=V["Roll No"]?String(V["Roll No"]).trim():"",le=V.Name?String(V.Name).trim():"",me=V.Batch?String(V.Batch).trim():"";if(!F||!le||!me){ue.push({...V,"Reason for Skipping":"Missing Name, Roll No, or Batch"});continue}if(Te.has(F))ue.push({...V,"Reason for Skipping":"Roll No already exists"});else{const Le={Name:le,"Roll No":F,Batch:me,Phone:String(V.Phone??""),"Total Fees":Number(V["Total Fees"]??0),Father:V.Father??"",Mother:V.Mother??"","Emergency Number":String(V["Emergency Number"]??""),Gender:V.Gender==="Female"?"Female":V.Gender==="Other"?"Other":"Male",Address:V.Address??"",Remarks:V.Remarks??"","Full Paid":V["Full Paid"]!=null?!!V["Full Paid"]:!1,Mode:V.Mode==="Monthly"?"Monthly":"One Time",payments:[],imageUrl:"",imagePath:""};Oe.push(Le),Te.add(F)}}const T=Oe.length>0?await xx(Oe):[],q=Array.isArray(T)?T:[],X=q.reduce((V,F)=>(F&&F.id&&F.Batch&&(V[F.Batch]=[...V[F.Batch]||[],F.id]),V),{}),de=Object.keys(X),ie=new Map(c.map(V=>[V.name,V])),j=[],L=[];let K=0;de.forEach(V=>{const F=X[V];if(ie.has(V)){const le=ie.get(V),me=[...new Set([...le.studentIds,...F])];L.push(ol(le.id,{studentIds:me}))}else j.push({name:V,studentIds:F,wardens:[]}),K++,ie.set(V,{id:"temp",name:V,studentIds:F,wardens:[]})}),j.length>0&&await wx(j),L.length>0&&await Promise.all(L),w({processed:ae.length,created:q.length,skipped:ue.length,newBatches:K}),ue.length>0&&N(ue),(q.length>0||K>0)&&s()}catch(he){console.error(he),b(`Upload failed: ${he.message}. Please check file format and data.`)}finally{v(!1)}},Q.readAsArrayBuffer(d)};return l?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Bulk Student Upload"}),f.jsx("button",{onClick:U,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",children:f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),f.jsxs("div",{className:"mt-4 space-y-4",children:[f.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f.jsxs("p",{children:["Upload an Excel file. New students will be created. ",f.jsx("strong",{children:"Existing students (matched by 'Roll No') will be ignored."})]}),f.jsx("button",{onClick:$,className:"text-indigo-600 dark:text-indigo-400 hover:underline font-medium mt-1 text-sm",children:"Download Template"})]}),f.jsx("input",{type:"file",onChange:G,accept:".xlsx, .xls, .csv",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-indigo-900/50 dark:file:text-indigo-300 dark:hover:file:bg-indigo-900"}),y&&f.jsx("p",{className:"text-sm text-red-500",children:y}),x&&f.jsxs("div",{className:`mt-4 p-4 rounded-md ${x.created>0?"bg-green-50 dark:bg-green-900/50 text-green-700 dark:text-green-300":"bg-yellow-50 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-300"}`,children:[f.jsx("h4",{className:"font-bold",children:"Upload Complete!"}),f.jsxs("ul",{className:"list-disc list-inside text-sm mt-1",children:[f.jsxs("li",{children:["Processed: ",x.processed," rows"]}),f.jsxs("li",{children:["Students Created: ",x.created]}),f.jsxs("li",{children:["Batches Created: ",x.newBatches]}),f.jsxs("li",{children:["Records Skipped: ",x.skipped," (already exist or invalid data)"]})]}),S&&S.length>0&&f.jsx("button",{onClick:B,className:"mt-3 px-3 py-1 text-sm font-medium bg-white dark:bg-gray-600 text-indigo-700 dark:text-indigo-200 border border-indigo-300 dark:border-indigo-500 rounded-md hover:bg-gray-50 dark:hover:bg-gray-500",children:"Download Skipped Records"})]})]}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t dark:border-gray-700 mt-4",children:[f.jsx("button",{type:"button",onClick:U,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 dark:bg-gray-600 dark:text-gray-200 dark:border-gray-500 dark:hover:bg-gray-500",children:"Cancel"}),f.jsx("button",{onClick:J,disabled:m||!d,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Processing...":"Upload File"})]})]})})}):null},Ax=({student:l,onClose:n,onSave:s})=>{const[i,c]=Y.useState(""),[d,h]=Y.useState("Online"),[m,v]=Y.useState(new Date().toISOString().slice(0,10)),[y,b]=Y.useState(""),[x,w]=Y.useState(!1),S=Y.useMemo(()=>(l.payments||[]).reduce(($,B)=>$+B.amount,0),[l.payments]),N=Y.useMemo(()=>l["Total Fees"]-S,[l,S]),R=$=>{const B=$.target.value;/^\d*\.?\d*$/.test(B)&&c(B)},U=async $=>{$.preventDefault();const B=parseFloat(i);if(!B||B<=0){alert("Please enter a valid positive amount.");return}if(!m||new Date(m).toString()==="Invalid Date"){alert("Please select a valid date.");return}w(!0);const J={id:crypto.randomUUID(),amount:B,method:d,date:m,remarks:y};await s(l,J)},G=$=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format($);return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-2xl w-full max-w-md",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-2",children:"Record Payment"}),f.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:["For: ",f.jsx("span",{className:"font-semibold",children:l.Name})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Fees"}),f.jsx("p",{className:"font-semibold dark:text-white",children:G(l["Total Fees"])})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Fees Remaining"}),f.jsx("p",{className:`font-semibold ${N>0?"text-red-600":"text-green-600"}`,children:G(N)})]})]}),f.jsxs("form",{onSubmit:U,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Amount"}),f.jsx("input",{type:"text",value:i,onChange:R,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",placeholder:"Enter amount being paid",required:!0,pattern:"^\\d*\\.?\\d*$"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Payment Method"}),f.jsxs("select",{value:d,onChange:$=>h($.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",children:[f.jsx("option",{children:"Online"}),f.jsx("option",{children:"Cash"}),f.jsx("option",{children:"Card"}),f.jsx("option",{children:"UPI"}),f.jsx("option",{children:"Other"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Payment Date"}),f.jsx("input",{type:"date",value:m,onChange:$=>v($.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Remarks (Optional)"}),f.jsx("textarea",{value:y,onChange:$=>b($.target.value),rows:2,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600",placeholder:"e.g., Transaction ID, partial payment"})]}),f.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[f.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:x?"Saving...":"Save Payment"})]})]})]})})},ll=({title:l,value:n})=>f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate",children:l}),f.jsx("p",{className:"mt-1 text-3xl font-semibold text-gray-900 dark:text-white",children:n})]}),Cx=({transactions:l})=>{const n=Y.useRef(null),s=Y.useRef(null),i=Y.useMemo(()=>{const c={},d=[],h=new Date;for(let m=5;m>=0;m--){const y=new Date(h.getFullYear(),h.getMonth()-m,1).toLocaleString("default",{month:"short",year:"2-digit"});d.push(y),c[y]=0}return l.forEach(m=>{const y=new Date(m.date).toLocaleString("default",{month:"short",year:"2-digit"});c.hasOwnProperty(y)&&(c[y]+=m.amount)}),{labels:d,datasets:[{label:"Fees Collected",data:d.map(m=>c[m]),backgroundColor:"rgba(79, 70, 229, 0.7)",borderColor:"rgba(79, 70, 229, 1)",borderWidth:1,borderRadius:4}]}},[l]);return Y.useEffect(()=>{if(!n.current)return;s.current&&s.current.destroy();const c=n.current.getContext("2d");if(c)return s.current=new Chart(c,{type:"bar",data:i,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{callback:function(d){return d>=1e3?"₹"+d/1e3+"k":"₹"+d}}},x:{grid:{display:!1}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(d){let h=d.dataset.label||"";return h&&(h+=": "),d.parsed.y!==null&&(h+=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(d.parsed.y)),h}}}}}}),()=>{s.current&&s.current.destroy()}},[i]),f.jsx("canvas",{ref:n})},fc=l=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(l),Rx=({students:l})=>f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-white mb-4",children:"Recent Students"}),f.jsxs("div",{className:"space-y-4",children:[l.slice(0,5).map(n=>f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:n.imageUrl||`https://ui-avatars.com/api/?name=${n.Name}&background=random`,alt:n.Name}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.Name}),f.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Roll No: ",n["Roll No"]]})]})]},n.id)),l.length===0&&f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No students have been added yet."})]})]}),Dx=({transactions:l})=>f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-white mb-4",children:"Recent Transactions"}),f.jsxs("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[l.slice(0,5).map(n=>f.jsxs("li",{className:"py-3 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:n.studentName}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:n.date})]}),f.jsx("p",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:fc(n.amount)})]},n.id)),l.length===0&&f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 pt-2",children:"No transactions recorded yet."})]})]}),Ux=({students:l,batches:n,transactions:s})=>{const i=Y.useMemo(()=>{const c=l.length,d=n.length,h=s.reduce((y,b)=>y+b.amount,0),m=l.reduce((y,b)=>{if(b["Full Paid"])return y;const x=(b.payments||[]).reduce((S,N)=>S+N.amount,0),w=b["Total Fees"]-x;return y+(w>0?w:0)},0),v=l.filter(y=>y["Full Paid"]?!0:(y.payments||[]).reduce((x,w)=>x+w.amount,0)>=y["Total Fees"]).length;return{totalStudents:c,totalBatches:d,feesCollected:h,feesRemaining:m,fullPaidCount:v}},[l,n,s]);return f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-semibold text-gray-700 dark:text-gray-200 mb-6",children:"Overview"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsx(ll,{title:"Total Students",value:i.totalStudents}),f.jsx(ll,{title:"Total Batches",value:i.totalBatches}),f.jsx(ll,{title:"Total Fees Collected",value:fc(i.feesCollected)}),f.jsx(ll,{title:"Total Fees Remaining",value:fc(i.feesRemaining)})]}),f.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-white mb-4",children:"Monthly Fee Collection"}),f.jsx("div",{className:"h-80",children:f.jsx(Cx,{transactions:s})})]}),f.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[f.jsx(Rx,{students:l}),f.jsx(Dx,{transactions:s})]})]})]})},zx=()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),Mx=()=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-pink-500",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),Bx=({batches:l,students:n,onInitiateDeleteBatch:s,onAddWarden:i,onRemoveWarden:c,onAssignStudents:d})=>{const[h,m]=Y.useState(null),[v,y]=Y.useState(null),[b,x]=Y.useState(""),[w,S]=Y.useState(null),[N,R]=Y.useState(new Set),U=Y.useMemo(()=>new Map(n.map(te=>[te.id,te])),[n]),G=te=>U.get(te),$=te=>{m(ae=>ae===te?null:te),y(null),S(null)},B=(te,ae)=>{(v==null?void 0:v.batchId)===te&&(v==null?void 0:v.gender)===ae?y(null):(y({batchId:te,gender:ae}),x(""),S(null))},J=()=>{v&&b&&(i(v.batchId,b),y(null),x(""))},Q=(te,ae)=>{(w==null?void 0:w.wardenStudentId)===ae.wardenStudentId?S(null):(S({batchId:te.id,wardenStudentId:ae.wardenStudentId}),R(new Set(ae.assignedStudentIds)),y(null))},I=()=>{S(null),R(new Set)},P=()=>{w&&(d(w.batchId,w.wardenStudentId,Array.from(N)),S(null))},he=te=>{R(ae=>{const Te=new Set(ae);return Te.has(te)?Te.delete(te):Te.add(te),Te})},Ee=te=>{if(!v||v.batchId!==te.id)return null;const{gender:ae}=v,Te=new Set(te.wardens.map(ue=>ue.wardenStudentId)),Oe=te.studentIds.map(ue=>G(ue)).filter(ue=>!!(ue&&ue.Gender===ae&&!Te.has(ue.id)));return f.jsxs("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-md flex items-center gap-3 transition-all duration-300",children:[f.jsxs("select",{value:b,onChange:ue=>x(ue.target.value),className:"flex-grow w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-indigo-500 bg-white dark:bg-gray-700 text-sm",children:[f.jsxs("option",{value:"",children:["-- Select a ",ae.toLowerCase()," student --"]}),Oe.map(ue=>f.jsxs("option",{value:ue.id,children:[ue.Name," (",ue["Roll No"],")"]},ue.id))]}),f.jsx("button",{onClick:J,disabled:!b,className:"px-3 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 disabled:bg-green-300",children:"Add"}),f.jsx("button",{onClick:()=>y(null),className:"px-3 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 text-sm rounded-md hover:bg-gray-300 dark:hover:bg-gray-500",children:"Cancel"})]})},We=(te,ae)=>{var T;const Te=new Set(te.wardens.map(q=>q.wardenStudentId)),Oe=new Set(te.wardens.filter(q=>q.wardenStudentId!==ae.wardenStudentId).flatMap(q=>q.assignedStudentIds)),ue=te.studentIds.map(q=>G(q)).filter(q=>!!q&&!Te.has(q.id));return f.jsxs("div",{className:"mt-4 p-4 bg-gray-100 dark:bg-gray-900/50 rounded-md",children:[f.jsxs("h5",{className:"text-md font-semibold text-gray-800 dark:text-gray-200 mb-3",children:["Assign students to ",(T=G(ae.wardenStudentId))==null?void 0:T.Name,":"]}),f.jsxs("div",{className:"max-h-48 overflow-y-auto space-y-2 border dark:border-gray-600 rounded-md p-2",children:[ue.map(q=>{const X=Oe.has(q.id);return f.jsxs("label",{className:`flex items-center p-2 rounded-md ${X?"opacity-50 cursor-not-allowed":"hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[f.jsx("input",{type:"checkbox",checked:N.has(q.id),onChange:()=>he(q.id),disabled:X,className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),f.jsxs("span",{className:"ml-3 text-sm text-gray-700 dark:text-gray-300",children:[q.Name," (",q["Roll No"],")"]}),X&&f.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"(Assigned elsewhere)"})]},q.id)}),ue.length===0&&f.jsx("p",{className:"text-sm text-center text-gray-500 py-4",children:"No students available in this batch to assign."})]}),f.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[f.jsx("button",{onClick:I,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 text-sm",children:"Cancel"}),f.jsx("button",{onClick:P,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm",children:"Save Assignments"})]})]})};return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white mb-4",children:"Batch Management"}),l.length===0?f.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No batches created yet. Go to the Students tab to select students and create a batch."}):f.jsx("div",{className:"space-y-4",children:l.map(te=>f.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg",children:[f.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",onClick:()=>$(te.id),children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-lg text-indigo-700 dark:text-indigo-400",children:te.name}),f.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[te.studentIds.length," members"]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:ae=>{ae.stopPropagation(),s(te)},className:"text-red-500 hover:text-red-700 font-medium text-sm",children:"Delete"}),f.jsx("svg",{className:`w-5 h-5 text-gray-500 transform transition-transform ${h===te.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]}),h===te.id&&f.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 space-y-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-md font-medium text-gray-600 dark:text-gray-300 mb-2",children:"Members:"}),f.jsx("ul",{className:"divide-y divide-gray-100 dark:divide-gray-700 max-h-40 overflow-y-auto",children:te.studentIds.map(ae=>G(ae)).filter(Boolean).map(ae=>f.jsxs("li",{className:"py-2 flex justify-between items-center",children:[f.jsx("span",{children:ae.Name}),f.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Roll: ",ae["Roll No"]]})]},ae.id))})]}),f.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsx("h4",{className:"text-md font-semibold text-gray-700 dark:text-gray-200",children:"Warden Management"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>B(te.id,"Female"),className:"px-3 py-1 text-xs font-medium text-pink-700 bg-pink-100 rounded-full hover:bg-pink-200 dark:bg-pink-900 dark:text-pink-200 dark:hover:bg-pink-800",children:"Add Girl Warden"}),f.jsx("button",{onClick:()=>B(te.id,"Male"),className:"px-3 py-1 text-xs font-medium text-blue-700 bg-blue-100 rounded-full hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-200 dark:hover:bg-blue-800",children:"Add Boy Warden"})]})]}),Ee(te),f.jsxs("div",{className:"space-y-3 mt-3",children:[te.wardens.map(ae=>{const Te=G(ae.wardenStudentId);if(!Te)return null;const Oe=(w==null?void 0:w.wardenStudentId)===ae.wardenStudentId;return f.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-md",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("p",{className:"font-semibold text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[Te.Gender==="Male"?f.jsx(zx,{}):f.jsx(Mx,{}),Te.Name," ",f.jsx("span",{className:"text-xs text-gray-500",children:"(Warden)"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>Q(te,ae),className:`text-sm ${Oe?"text-gray-500":"text-indigo-600 hover:text-indigo-800"}`,children:Oe?"Close Editor":"Assign Students"}),f.jsx("button",{onClick:()=>c(te.id,ae.wardenStudentId),className:"text-sm text-red-500 hover:text-red-700",children:"Remove"})]})]}),f.jsxs("ul",{className:"mt-2 pl-4 text-sm text-gray-600 dark:text-gray-300 list-disc",children:[ae.assignedStudentIds.map(ue=>G(ue)).filter(Boolean).map(ue=>f.jsxs("li",{children:[ue.Name," ",f.jsxs("span",{className:"text-gray-400 dark:text-gray-500",children:["(",ue["Roll No"],")"]})]},ue.id)),ae.assignedStudentIds.length===0&&f.jsx("li",{className:"list-none text-xs text-gray-400",children:"No students assigned."})]}),Oe&&We(te,ae)]},ae.wardenStudentId)}),te.wardens.length===0&&f.jsx("p",{className:"text-sm text-gray-400 mt-4",children:"No wardens assigned to this batch."})]})]})]})]},te.id))})]})})},Lx=({wardenStudent:l,assignedStudents:n})=>f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("img",{className:"h-12 w-12 rounded-full object-cover",src:l.imageUrl||`https://ui-avatars.com/api/?name=${l.Name}&background=random`,alt:l.Name}),f.jsxs("div",{children:[f.jsx("p",{className:"text-md font-semibold text-gray-900 dark:text-white",children:l.Name}),f.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Roll No: ",l["Roll No"]]})]})]}),f.jsxs("div",{className:"mt-4 border-t border-gray-200 dark:border-gray-600 pt-3",children:[f.jsxs("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-2",children:["Assigned Students (",n.length,")"]}),n.length>0?f.jsx("ul",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-400 max-h-32 overflow-y-auto",children:n.map(s=>f.jsxs("li",{children:["- ",s.Name," ",f.jsxs("span",{className:"text-gray-400 dark:text-gray-500",children:["(",s["Roll No"],")"]})]},s.id))}):f.jsx("p",{className:"text-sm text-gray-400 italic",children:"No students assigned yet."})]})]}),qx=({batches:l,students:n})=>{const s=Y.useMemo(()=>new Map(n.map(c=>[c.id,c])),[n]),i=Y.useMemo(()=>l.map(c=>{const d=c.wardens.map(h=>{const m=s.get(h.wardenStudentId),v=h.assignedStudentIds.map(y=>s.get(y)).filter(y=>!!y);return{wardenStudent:m,assignedStudents:v}}).filter(h=>!!h.wardenStudent);return{batch:c,wardens:d}}).filter(c=>c.wardens.length>0),[l,s]);return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:"Warden Overview"}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"A centralized view of all wardens and their assigned students across different batches."})]}),i.length===0?f.jsxs("div",{className:"text-center py-10 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[f.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:f.jsx("path",{vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 20.944L12 22l9-1.056v-5.556c0-1.076-.232-2.11-.658-3.084z"})}),f.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No Wardens Assigned"}),f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:'Assign students as wardens in the "Batches" section to see them here.'})]}):i.map(({batch:c,wardens:d})=>f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xl font-bold text-indigo-600 dark:text-indigo-400 mb-4 pb-2 border-b-2 border-indigo-200 dark:border-indigo-800",children:["Batch: ",c.name]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(({wardenStudent:h,assignedStudents:m})=>f.jsx(Lx,{wardenStudent:h,assignedStudents:m},h.id))})]},c.id))]})},Hx=({transactions:l,onResetHistory:n,onDeleteTransaction:s})=>{const[i,c]=Y.useState(""),[d,h]=Y.useState(!1),[m,v]=Y.useState(null),y=Y.useMemo(()=>{if(!i.trim())return l;const S=i.toLowerCase().trim();return l.filter(N=>N.studentName.toLowerCase().includes(S)||String(N.studentRollNo).toLowerCase().includes(S)||N.method.toLowerCase().includes(S)||(N.remarks||"").toLowerCase().includes(S))},[l,i]),b=S=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(S),x=async()=>{await n(),h(!1)},w=async()=>{m&&(await s(m.id),v(null))};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:"Payment History"}),f.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Showing ",y.length," of ",l.length," transactions"]})]}),f.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[f.jsx("input",{type:"text",placeholder:"Search transactions...",className:"w-full sm:w-64 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700",value:i,onChange:S=>c(S.target.value)}),f.jsx("button",{onClick:()=>h(!0),className:"px-3 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",title:"Reset all payment history",children:"Reset"})]})]}),f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[f.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Student Name"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Roll No"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Method"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Transaction ID"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Remarks"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:y.map(S=>f.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:S.date}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:S.studentName}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:S.studentRollNo}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-200",children:b(S.amount)}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:S.method}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400 font-mono",title:S.id,children:[S.id.substring(0,8),"..."]}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-300",children:S.remarks}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:f.jsx("button",{onClick:()=>v(S),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:"Delete Transaction",children:"Delete"})})]},S.id))})]}),y.length===0&&f.jsx("p",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No transactions found."})]})]}),d&&f.jsx(As,{isOpen:d,onClose:()=>h(!1),onConfirm:x,title:"Reset All Payment History?",message:"Are you sure you want to delete ALL payment records? This action is permanent and cannot be undone.",confirmButtonText:"Yes, Delete All",confirmButtonVariant:"danger"}),m&&f.jsx(As,{isOpen:!!m,onClose:()=>v(null),onConfirm:w,title:"Delete Transaction?",message:`Are you sure you want to permanently delete this payment of ${b(m.amount)} for ${m.studentName}? This cannot be undone.`,confirmButtonText:"Confirm Delete",confirmButtonVariant:"danger"})]})},$x=({message:l,type:n,onClose:s})=>{Y.useEffect(()=>{const d=setTimeout(s,4e3);return()=>clearTimeout(d)},[s]);const i="fixed top-5 right-5 z-[100] text-white px-6 py-3 rounded-lg shadow-lg flex items-center animate-fade-in-down",c={success:"bg-green-500",error:"bg-red-500"};return f.jsxs("div",{className:`${i} ${c[n]}`,children:[f.jsx("p",{children:l}),f.jsx("button",{onClick:s,className:"ml-4 text-xl font-semibold leading-none",children:"×"})]})},sm=()=>f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"}),ea=({label:l,value:n})=>f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wider",children:l}),f.jsx("p",{className:"text-gray-800 dark:text-gray-200",children:n||"-"})]}),Gx=({student:l,onClose:n,onPay:s,onEdit:i})=>{const c=(l.payments||[]).reduce((m,v)=>m+v.amount,0),d=l["Full Paid"]?0:l["Total Fees"]-c,h=m=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(m);return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start p-4 pt-10 sm:pt-20",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[f.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Student Profile"}),f.jsx("button",{onClick:n,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",children:f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-8",children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[f.jsxs("div",{className:"md:w-1/3 text-center md:text-left space-y-4 flex flex-col items-center",children:[f.jsx("img",{src:l.imageUrl||`https://ui-avatars.com/api/?name=${l.Name}&background=random`,alt:l.Name,className:"h-32 w-32 rounded-full object-cover shadow-lg"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:l.Name}),f.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Roll No: ",l["Roll No"]]})]}),f.jsx(ea,{label:"Batch",value:l.Batch})]}),f.jsx("div",{className:"md:w-2/3 space-y-6",children:f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4",children:[f.jsx(ea,{label:"Father's Name",value:l.Father}),f.jsx(ea,{label:"Mother's Name",value:l.Mother}),f.jsx(ea,{label:"Gender",value:l.Gender}),f.jsx(ea,{label:"Phone",value:l.Phone}),f.jsx(ea,{label:"Emergency Number",value:l["Emergency Number"]}),f.jsx(ea,{label:"Address",value:l.Address})]})})]}),f.jsxs("div",{className:"mt-8 border-t border-gray-200 dark:border-gray-700 pt-6",children:[f.jsx("h4",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-4",children:"Payment Details"}),f.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg mb-6",children:[f.jsx(ea,{label:"Total Fees",value:h(l["Total Fees"])}),f.jsx(ea,{label:"Total Paid",value:h(c)}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wider",children:"Remaining"}),f.jsx("p",{className:`font-semibold ${d>0?"text-red-500":"text-green-500"}`,children:h(d)})]}),f.jsx(ea,{label:"Payment Mode",value:l.Mode})]}),f.jsx("h4",{className:"text-md font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Transaction History"}),f.jsx("div",{className:"max-h-40 overflow-y-auto border dark:border-gray-600 rounded-md",children:(l.payments||[]).length>0?f.jsxs("table",{className:"min-w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700 sticky top-0",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300",children:"Date"}),f.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300",children:"Amount"}),f.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-600 dark:text-gray-300",children:"Method"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600 bg-white dark:bg-gray-800",children:[...l.payments].sort((m,v)=>new Date(v.date).getTime()-new Date(m.date).getTime()).map(m=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:m.date}),f.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:h(m.amount)}),f.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:m.method})]},m.id))})]}):f.jsx("p",{className:"text-center text-gray-500 py-6",children:"No payment history found."})}),l.Remarks&&f.jsxs("div",{className:"mt-6",children:[f.jsx("h4",{className:"text-md font-semibold text-gray-700 dark:text-gray-300",children:"Remarks"}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-md",children:l.Remarks})]})]})]}),f.jsxs("div",{className:"flex justify-end items-center gap-4 p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[f.jsx("button",{onClick:n,type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none dark:bg-gray-600 dark:text-gray-200 dark:border-gray-500 dark:hover:bg-gray-500",children:"Close"}),f.jsx("button",{onClick:s,type:"button",className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md shadow-sm hover:bg-green-700 focus:outline-none",children:"Record Payment"}),f.jsx("button",{onClick:i,type:"button",className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none",children:"Edit Profile"})]})]})})},gc="student-images",ug=async(l,n)=>{const{error:s}=await Ve.storage.from(gc).upload(n,l,{cacheControl:"3600",upsert:!0});if(s)throw console.error("Error uploading image to Supabase:",s),s;const{data:i}=Ve.storage.from(gc).getPublicUrl(n);return i.publicUrl},Fu=async l=>{if(!l)return;const{error:n}=await Ve.storage.from(gc).remove([l]);n&&console.error("Error deleting image from Supabase:",n.message)},Vx=l=>{const[n,s]=Y.useState([]),[i,c]=Y.useState(!0),d=Y.useCallback(async()=>{c(!0),s([]);const{data:x,error:w}=await Ve.from("students").select("*").order("createdAt",{ascending:!1});w?(console.error("Error fetching students:",w),l("Failed to load students.","error")):s(x),c(!1)},[l]);return Y.useEffect(()=>{d()},[d]),{students:n,loading:i,refetchStudents:d,addStudentWithImage:async(x,w)=>{try{let S="",N="";if(w){const R=await imageCompression(w,{maxSizeMB:1,maxWidthOrHeight:1024});N=`profilePictures/${Date.now()}_${R.name}`,S=await ug(R,N)}await cx({...x,imageUrl:S,imagePath:N}),l("Student added successfully!","success")}catch(S){console.error("Error adding student:",S),l("Failed to add student.","error")}},updateStudentWithImage:async(x,w)=>{try{let S={...x};if(delete S.id,delete S.createdAt,w){x.imagePath&&await Fu(x.imagePath);const N=await imageCompression(w,{maxSizeMB:1,maxWidthOrHeight:1024}),R=`profilePictures/${Date.now()}_${N.name}`,U=await ug(N,R);S.imageUrl=U,S.imagePath=R}await hc(x.id,S),l("Student profile updated.","success")}catch(S){console.error("Error updating student:",S),l("Failed to update student profile.","error")}},deleteStudentAndImage:async(x,w)=>{try{x.imagePath&&await Fu(x.imagePath),w&&await px(x.id),await dx(x.id),l("Student deleted successfully.","success")}catch(S){console.error("Error deleting student:",S),l("Failed to delete student.","error")}},deleteSelectedStudents:async x=>{if(x.length!==0)try{const S=n.filter(N=>x.includes(N.id)).map(N=>N.imagePath).filter(N=>!!N).map(N=>Fu(N));await Promise.all(S),await hx(x),l(`${x.length} student(s) deleted successfully.`,"success")}catch(w){console.error("Error deleting selected students:",w),l("Failed to delete selected students.","error")}},recordPayment:async(x,w)=>{try{const N=(x.payments||[]).reduce((U,G)=>U+G.amount,0)+w.amount>=x["Total Fees"],R=[...x.payments||[],w];await hc(x.id,{payments:R,"Full Paid":N}),await mx({...w,studentId:x.id,studentName:x.Name,studentRollNo:x["Roll No"]}),l("Payment recorded successfully.","success")}catch(S){console.error("Failed to save payment:",S),l("Failed to record payment.","error")}}}},Yx=l=>{const[n,s]=Y.useState([]),[i,c]=Y.useState(!0),d=Y.useCallback(async()=>{c(!0),s([]);const{data:w,error:S}=await Ve.from("batches").select("*").order("name",{ascending:!0});S?(console.error("Error fetching batches:",S),l("Failed to load batches.","error")):s(w),c(!1)},[l]);Y.useEffect(()=>{d()},[d]);const h=Y.useCallback(async(w,S)=>{const N=w.map(R=>hc(R,{Batch:S}));await Promise.all(N)},[]);return{batches:n,loading:i,refetchBatches:d,createBatch:async(w,S)=>{try{await fx({name:w,studentIds:S,wardens:[]}),await h(S,w),l(`Batch "${w}" created.`,"success")}catch(N){console.error("Failed to create batch:",N),l("Failed to create batch.","error")}},deleteBatch:async(w,S)=>{if(w)try{S&&w.studentIds.length>0&&await bx(w.studentIds),await gx(w),l(`Batch "${w.name}" and its students have been deleted.`,"success")}catch(N){console.error("Failed to delete batch:",N),l("Failed to delete batch.","error")}},addWarden:async(w,S)=>{const N=n.find(R=>R.id===w);if(N)try{const R={wardenStudentId:S,assignedStudentIds:[]},U=[...N.wardens,R];await ol(w,{wardens:U}),l("Warden added successfully.","success")}catch(R){console.error("Error adding warden: ",R),l("Failed to add warden.","error")}},removeWarden:async(w,S)=>{const N=n.find(R=>R.id===w);if(N)try{const R=N.wardens.filter(U=>U.wardenStudentId!==S);await ol(w,{wardens:R}),l("Warden removed.","success")}catch(R){console.error("Error removing warden: ",R),l("Failed to remove warden.","error")}},assignStudentsToWarden:async(w,S,N)=>{const R=n.find(U=>U.id===w);if(R)try{const U=R.wardens.map(G=>G.wardenStudentId===S?{...G,assignedStudentIds:N}:G);await ol(w,{wardens:U}),l("Student assignments updated.","success")}catch(U){console.error("Error assigning students: ",U),l("Failed to assign students.","error")}}}},Kx=l=>{const[n,s]=Y.useState([]),[i,c]=Y.useState(!0),d=Y.useCallback(async()=>{c(!0);const{data:v,error:y}=await Ve.from("transactions").select("*").order("date",{ascending:!1});y?(console.error("Error fetching transactions:",y),l("Failed to load payment history.","error")):s(v),c(!1)},[l]);return Y.useEffect(()=>{d()},[d]),{transactions:n,loading:i,refetchTransactions:d,resetAllTransactions:async()=>{try{await yx(),s([]),l("All payment history has been reset.","success")}catch(v){console.error("Error resetting transactions:",v),l("Failed to reset payment history.","error")}},deleteSingleTransaction:async v=>{try{await vx(v),s(y=>y.filter(b=>b.id!==v)),l("Transaction deleted successfully.","success")}catch(y){console.error("Error during transaction deletion process:",y),l(y.message||"An unexpected error occurred.","error"),await d()}}}},Xx=({user:l,theme:n,toggleTheme:s})=>{const[i,c]=Y.useState(ot.Dashboard),[d,h]=Y.useState(null),m=Y.useCallback((Se,at="success")=>{h({id:Date.now(),message:Se,type:at})},[]),{students:v,loading:y,refetchStudents:b,addStudentWithImage:x,updateStudentWithImage:w,deleteStudentAndImage:S,deleteSelectedStudents:N,recordPayment:R}=Vx(m),{batches:U,loading:G,refetchBatches:$,createBatch:B,deleteBatch:J,addWarden:Q,removeWarden:I,assignStudentsToWarden:P}=Yx(m),{transactions:he,loading:Ee,refetchTransactions:We,resetAllTransactions:te,deleteSingleTransaction:ae}=Kx(m),Te=y||G||Ee,[Oe,ue]=Y.useState(!0);Y.useEffect(()=>{Oe&&!Te&&ue(!1)},[Te,Oe]);const[T,q]=Y.useState(!1),[X,de]=Y.useState(!1),[ie,j]=Y.useState(!1),[L,K]=Y.useState(null),[V,F]=Y.useState(null),[le,me]=Y.useState(null),[Le,ze]=Y.useState(null),[Sa,aa]=Y.useState(null),[Jt,Fa]=Y.useState(!1),na=async(Se,at)=>{await x(Se,at),await b(),q(!1)},Tn=Se=>{K(Se),j(!0)},Er=async(Se,at)=>{await w(Se,at),await b(),j(!1),K(null)},vl=Se=>{me(Se),Fa(!1)},Rs=async()=>{le&&(await S(le,Jt),me(null),await b(),Jt&&await We())},Tr=async Se=>{await N(Se),await b()},kr=async(Se,at)=>{await B(Se,at),await Promise.all([$(),b()])},Nr=async(Se,at)=>{await R(Se,at),await Promise.all([b(),We()]),aa(null)},pl=Se=>{ze(Se),Fa(!1)},bl=async()=>{Le&&(await J(Le,Jt),ze(null),await Promise.all([$(),b()]),Jt&&await We())},dt=async(Se,at)=>{await Q(Se,at),await $()},xl=async(Se,at)=>{await I(Se,at),await $()},Ds=async(Se,at,Wa)=>{await P(Se,at,Wa),await $()},Us=async()=>{await te(),await b()},kn=async Se=>{await ae(Se),await b()},wl=Y.useCallback(async()=>{await Promise.all([b(),$(),We()])},[b,$,We]),zs=()=>{if(Oe&&Te)return f.jsx("div",{className:"flex justify-center items-center h-full",children:f.jsx(sm,{})});switch(i){case ot.Students:return f.jsx(Tx,{students:v,onEditStudent:Tn,onDeleteStudent:vl,onDeleteSelected:Tr,onCreateBatch:kr,onRecordPayment:aa,onViewStudent:F});case ot.Batches:return f.jsx(Bx,{batches:U,students:v,onInitiateDeleteBatch:pl,onAddWarden:dt,onRemoveWarden:xl,onAssignStudents:Ds});case ot.Wardens:return f.jsx(qx,{batches:U,students:v});case ot.Payments:return f.jsx(Hx,{transactions:he,onResetHistory:Us,onDeleteTransaction:kn});case ot.Dashboard:default:return f.jsx(Ux,{students:v,batches:U,transactions:he})}};return f.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200",children:[f.jsx(Sx,{currentView:i,setView:c}),f.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[f.jsx(jx,{user:l,onAddStudent:()=>q(!0),onBulkUpload:()=>de(!0),theme:n,toggleTheme:s}),f.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 dark:bg-gray-900 p-6",children:zs()})]}),d&&f.jsx($x,{message:d.message,type:d.type,onClose:()=>h(null)},d.id),T&&f.jsx(kx,{isOpen:T,onClose:()=>q(!1),onSubmit:na,student:null}),ie&&L&&f.jsx(Nx,{student:L,onClose:()=>j(!1),onSave:Er}),X&&f.jsx(Ox,{isOpen:X,onClose:()=>de(!1),onUploadComplete:wl,existingStudents:v,existingBatches:U}),le&&f.jsx(As,{isOpen:!!le,onClose:()=>me(null),onConfirm:Rs,title:"Delete Student",message:`Are you sure you want to delete ${le.Name}? This action cannot be undone.`,confirmButtonVariant:"danger",children:f.jsxs("div",{className:"flex items-center space-x-3 bg-red-50 dark:bg-red-900/20 p-3 rounded-md mt-4",children:[f.jsx("input",{id:"delete-tx-student",type:"checkbox",checked:Jt,onChange:Se=>Fa(Se.target.checked),className:"h-4 w-4 text-red-600 bg-gray-100 border-gray-300 rounded focus:ring-red-500 dark:focus:ring-red-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),f.jsx("label",{htmlFor:"delete-tx-student",className:"text-sm text-red-800 dark:text-red-200",children:"Also permanently delete all payment history for this student."})]})}),Le&&f.jsx(As,{isOpen:!!Le,onClose:()=>ze(null),onConfirm:bl,title:`Delete Batch "${Le.name}"?`,message:`This will also delete all ${Le.studentIds.length} students in this batch. This action is permanent.`,confirmButtonText:"Confirm Deletion",confirmButtonVariant:"danger",children:f.jsxs("div",{className:"flex items-center space-x-3 bg-red-50 dark:bg-red-900/20 p-3 rounded-md mt-4",children:[f.jsx("input",{id:"delete-tx-batch",type:"checkbox",checked:Jt,onChange:Se=>Fa(Se.target.checked),className:"h-4 w-4 text-red-600 bg-gray-100 border-gray-300 rounded focus:ring-red-500 dark:focus:ring-red-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),f.jsx("label",{htmlFor:"delete-tx-batch",className:"text-sm text-red-800 dark:text-red-200",children:"Also permanently delete payment history for all students in this batch."})]})}),Sa&&f.jsx(Ax,{student:Sa,onClose:()=>aa(null),onSave:Nr}),V&&f.jsx(Gx,{student:V,onClose:()=>F(null),onPay:()=>{aa(V),F(null)},onEdit:()=>{Tn(V),F(null)}})]})},Qx=()=>{const[l,n]=Y.useState(null),[s,i]=Y.useState(!0),[c,d]=Y.useState(()=>{const m=localStorage.getItem("theme"),v=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return m||(v?"dark":"light")});Y.useEffect(()=>{const m=window.document.documentElement;c==="dark"?m.classList.add("dark"):m.classList.remove("dark"),localStorage.setItem("theme",c)},[c]),Y.useEffect(()=>{const{data:m}=ta.onAuthStateChange((v,y)=>{n((y==null?void 0:y.user)??null),i(!1)});return()=>{m.subscription.unsubscribe()}},[]);const h=()=>{d(m=>m==="light"?"dark":"light")};return s?f.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:f.jsx(sm,{})}):l?f.jsx(Xx,{user:l,theme:c,toggleTheme:h}):f.jsx(_x,{})},im=document.getElementById("root");if(!im)throw new Error("Could not find root element to mount to");const Px=zv.createRoot(im);Px.render(f.jsx(kv.StrictMode,{children:f.jsx(Qx,{})}));
